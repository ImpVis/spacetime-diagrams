{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?ef58","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/RGraph.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","projectName","scopedSlots","_u","fn","_v","proxy","staticClass","staticRenderFns","that","startingX","startX","xPosition","xSpeed","myTime","clockTick","currentTime","updatePosition","myTimeInterval","getSpeed","setSpeed","newSpeed","getPosition","setPosition","newPosition","reset","x","objectVelocity","StartPosition","StartTime","Position","Speed","addVelocities","sourceVelocity","Thickness","Extent","Colour","laserColour","missileTick","u","v","w","seed","z","a","newGraph","backgroundGraph","objectGraph","missileGraph","graphData","graphMissileData","Draw","showCountdown","showLasersRemaining","gameContext","font","fillStyle","textAlign","fillText","gameCanvasWidth","gameCanvasHeight","ufoSize","textRight","textTop","counterTime","maxTime","clearRect","toFixed","lasersRemaining","missilesRemaining","MissilePosition","numMissiles","missiles","currentPosition","Set","graphDataContext","globalCompositeOperation","PlotData","Math","floor","gameWidthLightSec","theContext","beginPath","rect","y","h","closePath","fill","stroke","backgroundGameContext","basey","baseWidth","baseHeight","drawImage","launchpad","ufox","ufoy","ufoVelocity","beamLength","missileScreen","counter","randomNumber","setSeed","ufoScreen","visibleStars","getElementById","textContent","simulationRunning","labelScreen","labelNextScreen","Date","now","timeZero","oldScreen","rocket1","drawUFO","drawMissiles","currentScreen","startPosition","innerHTML","Number","setButtons","missileData","missileColours","RGraph","drawBase","drawGraph","lasersAllowed","missilesAllowed","oldTime","timer","requestAnimationFrame","timerTick","cancelAnimationFrame","setupPage","canvasHeight","innerHeight","canvasWidth","innerWidth","min","max","style","width","graphMissileCanvas","height","graphCanvas","gameCanvas","backgroundGraphCanvas","backgroundGameCanvas","__rgraph_aa_translated__","missilePlotY","round","drawRandomStars","updateScale","ufo","StartStopSimulation","FireLaser","FireMissile","speedChanged","component","Vue","config","productionTip","use","ImpVis","ImpVisKatex","App","$mount","isRGraph","Highlight","Registry","store","background","objects","Resizing","events","cursor","ObjectRegistry","byUID","byCanvasID","PI","HALFPI","TWOPI","ISOPERA","navigator","userAgent","indexOf","ISCHROME","ISSAFARI","ISWEBKIT","empty","getScale","obj","original_max","Get","tmp","exp","ret","String","replace","interval","pow","topValue","getScale2","opt","RG","prop","canvas","context","properties","numlabels","units_pre","units_post","strict","decimals","point","thousand","scale","label","labels","max_str","numdecimals","abs","substring","toExponential","split","join","number_format","ceil","tmp_point","tmp_thousand","Boolean","array_max","arr","MathLocal","is_null","len","val","arguments","array_pad","array_sum","sum","array_linearize","args","sub","k","Text","size","text","match","dimensions","MeasureText","ISOLD","originalFillStyle","originalLineWidth","lineWidth","__rgraph_valign__","__rgraph_halign__","save","__rgraph_originalx__","__rgraph_originaly__","translate","rotate","vAlign","textBaseline","hAlign","measureText","width_offset","height_offset","ieOffset","strokeRect","fillRect","restore","Clear","ca","co","getContext","color","FireCustomEvent","__object__","ISIE8","id","img","position","left","top","HideTooltip","DrawTitle","gutterTop","gutterLeft","gutterRight","gutterBottom","bold","centerx","keypos","vpos","hpos","bgcolor","halign","valign","oldColor","newColor","Text2","getMouseXY","el","caStyle","offsetX","offsetY","ISFIXED","borderLeft","parseInt","borderLeftWidth","borderTop","borderTopWidth","paddingLeft","paddingTop","additionalX","additionalY","ISIE","offsetParent","offsetLeft","offsetTop","pageX","pageY","body","getCanvasXY","tagName","toLowerCase","border","isFixed","Register","Add","Redraw","objectRegistry","tags","noclear","RedrawCanvas","getObjectsByCanvasID","variant","angle","yaxis_title_pos","strokeStyle","vsize","hsize","setLineDash","moveTo","lineTo","array_clone","temp","arg","num","prepend","append","output","decimal","decimal_seperator","thousand_seperator","RegExp","$1","seperator","character","charAt","rev","substr","DrawBars","hbars","start","scale2","getYCoord","DrawInGraphLabels","labels_processed","NoShadow","coords","text_x","text_y","arc","FixEventObject","clientX","scrollLeft","clientY","scrollTop","srcElement","documentElement","stopPropagation","cancelBubble","HideCrosshairCoords","div","opacity","display","Draw3DAxes","OldBrowserCompat","textObj","offsetWidth","targetX","targetY","addEventListener","ev","func","bubble","attachEvent","strokedCurvyRect","corner_tl","corner_tr","corner_br","corner_bl","filledCurvyRect","HideZoomedCanvas","frames","__zoomedimage__","__zoomedbackground__","AddCustomEventListener","uid","SetConfig","RemoveAllCustomEventListeners","RemoveCustomEventListener","DrawBackgroundImage","__rgraph_background_image__","Image","__canvas__","__context__","__rgraph_background_image_loaded__","stretch","align","hasTooltips","CreateUID","random","toString","Remove","List","list","ClearByType","Iterate","types","getFirstObjectByXY","getObjectByXY","getObjectsByXY","getObjectByUID","bringToFront","redraw","getObjectsByType","getFirstObjectByType","getAngleByXY","cx","cy","atan","getHypLength","x1","y1","x2","y2","sqrt","getRadiusEndPoint","radius","cos","sin","InstallEventListeners","InstallCanvasClickListener","InstallWindowMousedownListener","InstallWindowMouseupListener","InstallCanvasMousemoveListener","InstallCanvasMouseupListener","InstallCanvasMousedownListener","onclick","onmousemove","alert","pr","indent","str","DashedLine","dx","dy","xLen","yLen","count","AJAX","url","callback","XMLHttpRequest","httpRequest","ActiveXObject","onreadystatechange","readyState","status","__user_callback__","responseText","open","send","POST","crumbs","setRequestHeader","encodeURIComponent","getNumber","parseFloat","getString","getJSON","json","eval","getCSV","regexp","RotateCanvas","__rgraph_measuretext_cache__","fontFamily","fontWeight","fontSize","offsetHeight","originalX","originalY","text_multiline","numlines","size_pixels","marker","boundingFill","boundingStroke","bounding","bounding_stroke","bounding_fill","bounding_shadow","bounding_shadow_color","bounding_shadow_blur","bounding_shadow_offsetx","bounding_shadow_offsety","bounding_linewidth","marker_size","strokestyle","boundingX","boundingY","boundingW","boundingH","pre_bounding_linewidth","pre_bounding_strokestyle","pre_bounding_fillstyle","pre_bounding_shadowcolor","shadowColor","pre_bounding_shadowblur","shadowBlur","pre_bounding_shadowoffsetx","shadowOffsetX","pre_bounding_shadowoffsety","shadowOffsetY","coordsText","sequentialIndexToGrouped","index","group","grouped_index","Array","forEach","scope","Rect","shape","Point","LinearGradient","color1","color2","gradient","createLinearGradient","numColors","stop","addColorStop","RadialGradient","r1","r2","createRadialGradient","array_shift","AddEventListener","ClearEventListeners","removeEventListener","__rgraph_mousedown_event_listener_installed__","__rgraph_mouseup_event_listener_installed__","__rgraph_mousemove_event_listener_installed__","__rgraph_click_event_listener_installed__","HidePalette","visibility","dp","array","SetShadow","offsetx","offsety","blur","array_reverse","newarr","degrees2Radians","degrees","log","base","is_array","constructor","trim","ltrim","rtrim","GetHeight","GetWidth","Timer","TIMER_LAST_CHECKPOINT","Async","isIE","isIE6","ISIE6","isIE7","ISIE7","isIE8","isIE9","ISIE9","isIE10","ISIE10","isIE9up","ISIE9UP","isIE10up","ISIE10UP","isOld","pd","variable","cl","Reset","Effects","Fade","jQuery","HBlinds","VBlinds","Slide","Pie","Bar","Line","Fuel","Rose","Odo","Gauge","Meter","HBar","HProgress","VProgress","Radar","Waterfall","Gantt","Thermometer","Scatter","CornerGauge","HScissors","VScissors","In","duration","Out","Expand","bounce","__rgraph_div_placeholder__","ReplaceCanvasWithDIV","animate","Contract","replacementDIV","cssFloat","insertBefore","Snap","delay","targetLeft","targetTop","targetWidth","targetHeight","Reveal","opts","xy","divs","backgroundColor","RevealCircular","ra","target_ra","Grow","clip","UpdateCanvas","Conceal","Open","Close","getRadius","Animate","original_data","__animation_frame__","ymax","numFrames","__original_hmargin__","__hmargin__","webkitRequestAnimationFrame","msRequestAnimationFrame","amozRequestAnimationFrame","frame","origValue","currentValue","newValue","diff","map","Animate_Iterator","__current_frame__","__original_values__","__diffs__","__steps__","__callback__","__total_frames__","overflow","from","to","Unfold","RoundRobin","currentFrame","original_margin","margin","RoundRobin_inner","UnfoldFromCenter","original_opacity","center_value","__increments__","dataset","UnfoldFromCenterTrace","Unfold_callback","half","Trace","FoldToCenter","totalFrames","numFrame","curFrame","step","Grow_inner","initial","Grow_meter_inner","xmax","__original_shadow_blur__","__original_vmargin__","__vmargin__","easing","__rgraph_trace_div__","canvas2","__rgraph_line_canvas2__","reposition_canvas2","obj2","__rgraph_trace_obj2__","original_fillstyle","__rgraph_trace_cover__","div2","Trace_callback","Trace2","targetRadius","Implode","distance","exploded","Implode_inner","Explode","Grow_single","Grow_multiple","totalframes","framenum","getMax","Wave2","Wave","idx","Iterator","initial_value","increment","original_events","Grow_gantt_inner","Function","oThis","aArgs","fToBind","fNOP","fBound","concat","__rgraph_scatter_trace_cover__","WaveFadeIn","$2","$3","WaveFadeOut","colorsParsed","parse","data_arr","parseColors","DrawMarks","DrawLine","AllowResizing","grapharea","DrawVBars","DrawAxes","DrawLabels","ShowContext","DrawKey","DrawAboveLabels","numyticks","xTickGap","xMin","yMin","text_size","numYLabels","invert","inside","boxed","halfTextHeight","halfGraphHeight","xPos","reversed_labels","numXLabels","units_pre_x","units_post_x","xmin","ds","xscale2","graphArea","xInterval","yPos","rightEdge","offset","getXCoord","default_color","data_point","xCoord","yCoord","tooltip","DrawMark","data_set_index","xMax","yMax","data_index","tickmarks","tickSize","halfTickSize","y0","y3","y4","col1","col2","boxWidth","halfBoxWidth","graphWidth","graphheight","xVal","yVal","lineCap","lineJoin","GetLineWidth","prevY","currY","stepped","linewidth","vbars","set","getShape","getPoint","mouseXY","mouseX","mouseY","parseTooltipText","index_adjusted","0","1","2","3","4","5","mark","6","7","x_val","y_val","x_pos","y_pos","getYValue","getValue","mouseCoords","getXValue","positionTooltip","coordX","coordY","canvasXY","isBoxplot","getYCoordFromValue","xaxispos","graphHeight","ymin","coord","Bubble","scatter","bubble_min","bubble_max","bubble_data","bubble_max_width","ondraw","parseSingleColorForGradient","colors","parts","grad","interactiveKeyHighlight"],"mappings":"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,OACA,OACA,KACA,KACA,OACA,IACA,IACA,IACA,QACA,MACA,MACA,MACA,KACA,KAGA,aACA,aAgBA,iBACQ,IAAI8B,GAAKC,EAAIC,IAAM,EAAID,EAAIC,GAC3B,OAAOF,GAOf,cACQ,IAGIG,EACAC,EAJA9E,EAAI,WACJ+E,EAAI,QACJ9E,EAAI,WAIR,MAAO,CACL,QAAV,YACY,EAAZ,+BACY,EAAZ,GAEU,IAAV,WAEY,OADA,GAAZ,SACA,MAdA,GAoBA,cACQ+E,EACR,qBACA,sBACA,qBACA,wBACA,0BACA,qBACA,yBACA,oBACA,2BACA,2BACA,2BACA,mCACA,qBACA,2BACA,2BACA,wBACA,uBACA,iCACA,iCACA,iCACA,kCACA,6CACA,6CACA,sBACA,yBACA,qBACA,qBACA,gBACA,kBACA,gCACA,8BACA,iBACA,4BACA,2BACA,kBACA,cACA,cACA,uBACA,cACA,cACA,gBAIA,gBACQA,EACR,qBACA,sBACA,qBACA,wBACA,0BACA,qBACA,yBACA,oBACA,sBACA,2BACA,2BACA,sBACA,qBACA,2BACA,2BACA,wBACA,uBACA,qBACA,iCACA,iCACA,iCACA,kCACA,6CACA,6CACA,sBACA,yBACA,qBACA,qBACA,gBACA,iBACA,4BACA,2BACA,kBACA,cACA,cACA,uBACA,kBACA,cACA,cACA,gBAIA,aAGaC,IACH,EAAV,+CACU,EAAV,GACU,EAAV,QAIaC,IACH,EAAV,qCACU,EAAV,QAIaC,IACH,EAAV,4CACU,EAAV,OAIQD,EAAYzK,KAAK,GAAK2K,EAKtB,IAAK,IAAIrK,EAAI,EAAGA,EAAIsK,EAAiBpK,OAAQF,IAC3C,EAAV,aAGQmK,EAAYI,OACZH,EAAaG,QAGrB,kBAEQC,KACAC,KAEAC,EAAYC,KAAO,kCACnBD,EAAYE,UAAY,QACxBF,EAAYG,UAAY,SACxBH,EAAYI,SAAS,UAAWC,EAAkB,GAAIC,EAAmBC,EAAU,GAAK,IAGhG,cACQ,IAAIC,EAAY,GAAKH,EAAkB,IACnCI,EAAUH,EAAmB,EAC7BI,GAAyB,IAAVC,EAAiBjD,GAAe,IACnDgD,E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","file":"js/app.4a787c60.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0c4639\":\"4790a3d3\",\"chunk-76e94462\":\"30e7b526\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-76e94462\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0c4639\":\"31d6cfe0\",\"chunk-76e94462\":\"0616178c\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('iv-visualisation',{attrs:{\"title\":_vm.projectName},scopedSlots:_vm._u([{key:\"hotspots\",fn:function(){return [_c('iv-pane',{attrs:{\"position\":\"left\",\"format\":\"push\"}},[_c('iv-sidebar-content',[_c('iv-sidebar-section',{attrs:{\"title\":\"Context\"}},[_c('p',[_vm._v(\" The year: 2096...\")]),_c('p',[_vm._v(\" Your mission: to master the navigational controls of the Starship Imperial. \")]),_c('p',[_vm._v(\" (This is not as easy as it sounds at relativistic speeds!) \")]),_c('p',[_vm._v(\" Observers on the mother ship will be tracking your progress on a Minkowski spacetime diagram. \")]),_c('p',[_vm._v(\" NOTE: You have been equipped with a laser gun and missiles, but use them sparingly! \")])])],1)],1)]},proxy:true}])},[_c('body',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"centre\"},[_c('div',{staticClass:\"gameFloat\",attrs:{\"id\":\"buttonDiv\"}},[_c('div',{attrs:{\"id\":\"graphDiv\"}},[_c('canvas',{attrs:{\"id\":\"graphCanvas\"}}),_c('canvas',{attrs:{\"id\":\"graphMissileCanvas\"}}),_c('canvas',{attrs:{\"id\":\"backgroundGraphCanvas\"}},[_vm._v(\"This browser does not support HTML5 graphics. Please try another, more modern browser.\")])]),_c('div',{attrs:{\"id\":\"gameDiv\"}},[_c('canvas',{attrs:{\"id\":\"gameCanvas\"}}),_c('canvas',{attrs:{\"id\":\"backgroundGameCanvas\"}}),_c('div',{attrs:{\"id\":\"scale\"}},[_c('p',{staticClass:\"floatright\",attrs:{\"id\":\"labelNextScreen\"}},[_vm._v(\"-\")]),_c('p',{staticClass:\"floatleft\",attrs:{\"id\":\"labelScreen\"}},[_vm._v(\"-\")]),_c('p',{attrs:{\"id\":\"speedLabel\"}},[_vm._v(\"VELOCITY: 0.000 c\")])])]),_c('input',{attrs:{\"type\":\"range\",\"id\":\"speedSlider\",\"list\":\"speed_list\",\"min\":\"-0.9\",\"max\":\"0.9\",\"step\":\"0.001\",\"value\":\"0.00\"}}),_c('div',{attrs:{\"id\":\"minusOneLabel\"}},[_vm._v(\"-0.9 c\")]),_c('div',{attrs:{\"id\":\"plusOneLabel\"}},[_vm._v(\"+0.9 c\")]),_c('div',{attrs:{\"id\":\"zeroLabel\"}},[_vm._v(\" 0.0 c\")]),_c('div',{attrs:{\"id\":\"sliderClear\"}}),_c('button',{attrs:{\"type\":\"button\",\"id\":\"LaserButton\"}},[_vm._v(\"Laser\")]),_c('button',{attrs:{\"type\":\"button\",\"id\":\"MissileButton\"}},[_vm._v(\"Missile\")]),_c('button',{attrs:{\"type\":\"button\",\"id\":\"StartStopButton\"}},[_vm._v(\"Start\")])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <iv-visualisation :title=\"projectName\">\n            <template #hotspots>\n                <iv-pane position=\"left\" format=\"push\">\n                    <iv-sidebar-content>\n                        <iv-sidebar-section title=\"Context\">\n                            <p>\n                The year: 2096...</p>\n            <p>\n                Your mission: to master the navigational controls of the Starship Imperial.\n            </p>\n            <p>\n                (This is not as easy as it sounds at relativistic speeds!)\n            </p>\n            <p>\n             Observers on the mother ship will be tracking your progress on a Minkowski spacetime diagram.\n            </p>\n            <p>\n                NOTE: You have been equipped with a laser gun and missiles, but use them sparingly!\n            </p>\n                        </iv-sidebar-section>\n                    </iv-sidebar-content>\n                </iv-pane>\n            </template>\n            <body>\n\t\t\n        <div class=\"container\">\n        <div class=\"centre\">\n\n\t\t<div class=\"gameFloat\" id=\"buttonDiv\">\n            <div id=\"graphDiv\">\n                <canvas id=\"graphCanvas\"></canvas>\n                <canvas id=\"graphMissileCanvas\"></canvas>\n                <canvas id=\"backgroundGraphCanvas\">This browser does not support HTML5 graphics. Please try another, more modern browser.</canvas>\n            </div>\n            <div id=\"gameDiv\">\n                <canvas id=\"gameCanvas\"></canvas>\n    \t\t    <canvas id=\"backgroundGameCanvas\"></canvas>\n                <div id=\"scale\">\n                    <p id=\"labelNextScreen\" class=\"floatright\">-</p>\n                    <p id=\"labelScreen\" class=\"floatleft\">-</p>\n                    <p id=\"speedLabel\">VELOCITY: 0.000 c</p>\n                </div>\n            </div>\n\n            <!-- The below line works on browsers which do NOT implement the HTML5 spec properly (e.g. IE) -->\n<!--        \n            <input type=\"range\" id=\"speedSlider\" list=\"speed_list\" min=\"-0.9\" max=\"0.9\" step=\"0.001\" value=\"0.00\" onchange=\"SpaceTimeModule.speedChanged(this.value)\" />\n-->\n\n            <!-- The below line works on browsers which implement the HTML5 spec properly (e.g. Chrome, Firefox, Opera) -->\n             <input type=\"range\" id=\"speedSlider\" list=\"speed_list\" min=\"-0.9\" max=\"0.9\" step=\"0.001\" value=\"0.00\" />\n\n            <!-- <datalist id=\"speed_list\">\n                <option value=\"-0.9\" label=\"-0.90 c\">\n                <option value=\"-0.45\" label=\"-0.45 c\">\n                <option value=\"0\" label=\"0.00 c\">\n                <option value=\"0.45\" label=\"0.45 c\">\n                <option value=\"0.9\" label=\"0.90 c\">\n            </datalist> -->\n\n            <div id =\"minusOneLabel\">-0.9 c</div>\n            <div id =\"plusOneLabel\">+0.9 c</div>\n            <div id =\"zeroLabel\">&nbsp;0.0 c</div>\n\n            <div id=\"sliderClear\"></div>\n\n\t\t    <button type=\"button\" id=\"LaserButton\" >Laser</button>\n\t\t    <button type=\"button\" id=\"MissileButton\" >Missile</button>\n\t\t    <button type=\"button\" id=\"StartStopButton\" >Start</button>\n\t\t</div>\n        </div>\n        </div>\n\t</body>\n        </iv-visualisation>\n    </div>\n</template>\n<script>\n\nimport RGraph from './lib/RGraph.js'\nimport './css/spacetime-intro.css';\nexport default {\n    name:\"App\",\n    data(){\n        return {\n            projectName: \"Spacetime Diagrams\"\n        }\n    },\n    mounted(){\n        /*eslint-disable */\n        // Workarounds for different browsers\nwindow.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                              window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\nwindow.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n// Enclose the entire simulation code in a module rather than using global namespace\nvar SpaceTimeModule = (function () {\n\n    // Define private (module level) parameters (these can be adjusted)\n    var graphTicks = 10;                    // interval between ticks on the graph in seconds\n    var totalTime = 6;                      // time to run the simulation in units of graphTicks\n    var gridLines = 0.2;                    // grid lines per light-sec\n    var startPosition = 0.05;               // position at which the ufo starts (in light-sec) - should be edge of mother ship\n    var lasersAllowed = 5;                  // too many lasers slows down the animation and makes it jerky\n    var missilesAllowed = 5;                // too many missiles slows down the animation and makes it jerky\n    var gameWidthLightSec = 1;              // number of light seconds represented by the width of the game canvas\n    var visibleStars = 50;                  // number of stars to display in the background of each screen\n    var missileSpeed = 0.25;                // speed of missiles relative to UFO (in units of c)\n    var missileColour = \"red\";              // colour of missiles\n    var laserColour = \"orange\";             // colour of laser pulses\n    var ufoWorldLineColour = \"blue\";        // colour of rocketship worldline\n\n    // Define constants (do not adjust)\n    var maxTime = totalTime * graphTicks;   // time to run the simulation in seconds\n    var ufoSize = 23;\t\t\t            // Height/width of the square UFO sprite\n    var baseHeight = 77;                    // Height of the mothership sprite\n    var baseWidth = 33;                     // Width of the mothership sprite\n    var leftGutter = 50;                    // width of gutter to left of the graph\n    var rightGutter = 30;                   // width of gutter to right of the graph\n    // var backgroundWidth = 400;              // pixel width of the background square\n    // var backgroundHeight = 100;             // pixel height of the background square\n\n    var basey;                              // y coordinate of mothership sprite\n    var gameCanvasHeight;\t\t            // Width of the canvas\n    var gameCanvasWidth;\t\t            // Width of the canvas\n    var ufoy; \t\t\t\t                // y coordinate of rocketship image\n    var missilePlotY;                       // y coordinate of missile\n\n    // ** Define private (module level) functional object constructors\n\n    var rocket = function (startX) {\n\n        // create a new object\n        var that = {};\n\n        // Define private properties\n        var startingX = startX;\n        var xPosition = startingX;\n        var xSpeed = 0;\n        var myTime = 0;\n\n        var clockTick = function (currentTime) {\n            var myTimeInterval = currentTime - myTime;\n            if (myTimeInterval > 0) {\n                myTime = currentTime;\n                updatePosition(myTimeInterval);\n            }\n        };\n\n        var updatePosition = function (myTimeInterval) {\n            xPosition += xSpeed * myTimeInterval / 1000; // myTimeInterval is in millisecs so convert to secs\n\n            // check for return to mother ship\n            if (xPosition <= startingX) {\n                xPosition = startingX;\n                xSpeed = 0;\n            }\n\n        };\n\n        // Expose public methods\n        that.getSpeed = function () {\n            return xSpeed;\n        };\n        that.setSpeed = function (newSpeed) {\n            xSpeed = newSpeed;\n        };\n        that.getPosition = function (currentTime) {\n            clockTick(currentTime);\n            return xPosition;\n        };\n        that.setPosition = function (newPosition) {\n            xPosition = newPosition;\n        };\n        that.reset = function (x) { // optionally allow a value to be specified for x at time t = 0\n            xPosition = (typeof x === \"undefined\") ? 0 : x; // if unspecified, x is set to zero at time t = 0\n            myTime = 0;\n        };\n        return that;\n    };\n\n    var missile = function (sourceVelocity, relativeSpeed) {\n        // create a new object\n        var that = {};\n\n        // work out object velocity from object speed (i.e. work out direction rocket is facing)\n        var objectVelocity = (relativeSpeed * sourceVelocity / Math.abs(sourceVelocity)) || relativeSpeed; // if ufo is stationary then fire to the right by default\n\n        // Define public properties and methods\n        that.StartPosition = 0;\n        that.StartTime = 0;\n        that.Position = 0;\n        that.Speed = addVelocities(sourceVelocity, objectVelocity);\n        that.Thickness = 2; // default used for laser\n        that.Extent = (ufoSize / 2); // default used for laser\n        that.Colour = laserColour; // default used for laser\n\n        that.missileTick = function (currentTime) {\n            // x = ct\n            that.Position = that.Speed * (currentTime - that.StartTime) / 1000 + that.StartPosition;\n        };\n        return that;\n    };\n\n    // ** Define private (module level) variables\n    var simulationRunning = false;\n    var graphMissileCanvas = document.getElementById(\"graphMissileCanvas\");\n    var graphCanvas = document.getElementById(\"graphCanvas\");\n    var gameCanvas = document.getElementById(\"gameCanvas\");\n    var backgroundGraphCanvas = document.getElementById(\"backgroundGraphCanvas\");\n    var backgroundGameCanvas = document.getElementById(\"backgroundGameCanvas\");\n    var gameContext = gameCanvas.getContext(\"2d\");\n    var backgroundGameContext = backgroundGameCanvas.getContext(\"2d\");\n    var graphDataContext = graphCanvas.getContext(\"2d\");\n    // var graphMissileContext = graphMissileCanvas.getContext(\"2d\");\n    var labelScreen = document.getElementById(\"labelScreen\");\n    var labelNextScreen = document.getElementById(\"labelNextScreen\");\n    var objectGraph = null;\n    var missileGraph = null;\n    var graphData = [];\n    var graphMissileData = [];\n    var backgroundGraph = null;\n    var currentTime = 0; // universal time\n    var oldTime = 0; // used to keep track of when graph was last updated\n    var ufoScreen = 0; // used to keep track of what screen the ufo is on (NB: the first screen is screen zero)\n    var rocket1 = rocket(startPosition);\n    var missiles = [];\n    var missileData = [];\n    var missileColours = [];\n    var lasersRemaining = lasersAllowed;\n    var missilesRemaining = missilesAllowed;\n\n    // image objects\n    var ufo = new Image();  \t    // Rocketship image\n    var launchpad = new Image();  \t// Mothership image\n\n    // functions\n    var setButtons;\n    var runSimulation;\n    var stopSimulation;\n    var setupPage;\n    var setUpBackgroundGraph;\n    var setUpGraph;\n    var drawGraph;\n    var timer;\n    var timeZero;\n\n    // ** Define private (module level) functions\n\n    // Einstein's addition of velocities formula (with velocities in units of c)\n    var addVelocities = function (v, w) {\n        var u = (v + w) / (1 + v * w);\n        return u;\n    };\n\n    // Define (Linear Congruential) pseudo-random number generator - used to plot the starscape background.\n    // The algorithm and parameters are explained on Wikipedia.\n    // Javascript's Math.random() function is no use as it does not accept a seed,\n    // meaning that a particular random number sequence cannot be reproduced.\n    var randomNumber = (function () {\n        var m = 4294967296\n        var a = 1664525\n        var c = 1013904223\n        var seed\n        var z;\n\n        return {\n            setSeed: function (seedValue) {\n                seed = seedValue || Math.floor(Math.random() * m); // if no seed given then pick a random one\n                z = seed;\n            },\n            rnd: function () {\n                z = (a * z + c) % m; // calculate the next \"random\" number in the sequence\n                return z / m;\n            }\n        };\n    }());\n\n    // this function defines the static background graph (ie. axes, labels and grid)\n    setUpBackgroundGraph = function (newGraph) {\n        newGraph\n            .Set('gutter.left', leftGutter)\n            .Set('gutter.right', rightGutter)\n            .Set('gutter.top', 30)\n            .Set('gutter.bottom', 50)\n            .Set('title.font', 'Arial')\n            .Set('title.bold', true)\n            .Set('text.font', 'Arial')\n            .Set('text.size', 10)\n            .Set('title.yaxis', 't / s')\n            .Set('title.yaxis.bold', false)\n            .Set('title.xaxis.bold', false)\n            .Set('title.xaxis', 'x / light-sec')\n            .Set('title.vpos', 0.5)\n            .Set('title.yaxis.pos', 0.35)\n            .Set('title.xaxis.pos', 0.35)\n            .Set('line.linewidth', 2)\n            .Set('line.stepped', false)\n            .Set('background.grid.border', false)\n            .Set('background.grid.hlines', true)\n            .Set('background.grid.vlines', true)\n            .Set('background.grid.autofit', true)\n            .Set('background.grid.autofit.numhlines', maxTime * gridLines)\n            .Set('background.grid.autofit.numvlines', maxTime * gridLines)\n            .Set('tickmarks', null)\n            .Set('ylabels.count', maxTime / graphTicks)\n            .Set('numyticks', maxTime / graphTicks)\n            .Set('numxticks', maxTime / graphTicks)\n            .Set('xaxis', true)\n            .Set('noyaxis', false)\n            .Set('chart.axis.color', 'black')\n            .Set('chart.axis.linewidth', 1)\n            .Set('xscale', true)\n            .Set('xscale.numlabels', maxTime / graphTicks)\n            .Set('xscale.zerostart', true)\n            .Set('ylabels', true)\n            .Set('ymin', 0)\n            .Set('ymax', maxTime)\n            .Set('yaxispos', 'left')\n            .Set('xmin', 0)\n            .Set('xmax', maxTime)\n            .Set('line', true);\n    };\n\n    // this function defines the dynamic foreground graphs (it shows the data but has NO axes, labels or grid)\n    setUpGraph = function (newGraph, lineColours) {\n        newGraph\n            .Set('gutter.left', leftGutter)\n            .Set('gutter.right', rightGutter)\n            .Set('gutter.top', 30)\n            .Set('gutter.bottom', 50)\n            .Set('title.font', 'Arial')\n            .Set('title.bold', true)\n            .Set('text.font', 'Arial')\n            .Set('text.size', 10)\n            .Set('title.yaxis', '')\n            .Set('title.yaxis.bold', false)\n            .Set('title.xaxis.bold', false)\n            .Set('title.xaxis', '')\n            .Set('title.vpos', 0.5)\n            .Set('title.yaxis.pos', 0.35)\n            .Set('title.xaxis.pos', 0.35)\n            .Set('line.linewidth', 2)\n            .Set('line.stepped', false)\n            .Set('line.colors', lineColours)\n            .Set('background.grid.border', false)\n            .Set('background.grid.hlines', false)\n            .Set('background.grid.vlines', false)\n            .Set('background.grid.autofit', true)\n            .Set('background.grid.autofit.numhlines', maxTime * gridLines)\n            .Set('background.grid.autofit.numvlines', maxTime * gridLines)\n            .Set('tickmarks', null)\n            .Set('ylabels.count', maxTime / graphTicks)\n            .Set('numyticks', maxTime / graphTicks)\n            .Set('numxticks', maxTime / graphTicks)\n            .Set('xaxis', false)\n            .Set('xscale', false)\n            .Set('xscale.numlabels', maxTime / graphTicks)\n            .Set('xscale.zerostart', true)\n            .Set('ylabels', false)\n            .Set('ymin', 0)\n            .Set('ymax', maxTime)\n            .Set('yaxispos', 'left')\n            .Set('noyaxis', true)\n            .Set('xmin', 0)\n            .Set('xmax', maxTime)\n            .Set('line', true);\n\n    };\n\n    drawGraph = function () {\n\n        // the static background graph - grid, axes, etc.\n        if (!backgroundGraph) {\n            backgroundGraph = new RGraph.Scatter('backgroundGraphCanvas', []);\n            setUpBackgroundGraph(backgroundGraph);\n            backgroundGraph.Draw();\n        }\n\n        // dynamic, data-only, graph for the ufo's worldline\n        if (!objectGraph) {\n            objectGraph = new RGraph.Scatter('graphCanvas', [])\n            setUpGraph(objectGraph, [ufoWorldLineColour]);\n        }\n\n        // dynamic, data-only, graph for missiles (e.g. lasers)\n        if (!missileGraph) {\n            missileGraph = new RGraph.Scatter('graphMissileCanvas', [])\n            setUpGraph(missileGraph, missileColours);\n        }\n\n        // Copy over the data points to the ufo worldline graph\n        objectGraph.data[0] = graphData;\n\n        // Copy over the data sets to the missile worldlines graph\n        // Need to do these individually as simply setting \"missileGraph.data = graphMissileData\"\n        // doesn't work for some reason.\n        for (var i = 0; i < graphMissileData.length; i++) {\n            missileGraph.data[i] = graphMissileData[i];\n        }\n\n        objectGraph.Draw();\n        missileGraph.Draw();\n    };\n\n    var showTimeUpMessage = function () {\n\n        showCountdown(); // has to be run AFTER the background images are drawn\n        showLasersRemaining();\n\n        gameContext.font = \"normal 26px 'VT323', sans-serif\";\n        gameContext.fillStyle = \"white\";\n        gameContext.textAlign = 'center'\n        gameContext.fillText(\"TIME UP\", gameCanvasWidth / 2, (gameCanvasHeight + ufoSize / 2) / 2);\n    };\n\n    var showCountdown = function () {\n        var textRight = 98 * gameCanvasWidth / 100;\n        var textTop = gameCanvasHeight / 6;\n        var counterTime = (maxTime * 1000 - currentTime) / 1000;\n        counterTime = (counterTime > 0) ? counterTime : 0;\n\n        gameContext.clearRect(2 * gameCanvasWidth / 3, 0, textRight, textTop + 1);\n\n        gameContext.font = \"normal 16px 'VT323', sans-serif\";\n        gameContext.fillStyle = \"white\";\n        gameContext.textAlign = 'end';\n        gameContext.fillText(\"TIME: \" + counterTime.toFixed(1), textRight, textTop);\n        \n    };\n\n    var showLasersRemaining = function () {\n        var textTop = gameCanvasHeight / 6;\n        gameContext.clearRect(0, 0, 2 * gameCanvasWidth / 3, textTop + 1);\n\n        gameContext.font = \"normal 16px 'VT323', sans-serif\";\n        gameContext.fillStyle = \"white\";\n        gameContext.textAlign = 'start';\n        gameContext.fillText(\"LASERS: \" + lasersRemaining + \"  MISSILES: \" + missilesRemaining, 2 * gameCanvasWidth / 100, textTop);\n\n    };\n\n    var updateGraph = function (currentPosition) {\n        var n;\n        var numMissiles = missiles.length;\n        var MissilePosition;\n\n        // First deal with any missiles\n        //\n        if (numMissiles > 0) {\n            n = 1;\n            for (; n < numMissiles; n++) {\n                MissilePosition = missiles[n].Position;\n                if (MissilePosition > 0) { // check whether missile worldline has disappeared off the left of the graph\n                    if (missileData[n][1] && MissilePosition !== missiles[n].startPosition) {\n                        missileData[n][0] = missileData[n][1];\n                    }\n                    graphMissileData[n - 1][1] = [MissilePosition, currentTime / 1000, 1];\n                    missileData[n][1] = [MissilePosition, currentTime / 1000, 1];\n                    missileGraph.data[n - 1] = missileData[n];\n                }\n            }\n        }\n\n        graphData.push([currentPosition, currentTime / 1000, 1]);\n        objectGraph.data[0].push([currentPosition, currentTime / 1000, 1]);\n\n        // erase the UFO's world line\n        objectGraph.Set('line.linewidth', 4);\n        graphDataContext.globalCompositeOperation = \"destination-out\";\n        objectGraph.PlotData(0);\n        objectGraph.Set('line.linewidth', 2);\n\n        // plot the UFO's world line\n        graphDataContext.globalCompositeOperation = \"source-over\";\n        objectGraph.PlotData(0);\n\n        // update the missiles' world lines\n        missileGraph.PlotData();\n    };\n\n    var currentScreen = function (x) {\n        return Math.floor(x / gameWidthLightSec);\n    };\n\n    var rect = function (theContext, x, y, w, h) {\n        theContext.beginPath();\n        theContext.rect(x, y, w, h);\n        theContext.closePath();\n        theContext.fill();\n        theContext.stroke();\n    };\n\n    var drawBase = function () {\n        backgroundGameContext.clearRect(0, basey, baseWidth, baseHeight);\n        backgroundGameContext.drawImage(launchpad, 0, basey);\n        \n        };\n\n    var drawUFO = function (ufoPosition, ufoVelocity) {\n        var ufox = ((ufoPosition / gameWidthLightSec) % 1) * gameCanvasWidth - ufoSize / 2;\n        //var length = Math.round(ufoSize * Math.sqrt(1 - ufoVelocity * ufoVelocity)); // contracted length - commented out as not currently illustrating length contraction\n\n        gameContext.clearRect(0, ufoy, gameCanvasWidth, ufoSize);\n\n        if (ufoVelocity < 0) {\n            gameContext.drawImage(ufo, 0, 0, ufoSize, ufoSize, ufox, ufoy, ufoSize, ufoSize);\n        }\n        else {\n            gameContext.drawImage(ufo, ufoSize, 0, ufoSize, ufoSize, ufox, ufoy, ufoSize, ufoSize);\n        }\n\n    };\n\n    // This function draws the missiles and laser pulses\n    var drawMissiles = function () {\n        var beamLength;\n        var n;\n        var missileScreen;\n\n        n = 1;\n        var numMissiles = missiles.length;\n        for (; n < numMissiles; n++) {\n            // var rocketX = rocket1.getPosition();\n            missiles[n].missileTick(currentTime);\n            var missileX = missiles[n].Position;\n\n            missileScreen = currentScreen(missileX); // find out which screen the missile is on\n            if (missileScreen === ufoScreen) { // only display missile if it's on the same screen as the ufo\n\n                beamLength = missiles[n].Extent;\n                gameContext.lineWidth = missiles[n].Thickness;\n                gameContext.strokeStyle = missiles[n].Colour;\n\n                gameContext.beginPath();\n\n                var missilePlotX = ((missileX / gameWidthLightSec) % 1) * gameCanvasWidth;\n\n                if (missilePlotX >= 0) {\n                    gameContext.moveTo(missilePlotX, missilePlotY);\n                    gameContext.lineTo(missilePlotX + beamLength, missilePlotY);\n                }\n\n                gameContext.fill();\n                gameContext.stroke();\n            }\n        }\n\n    }\n\n    var drawRandomStars = function () {\n        var counter = 1;\n        randomNumber.setSeed(ufoScreen + 1); // cannot use zero as a seed, so add one to the current screen\n        backgroundGameContext.clearRect(0, 0, gameCanvasWidth, gameCanvasHeight); // clear\n        for (; counter < visibleStars; counter++) {\n            var x = randomNumber.rnd() * gameCanvasWidth;\n            var y = randomNumber.rnd() * gameCanvasHeight;\n            var brightness = randomNumber.rnd();\n            backgroundGameContext.fillStyle = \"rgba(\" + 255 + \",\" + 255 + \",\" + 255 + \",\" + (brightness) + \")\";\n            backgroundGameContext.strokeStyle = \"rgba(\" + 255 + \",\" + 255 + \",\" + 255 + \",\" + (brightness) + \")\";\n            rect(backgroundGameContext, x, y, 1, 1);\n        }\n    };\n\n    setButtons = function () {\n        document.getElementById(\"StartStopButton\").textContent = simulationRunning ? \"Stop\" : \"Start\";\n    };\n\n    var updateScale = function () {\n        labelScreen.textContent = ufoScreen * gameWidthLightSec;\n        labelNextScreen.textContent = (ufoScreen + 1) * gameWidthLightSec;\n    };\n\n    var timerTick = function () {\n\n        currentTime = Date.now() - timeZero;\n\n        if (currentTime > maxTime * 1000) {\n            currentTime = maxTime * 1000;\n            doAnimation();\n            showTimeUpMessage();\n            window.cancelAnimationFrame(timer);\n            stopSimulation();\n        }\n        else {\n            doAnimation();\n            timer = requestAnimationFrame(timerTick);\n        }\n    };\n\n    var doAnimation = function () {\n        var oldScreen = ufoScreen;\n        var currentPosition = rocket1.getPosition(currentTime);\n        var ufoVelocity = rocket1.getSpeed();\n\n        drawUFO(currentPosition, ufoVelocity); // this clears the game screen so needs to be called before drawMissiles()\n        drawMissiles(); // this also updates the missiles' positions, so need to call this function before updateGraph()\n\n        if (currentTime > (oldTime + 100)) { // only update graph every 100 ms (to optimise for speed)\n            oldTime = currentTime;\n            updateGraph(currentPosition);\n        }\n\n        ufoScreen = currentScreen(currentPosition); // find out which screen the ufo is on\n        if (ufoScreen != oldScreen) {\n            // screen has changed, so...\n            updateScale();\n            drawRandomStars();\n            if (ufoScreen == 0) {\n                drawBase();\n            }\n        }\n\n        showCountdown(); // has to be run AFTER the background images are drawn\n\n        // if UFO has suddenly come to a halt, then reset the speed slider control to zero\n        if (ufoVelocity === 0) {\n            document.getElementById(\"speedSlider\").value = 0;\n            document.getElementById(\"speedLabel\").innerHTML = \"VELOCITY: \" + Number(0).toFixed(3) + \" c\";\n        }\n    };\n\n    runSimulation = function () {\n\n        currentTime = 0;\n        rocket1.reset(startPosition);\n        rocket1.setSpeed(0);\n        document.getElementById(\"speedSlider\").value = 0;\n        document.getElementById(\"speedLabel\").innerHTML = \"VELOCITY: \" + Number(0).toFixed(3) + \" c\";\n        simulationRunning = true;\n        setButtons();\n        missiles.length = 0;\n        missileData.length = 0;\n        missileColours.length = 0;\n        graphMissileData.length = 0;\n        graphData.length = 0;\n        objectGraph.data.length = 0;\n        missileGraph.data.length = 0;\n\n        RGraph.Clear(graphCanvas); // clear the graph data (worldlines)\n        RGraph.Clear(graphMissileCanvas); // clear the graph data (worldlines)\n        gameContext.clearRect(0, 0, gameCanvasWidth, gameCanvasHeight); // clear the game screen (sprites)\n\n        drawBase();\n        drawUFO(startPosition);\n        drawGraph();\n\n        rocket1.getPosition(currentTime);\n        lasersRemaining = lasersAllowed;\n        missilesRemaining = missilesAllowed;\n        showLasersRemaining();\n\n        oldTime = 0;\n        timeZero = Date.now();\n        \n        timer = requestAnimationFrame(timerTick);\n\n    };\n\n    stopSimulation = function () {\n        // Game over!\n        window.cancelAnimationFrame(timer);\n        simulationRunning = false;\n        setButtons();\n    };\n\n    // this function is called when the browser window is resized\n    var refreshPage = function () {\n        setupPage();\n\n        if (ufoScreen == 0) {\n            drawBase();\n        }\n\n        drawUFO(rocket1.getPosition());\n\n        showCountdown();\n        showLasersRemaining();\n\n        if (currentTime == maxTime * 1000) {\n            showTimeUpMessage();\n        }\n\n    };\n\n    setupPage = function () {\n        var canvasHeight = (window.innerHeight - 90) * 2 / 3;\n        var canvasWidth = window.innerWidth - 60;\n        canvasHeight = Math.min(canvasHeight, 110 + (canvasWidth - 100) / 2);\n\n        canvasHeight = Math.max(canvasHeight, 200); // 200px is the absolute minimum height allowed for the graph canvas\n        canvasWidth = canvasHeight;\n\n        document.getElementById(\"buttonDiv\").style.width = canvasWidth + \"px\";\n\n        graphMissileCanvas.height = canvasHeight;\n        graphMissileCanvas.width = canvasWidth;\n        graphCanvas.height = canvasHeight;\n        graphCanvas.width = canvasWidth;\n        //\n        gameCanvasWidth = canvasWidth + 1;\n        gameCanvasHeight = canvasHeight / 4;\n        gameCanvas.width = gameCanvasWidth;\n        gameCanvas.height = gameCanvasHeight;\n        \n        // now work out where to position the mothership sprite\n        basey = (gameCanvasHeight - baseHeight) / 2;\n\n        backgroundGraphCanvas.width = canvasWidth;\n        backgroundGraphCanvas.height = canvasHeight;\n        backgroundGameCanvas.width = gameCanvasWidth;\n        backgroundGameCanvas.height = gameCanvasHeight;\n\n        //\n\n        backgroundGraphCanvas.__rgraph_aa_translated__ = false; // changing dimensions requires antialiasing fix to be reapplied\n        backgroundGraph = null; // destroy graph so that it will be recreated (and hence redrawn) within the drawGraph() function\n\n        graphCanvas.__rgraph_aa_translated__ = false; // changing dimensions requires antialiasing fix to be reapplied\n        objectGraph = null; // destroy graph so that it will be recreated (and hence redrawn) within the drawGraph() function\n\n        graphMissileCanvas.__rgraph_aa_translated__ = false; // changing dimensions requires antialiasing fix to be reapplied\n        missileGraph = null; // destroy graph so that it will be recreated (and hence redrawn) within the drawGraph() function\n\n        drawGraph();\n        ufoy = (gameCanvasHeight - ufoSize) / 2;\n        missilePlotY = ufoy + Math.round(ufoSize / 2);\n\n        drawRandomStars();\n        updateScale();\n        //\n    };\n\n    var loadImages = function () {\n        launchpad.src = \"mothership.png\";\n        launchpad.onload = function () {\n            drawBase();\n        };\n        ufo.src = \"rocket.png\";\n        ufo.onload = function () {\n            drawUFO(startPosition);\n            showCountdown(); // has to be run AFTER the background images are drawn\n            showLasersRemaining();\n        };\n    };\n\n    //\n\n    // ** Main program code\n    setButtons();\n    window.addEventListener('resize', refreshPage, false); // Register an event listener to call refreshPage() when window is resized\n    setupPage();\n    loadImages();\n\n    //\n\n\n    return {\n        // Expose public methods which wrap the private ones\n        StartStopSimulation: function () {\n            if (!simulationRunning) {\n                runSimulation();\n            }\n            else {\n                stopSimulation();\n            }\n        },\n        FireLaser: function () {\n            if (simulationRunning && lasersRemaining > 0) {\n                // add a new laser to the missiles array\n                var n = missiles.length || 1;\n                var rocketSpeed = rocket1.getSpeed();\n                missiles[n] = missile(rocketSpeed, 1);\n                missiles[n].StartPosition = rocket1.getPosition()\n                missiles[n].StartTime = currentTime;\n                missileData[n] = []\n                graphMissileData[n - 1] = [];\n                graphMissileData[n - 1][0] = [missiles[n].StartPosition, missiles[n].StartTime / 1000, 1];\n                missileData[n].push([missiles[n].StartPosition, missiles[n].StartTime / 1000, 1]);\n                lasersRemaining -= 1; // reduce the number of laser shots left by one\n                showLasersRemaining();\n\n                // Set colour of this missile in the list of missile worldline colours.\n                // NB. this array is zero-indexed.\n                missileColours[n - 1] = missiles[n].Colour;\n                // set colours of graph lines to the updated list of missile worldline colours\n                missileGraph.Set('line.colors', missileColours);\n                \n            }\n        },\n        FireMissile: function () {\n            if (simulationRunning && missilesRemaining > 0) {\n                // add a new missile to the missiles array\n                var n = missiles.length || 1;\n                var rocketSpeed = rocket1.getSpeed();\n                missiles[n] = missile(rocketSpeed, missileSpeed);\n                missiles[n].StartPosition = rocket1.getPosition()\n                missiles[n].StartTime = currentTime;\n                missiles[n].Colour = missileColour;\n                missiles[n].Extent = ufoSize / 4;\n                missiles[n].Thickness = 4;\n                missileData[n] = []\n                graphMissileData[n - 1] = [];\n                graphMissileData[n - 1][0] = [missiles[n].StartPosition, missiles[n].StartTime / 1000, 1];\n                missileData[n].push([missiles[n].StartPosition, missiles[n].StartTime / 1000, 1]);\n                missilesRemaining -= 1; // reduce the number of missiles by one\n                showLasersRemaining(); // this displays number of lasers AND number of missiles remaining\n\n                // Set colour of this missile in the list of missile worldline colours.\n                // NB. this array is zero-indexed.\n                missileColours[n - 1] = missiles[n].Colour;\n                // set colours of graph lines to the updated list of missile worldline colours\n                missileGraph.Set('line.colors', missileColours);\n\n            }\n        },\n        speedChanged: function (newSpeed) {\n            newSpeed = parseFloat(newSpeed); // for some reason the range input control sends its value as a string, so need to convert to number\n            rocket1.setSpeed(newSpeed);\n            // now display the speed to 3 d.p.\n            document.getElementById(\"speedLabel\").innerHTML = \"VELOCITY: \" + Number(newSpeed).toFixed(3) + \" c\";\n        }\n    };\n\n})();\n        document.getElementById(\"LaserButton\").onmousedown = function(e){\n            SpaceTimeModule.FireLaser();\n            return e.preventDefault();\n        };\n\n        document.getElementById(\"MissileButton\").onmousedown = function(e){\n            SpaceTimeModule.FireMissile();\n            return e.preventDefault();\n        };\n\n        document.getElementById(\"StartStopButton\").onmousedown = function(e){\n            SpaceTimeModule.StartStopSimulation();\n            return e.preventDefault();\n        };\n\n        document.getElementById(\"speedSlider\").oninput = function(e){\n            SpaceTimeModule.speedChanged(this.value);\n            return e.preventDefault();\n        };\n        \n    }\n\n}\n    \n</script>\n\n<style>\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3eebd320&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ImpVis from \"@impvis/components\"\nimport \"@impvis/components/dist/impvis-components.css\"\n// TODO: Add in automated plugin uses for three + katex\nimport ImpVisKatex from \"@impvis/components-katex\"\nimport RGraph from \"./lib/RGraph.js\"\n\n\nVue.config.productionTip = false\nVue.use(ImpVis);\nVue.use(ImpVisKatex)\nVue.use(RGraph);\n\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","    /**\r\n    * o------------------------------------------------------------------------------o\r\n    * | This file is part of the RGraph package - you can learn more at:             |\r\n    * |                                                                              |\r\n    * |                          http://www.rgraph.net                               |\r\n    * |                                                                              |\r\n    * | This package is licensed under the RGraph license. For all kinds of business |\r\n    * | purposes there is a small one-time licensing fee to pay and for non          |\r\n    * | commercial  purposes it is free to use. You can read the full license here:  |\r\n    * |                                                                              |\r\n    * |                      http://www.rgraph.net/license                           |\r\n    * o------------------------------------------------------------------------------o\r\n    */\r\n\r\n    /**\r\n    * Initialise the various objects\r\n    */\r\n   /* eslint-disable */\r\n     if (typeof(RGraph) == 'undefined') var RGraph = {isRGraph:true,type:'common'};\r\n\r\n     RGraph.Highlight      = {};\r\n     RGraph.Registry       = {};\r\n     RGraph.Registry.store = [];\r\n     RGraph.Registry.store['chart.event.handlers']       = [];\r\n     RGraph.Registry.store['__rgraph_event_listeners__'] = []; // Used in the new system for tooltips\r\n     RGraph.background     = {};\r\n     RGraph.objects        = [];\r\n     RGraph.Resizing       = {};\r\n     RGraph.events         = [];\r\n     RGraph.cursor         = [];\r\n \r\n     RGraph.ObjectRegistry                    = {};\r\n     RGraph.ObjectRegistry.objects            = {};\r\n     RGraph.ObjectRegistry.objects.byUID      = [];\r\n     RGraph.ObjectRegistry.objects.byCanvasID = [];\r\n \r\n \r\n     /**\r\n     * Some \"constants\"\r\n     */\r\n     var PI       = Math.PI;\r\n     var HALFPI   = PI / 2;\r\n     var TWOPI    = PI * 2;\r\n    //  var ISFF     = navigator.userAgent.indexOf('Firefox') != -1;\r\n     var ISOPERA  = navigator.userAgent.indexOf('Opera') != -1;\r\n     var ISCHROME = navigator.userAgent.indexOf('Chrome') != -1;\r\n     var ISSAFARI = navigator.userAgent.indexOf('Safari') != -1 && !ISCHROME;\r\n     var ISWEBKIT = navigator.userAgent.indexOf('WebKit') != -1;\r\n     //ISIE     is defined below\r\n     //ISIE6    is defined below\r\n     //ISIE7    is defined below\r\n     //ISIE8    is defined below\r\n     //ISIE9    is defined below\r\n     //ISIE9    is defined below\r\n     //ISIE9UP  is defined below\r\n     //ISIE10   is defined below\r\n     //ISIE10UP is defined below\r\n     //ISOLD    is defined below\r\n \r\n \r\n     /**\r\n     * Returns five values which are used as a nice scale\r\n     * \r\n     * @param  max int    The maximum value of the graph\r\n     * @param  obj object The graph object\r\n     * @return     array   An appropriate scale\r\n     */\r\n     RGraph.getScale = function (max, obj)\r\n     {\r\n         /**\r\n         * Special case for 0\r\n         */\r\n         if (max == 0) {\r\n             return ['0.2', '0.4', '0.6', '0.8', '1.0'];\r\n         }\r\n \r\n         var original_max = max;\r\n \r\n         /**\r\n         * Manually do decimals\r\n         */\r\n         if (max <= 1) {\r\n             if (max > 0.5) {\r\n                 return [0.2,0.4,0.6,0.8, Number(1).toFixed(1)];\r\n \r\n             } else if (max >= 0.1) {\r\n                 return obj.Get('chart.scale.round') ? [0.2,0.4,0.6,0.8,1] : [0.1,0.2,0.3,0.4,0.5];\r\n \r\n             } else {\r\n \r\n                 var tmp = max;\r\n                 var exp = 0;\r\n \r\n                 while (tmp < 1.01) {\r\n                     exp += 1;\r\n                     tmp *= 10;\r\n                 }\r\n \r\n                 var ret = ['2e-' + exp, '4e-' + exp, '6e-' + exp, '8e-' + exp, '10e-' + exp];\r\n \r\n \r\n                 if (max <= ('5e-' + exp)) {\r\n                     ret = ['1e-' + exp, '2e-' + exp, '3e-' + exp, '4e-' + exp, '5e-' + exp];\r\n                 }\r\n \r\n                 return ret;\r\n             }\r\n         }\r\n \r\n         // Take off any decimals\r\n         if (String(max).indexOf('.') > 0) {\r\n             max = String(max).replace(/\\.\\d+$/, '');\r\n         }\r\n \r\n         var interval = Math.pow(10, Number(String(Number(max)).length - 1));\r\n         var topValue = interval;\r\n \r\n         while (topValue < max) {\r\n             topValue += (interval / 2);\r\n         }\r\n \r\n         // Handles cases where the max is (for example) 50.5\r\n         if (Number(original_max) > Number(topValue)) {\r\n             topValue += (interval / 2);\r\n         }\r\n \r\n         // Custom if the max is greater than 5 and less than 10\r\n         if (max < 10) {\r\n             topValue = (Number(original_max) <= 5 ? 5 : 10);\r\n         }\r\n         \r\n         /**\r\n         * Added 02/11/2010 to create \"nicer\" scales\r\n         */\r\n         if (obj && typeof(obj.Get('chart.scale.round')) == 'boolean' && obj.Get('chart.scale.round')) {\r\n             topValue = 10 * interval;\r\n         }\r\n \r\n         return [topValue * 0.2, topValue * 0.4, topValue * 0.6, topValue * 0.8, topValue];\r\n     }\r\n \r\n \r\n     /**\r\n     * Returns an appropriate scale. The return value is actualy anm object consiosting of:\r\n     *  scale.max\r\n     *  scale.min\r\n     *  scale.scale\r\n     * \r\n     * @param  obj object  The graph object\r\n     * @param  prop object An object consisting of configuration properties\r\n     * @return     object  An object containg scale information\r\n     */\r\n     RGraph.getScale2 = function (obj, opt)\r\n     {\r\n         var RG   = RGraph;\r\n         var ca   = obj.canvas;\r\n         var co   = obj.context;\r\n         var prop = obj.properties;\r\n         \r\n         var numlabels    = typeof(opt['ylabels.count']) == 'number' ? opt['ylabels.count'] : 5;\r\n         var units_pre    = typeof(opt['units.pre']) == 'string' ? opt['units.pre'] : '';\r\n         var units_post   = typeof(opt['units.post']) == 'string' ? opt['units.post'] : '';\r\n         var max          = Number(opt['max']);\r\n         var min          = typeof(opt['min']) == 'number' ? opt['min'] : 0;\r\n         var strict       = opt['strict'];\r\n         var decimals     = Number(opt['scale.decimals']); // Sometimes the default is null\r\n         var point        = opt['scale.point']; // Default is a string in all chart libraries so no need to cast it\r\n         var thousand     = opt['scale.thousand']; // Default is a string in all chart libraries so no need to cast it\r\n         var original_max = max;\r\n         var round        = opt['scale.round'];\r\n         var scale        = {'max':1,'labels':[]};\r\n \r\n \r\n \r\n         /**\r\n         * Special case for 0\r\n         * \r\n         * ** Must be first **\r\n         */\r\n         if (!max) {\r\n \r\n             var max   = 1;\r\n \r\n             var scale = {max:1,min:0,labels:[]};\r\n \r\n             for (var i=0; i<numlabels; ++i) {\r\n                 var label = ((((max - min) / numlabels) + min) * (i + 1)).toFixed(decimals);\r\n                 scale.labels.push(units_pre + label + units_post);\r\n             }\r\n \r\n         /**\r\n         * Manually do decimals\r\n         */\r\n         } else if (max <= 1 && !strict) {\r\n \r\n             if (max > 0.5) {\r\n \r\n                 max  = 1;\r\n                 min  = min;\r\n                 scale.min = min;\r\n \r\n                 for (var i=0; i<numlabels; ++i) {\r\n                     var label = ((((max - min) / numlabels) * (i + 1)) + min).toFixed(decimals);\r\n \r\n                     scale.labels.push(units_pre + label + units_post);\r\n                 }\r\n \r\n             } else if (max >= 0.1) {\r\n                 \r\n                 max   = 0.5;\r\n                 min   = min;\r\n                 scale = {'max': 0.5, 'min':min,'labels':[]}\r\n \r\n                 for (var i=0; i<numlabels; ++i) {\r\n                     var label = ((((max - min) / numlabels) + min) * (i + 1)).toFixed(decimals);\r\n                     scale.labels.push(units_pre + label + units_post);\r\n                 }\r\n \r\n             } else {\r\n \r\n                 scale = {'min':min,'labels':[]}\r\n                 var max_str = String(max);\r\n                 \r\n                 if (max_str.indexOf('e') > 0) {\r\n                     var numdecimals = Math.abs(max_str.substring(max_str.indexOf('e') + 1));\r\n                 } else {\r\n                     var numdecimals = String(max).length - 2;\r\n                 }\r\n \r\n                 var max = 1  / Math.pow(10,numdecimals - 1);\r\n \r\n                 for (var i=0; i<numlabels; ++i) {\r\n                     var label = ((((max - min) / numlabels) + min) * (i + 1));\r\n                         label = label.toExponential();\r\n                         label = label.split(/e/);\r\n                         label[0] = Math.round(label[0]);\r\n                         label = label.join('e');\r\n                     scale.labels.push(label);\r\n                 }\r\n \r\n                 //This makes the top scale value of the format 10e-2 instead of 1e-1\r\n                 tmp = scale.labels[scale.labels.length - 1].split(/e/);\r\n                 tmp[0] += 0;\r\n                 tmp[1] = Number(tmp[1]) - 1;\r\n                 tmp = tmp[0] + 'e' + tmp[1];\r\n                 scale.labels[scale.labels.length - 1] = tmp;\r\n                 \r\n                 // Add the units\r\n                 for (var i=0; i<scale.labels.length ; ++i) {\r\n                     scale.labels[i] = units_pre + scale.labels[i] + units_post;\r\n                 }\r\n                 \r\n                 scale.max = Number(max);\r\n             }\r\n \r\n \r\n         } else if (!strict) {\r\n \r\n \r\n             /**\r\n             * Now comes the scale handling for integer values\r\n             */\r\n \r\n \r\n             // This accomodates decimals by rounding the max up to the next integer\r\n             max = Math.ceil(max);\r\n \r\n             var interval = Math.pow(10, Math.max(1, Number(String(Number(max) - Number(min)).length - 1)) );\r\n \r\n             var topValue = interval;\r\n \r\n             while (topValue < max) {\r\n                 topValue += (interval / 2);\r\n             }\r\n     \r\n             // Handles cases where the max is (for example) 50.5\r\n             if (Number(original_max) > Number(topValue)) {\r\n                 topValue += (interval / 2);\r\n             }\r\n \r\n             // Custom if the max is greater than 5 and less than 10\r\n             if (max <= 10) {\r\n                 topValue = (Number(original_max) <= 5 ? 5 : 10);\r\n             }\r\n     \r\n     \r\n             // Added 02/11/2010 to create \"nicer\" scales\r\n             if (obj && typeof(round) == 'boolean' && round) {\r\n                 topValue = 10 * interval;\r\n             }\r\n \r\n             scale.max = topValue;\r\n \r\n             // Now generate the scale. Temporarily set the objects chart.scale.decimal and chart.scale.point to those\r\n             //that we've been given as the number_format functuion looks at those instead of using argumrnts.\r\n             var tmp_point    = prop['chart.scale.point'];\r\n             var tmp_thousand = prop['chart.scale.thousand'];\r\n \r\n             obj.Set('chart.scale.thousand', thousand);\r\n             obj.Set('chart.scale.point', point);\r\n \r\n \r\n             for (var i=0; i<numlabels; ++i) {\r\n                 scale.labels.push( RG.number_format(obj, ((((i+1) / numlabels) * (topValue - min)) + min).toFixed(decimals), units_pre, units_post) );\r\n             }\r\n \r\n             obj.Set('chart.scale.thousand', tmp_thousand);\r\n             obj.Set('chart.scale.point', tmp_point);\r\n         \r\n         } else if (typeof(max) == 'number' && strict) {\r\n \r\n             /**\r\n             * ymax is set and also strict\r\n             */\r\n             for (var i=0; i<numlabels; ++i) {\r\n                 scale.labels.push( RG.number_format(obj, ((((i+1) / numlabels) * (max - min)) + min).toFixed(decimals), units_pre, units_post) );\r\n             }\r\n             \r\n             // ???\r\n             scale.max = max;\r\n         }\r\n \r\n         \r\n         scale.units_pre  = units_pre;\r\n         scale.units_post = units_post;\r\n         scale.point      = point;\r\n         scale.decimals   = decimals;\r\n         scale.thousand   = thousand;\r\n         scale.numlabels  = numlabels;\r\n         scale.round      = Boolean(round);\r\n         scale.min        = min;\r\n \r\n \r\n         return scale;\r\n     }\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n     /**\r\n     * Returns the maximum numeric value which is in an array\r\n     * \r\n     * @param  array arr The array (can also be a number, in which case it's returned as-is)\r\n     * @param  int       Whether to ignore signs (ie negative/positive)\r\n     * @return int       The maximum value in the array\r\n     */\r\n     RGraph.array_max = function (arr)\r\n     {\r\n         var max       = null;\r\n         var MathLocal = Math;\r\n         \r\n         if (typeof(arr) == 'number') {\r\n             return arr;\r\n         }\r\n         \r\n         if (RGraph.is_null(arr)) {\r\n             return 0;\r\n         }\r\n \r\n         for (var i=0,len=arr.length; i<len; ++i) {\r\n             if (typeof(arr[i]) == 'number') {\r\n \r\n                 var val = arguments[1] ? MathLocal.abs(arr[i]) : arr[i];\r\n                 \r\n                 if (typeof max == 'number') {\r\n                     max = MathLocal.max(max, val);\r\n                 } else {\r\n                     max = val;\r\n                 }\r\n             }\r\n         }\r\n         \r\n         return max;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Returns the maximum value which is in an array\r\n     * \r\n     * @param  array arr The array\r\n     * @param  int   len The length to pad the array to\r\n     * @param  mixed     The value to use to pad the array (optional)\r\n     */\r\n     RGraph.array_pad = function (arr, len)\r\n     {\r\n         if (arr.length < len) {\r\n             var val = arguments[2] ? arguments[2] : null;\r\n             \r\n             for (var i=arr.length; i<len; i+=1) {\r\n                 arr[i] = val;\r\n             }\r\n         }\r\n         \r\n         return arr;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * An array sum function\r\n     * \r\n     * @param  array arr The  array to calculate the total of\r\n     * @return int       The summed total of the arrays elements\r\n     */\r\n     RGraph.array_sum = function (arr)\r\n     {\r\n         // Allow integers\r\n         if (typeof(arr) == 'number') {\r\n             return arr;\r\n         }\r\n         \r\n         // Account for null\r\n         if (RGraph.is_null(arr)) {\r\n             return 0;\r\n         }\r\n \r\n         var i, sum;\r\n         var len = arr.length;\r\n \r\n         for(i=0,sum=0;i<len;sum+=arr[i++]);\r\n         return sum;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Takes any number of arguments and adds them to one big linear array\r\n     * which is then returned\r\n     * \r\n     * @param ... mixed The data to linearise. You can strings, booleans, numbers or arrays\r\n     */\r\n     RGraph.array_linearize = function ()\r\n     {\r\n         var arr  = [];\r\n         var args = arguments;\r\n         var RG   = RGraph;\r\n \r\n         for (var i=0,len=args.length; i<len; ++i) {\r\n \r\n             if (typeof(args[i]) == 'object' && args[i]) {\r\n                 for (var j=0; j<args[i].length; ++j) {\r\n                     var sub = RG.array_linearize(args[i][j]);\r\n                     \r\n                     for (var k=0; k<sub.length; ++k) {\r\n                         arr.push(sub[k]);\r\n                     }\r\n                 }\r\n             } else {\r\n                 arr.push(args[i]);\r\n             }\r\n         }\r\n \r\n         return arr;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This is a useful function which is basically a shortcut for drawing left, right, top and bottom alligned text.\r\n     * \r\n     * @param object context The context\r\n     * @param string font    The font\r\n     * @param int    size    The size of the text\r\n     * @param int    x       The X coordinate\r\n     * @param int    y       The Y coordinate\r\n     * @param string text    The text to draw\r\n     * @parm  string         The vertical alignment. Can be null. \"center\" gives center aligned  text, \"top\" gives top aligned text.\r\n     *                       Anything else produces bottom aligned text. Default is bottom.\r\n     * @param  string        The horizontal alignment. Can be null. \"center\" gives center aligned  text, \"right\" gives right aligned text.\r\n     *                       Anything else produces left aligned text. Default is left.\r\n     * @param  bool          Whether to show a bounding box around the text. Defaults not to\r\n     * @param int            The angle that the text should be rotate at (IN DEGREES)\r\n     * @param string         Background color for the text\r\n     * @param bool           Whether the text is bold or not\r\n     */\r\n     RGraph.Text = function (context, font, size, x, y, text)\r\n     {\r\n         // \"Cache\" the args as a local variable\r\n         var args = arguments;\r\n \r\n         // Handle undefined - change it to an empty string\r\n         if ((typeof(text) != 'string' && typeof(text) != 'number') || text == 'undefined') {\r\n             return;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This accommodates multi-line text\r\n         */\r\n         if (typeof(text) == 'string' && text.match(/\\r\\n/)) {\r\n \r\n             var dimensions = RGraph.MeasureText('M', args[11], font, size);\r\n \r\n             /**\r\n             * Measure the text (width and height)\r\n             */\r\n \r\n             var arr = text.split('\\r\\n');\r\n \r\n             /**\r\n             * Adjust the Y position\r\n             */\r\n             \r\n             // This adjusts the initial y position\r\n             if (args[6] && args[6] == 'center') y = (y - (dimensions[1] * ((arr.length - 1) / 2)));\r\n \r\n             for (var i=1; i<arr.length; ++i) {\r\n     \r\n                 RGraph.Text(context,\r\n                             font,\r\n                             size,\r\n                             args[9] == -90 ? (x + (size * 1.5)) : x,\r\n                             y + (dimensions[1] * i),\r\n                             arr[i],\r\n                             args[6] ? args[6] : null,\r\n                             args[7],\r\n                             args[8],\r\n                             args[9],\r\n                             args[10],\r\n                             args[11],\r\n                             args[12]);\r\n             }\r\n             \r\n             // Update text to just be the first line\r\n             text = arr[0];\r\n         }\r\n \r\n \r\n         // Accommodate MSIE\r\n         if (document.all && ISOLD) {\r\n             y += 2;\r\n         }\r\n \r\n \r\n         context.font = (args[11] ? 'Bold ': '') + size + 'pt ' + font;\r\n \r\n         var i;\r\n         var origX = x;\r\n         var origY = y;\r\n         var originalFillStyle = context.fillStyle;\r\n         var originalLineWidth = context.lineWidth;\r\n \r\n         // Need these now the angle can be specified, ie defaults for the former two args\r\n         if (typeof(args[6])  == 'undefined') args[6]  = 'bottom'; // Vertical alignment. Default to bottom/baseline\r\n         if (typeof(args[7])  == 'undefined') args[7]  = 'left';   // Horizontal alignment. Default to left\r\n         if (typeof(args[8])  == 'undefined') args[8]  = null;     // Show a bounding box. Useful for positioning during development. Defaults to false\r\n         if (typeof(args[9])  == 'undefined') args[9]  = 0;        // Angle (IN DEGREES) that the text should be drawn at. 0 is middle right, and it goes clockwise\r\n \r\n         // The alignment is recorded here for purposes of Opera compatibility\r\n         if (navigator.userAgent.indexOf('Opera') != -1) {\r\n             context.canvas.__rgraph_valign__ = args[6];\r\n             context.canvas.__rgraph_halign__ = args[7];\r\n         }\r\n \r\n         // First, translate to x/y coords\r\n         context.save();\r\n \r\n             context.canvas.__rgraph_originalx__ = x;\r\n             context.canvas.__rgraph_originaly__ = y;\r\n \r\n             context.translate(x, y);\r\n             x = 0;\r\n             y = 0;\r\n \r\n             // Rotate the canvas if need be\r\n             if (args[9]) {\r\n                 context.rotate(args[9] / (180 / PI));\r\n             }\r\n \r\n \r\n             // Vertical alignment - defaults to bottom\r\n             if (args[6]) {\r\n \r\n                 var vAlign = args[6];\r\n \r\n                 if (vAlign == 'center') {\r\n                     context.textBaseline = 'middle';\r\n                 } else if (vAlign == 'top') {\r\n                     context.textBaseline = 'top';\r\n                 }\r\n             }\r\n \r\n \r\n             // Hoeizontal alignment - defaults to left\r\n             if (args[7]) {\r\n \r\n                 var hAlign = args[7];\r\n                 var width  = context.measureText(text).width;\r\n     \r\n                 if (hAlign) {\r\n                     if (hAlign == 'center') {\r\n                         context.textAlign = 'center';\r\n                     } else if (hAlign == 'right') {\r\n                         context.textAlign = 'right';\r\n                     }\r\n                 }\r\n             }\r\n             \r\n             \r\n             context.fillStyle = originalFillStyle;\r\n \r\n             /**\r\n             * Draw a bounding box if requested\r\n             */\r\n             context.save();\r\n                  context.fillText(text,0,0);\r\n                  context.lineWidth = 1;\r\n \r\n                 var width = context.measureText(text).width;\r\n                 var width_offset = (hAlign == 'center' ? (width / 2) : (hAlign == 'right' ? width : 0));\r\n                 var height = size * 1.5; // !!!\r\n                 var height_offset = (vAlign == 'center' ? (height / 2) : (vAlign == 'top' ? height : 0));\r\n                 var ieOffset = ISOLD ? 2 : 0;\r\n \r\n                 if (args[8]) {\r\n \r\n                     context.strokeRect(-3 - width_offset,\r\n                                        0 - 3 - height - ieOffset + height_offset,\r\n                                        width + 6,\r\n                                        height + 6);\r\n                     /**\r\n                     * If requested, draw a background for the text\r\n                     */\r\n                     if (args[10]) {\r\n                         context.fillStyle = args[10];\r\n                         context.fillRect(-3 - width_offset,\r\n                                            0 - 3 - height - ieOffset + height_offset,\r\n                                            width + 6,\r\n                                            height + 6);\r\n                     }\r\n \r\n                     \r\n                     context.fillStyle = originalFillStyle;\r\n \r\n \r\n                     /**\r\n                     * Do the actual drawing of the text\r\n                     */\r\n                     context.fillText(text,0,0);\r\n                 }\r\n             context.restore();\r\n             \r\n             // Reset the lineWidth\r\n             context.lineWidth = originalLineWidth;\r\n \r\n         context.restore();\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Clears the canvas by setting the width. You can specify a colour if you wish.\r\n     * \r\n     * @param object canvas The canvas to clear\r\n     */\r\n     RGraph.Clear = function (ca)\r\n     {\r\n         var RG    = RGraph;\r\n         var co    = ca.getContext('2d');\r\n         var color = arguments[1];\r\n \r\n         if (!ca) {\r\n             return;\r\n         }\r\n         \r\n         RG.FireCustomEvent(ca.__object__, 'onbeforeclear');\r\n \r\n         if (ISIE8 && !color) {\r\n             color = 'white';\r\n         }\r\n \r\n         /**\r\n         * Can now clear the canvas back to fully transparent\r\n         */\r\n         if (!color || (color && color == 'rgba(0,0,0,0)' || color == 'transparent')) {\r\n \r\n             co.clearRect(0,0,ca.width, ca.height);\r\n             \r\n             // Reset the globalCompositeOperation\r\n             co.globalCompositeOperation = 'source-over';\r\n \r\n         } else {\r\n \r\n             co.fillStyle = color;\r\n             co.beginPath();\r\n \r\n             if (ISIE8) {\r\n                 co.fillRect(0,0,ca.width,ca.height);\r\n             } else {\r\n                 co.fillRect(-10,-10,ca.width + 20,ca.height + 20);\r\n             }\r\n \r\n             co.fill();\r\n         }\r\n         \r\n         //if (RG.ClearAnnotations) {\r\n             //RG.ClearAnnotations(ca.id);\r\n         //}\r\n         \r\n         /**\r\n         * This removes any background image that may be present\r\n         */\r\n         if (RG.Registry.Get('chart.background.image.' + ca.id)) {\r\n             var img = RG.Registry.Get('chart.background.image.' + ca.id);\r\n             img.style.position = 'absolute';\r\n             img.style.left     = '-10000px';\r\n             img.style.top      = '-10000px';\r\n         }\r\n         \r\n         /**\r\n         * This hides the tooltip that is showing IF it has the same canvas ID as\r\n         * that which is being cleared\r\n         */\r\n         if (RG.Registry.Get('chart.tooltip')) {\r\n             RG.HideTooltip(ca);\r\n             //RG.Redraw();\r\n         }\r\n \r\n         /**\r\n         * Set the cursor to default\r\n         */\r\n         ca.style.cursor = 'default';\r\n \r\n         RG.FireCustomEvent(ca.__object__, 'onclear');\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws the title of the graph\r\n     * \r\n     * @param object  canvas The canvas object\r\n     * @param string  text   The title to write\r\n     * @param integer gutter The size of the gutter\r\n     * @param integer        The center X point (optional - if not given it will be generated from the canvas width)\r\n     * @param integer        Size of the text. If not given it will be 14\r\n     */\r\n     RGraph.DrawTitle = function (obj, text, gutterTop)\r\n     {\r\n         var RG           = RGraph;\r\n         var ca = obj.canvas;\r\n         var co = obj.context;\r\n         var canvas  = obj.canvas;\r\n         var context = obj.context;\r\n         var prop         = obj.properties;\r\n \r\n         var gutterLeft   = prop['chart.gutter.left'];\r\n         var gutterRight  = prop['chart.gutter.right'];\r\n         var gutterTop    = gutterTop;\r\n         var gutterBottom = prop['chart.gutter.bottom'];\r\n         var size         = arguments[4] ? arguments[4] : 12;\r\n         var bold         = prop['chart.title.bold'];\r\n         var centerx      = (arguments[3] ? arguments[3] : ((ca.width - gutterLeft - gutterRight) / 2) + gutterLeft);\r\n         var keypos       = prop['chart.key.position'];\r\n         var vpos         = prop['chart.title.vpos'];\r\n         var hpos         = prop['chart.title.hpos'];\r\n         var bgcolor      = prop['chart.title.background'];\r\n         var x            = prop['chart.title.x'];\r\n         var y            = prop['chart.title.y'];\r\n         var halign       = 'center';\r\n         var valign       = 'center';\r\n \r\n         // Account for 3D effect by faking the key position\r\n         if (obj.type == 'bar' && prop['chart.variant'] == '3d') {\r\n             keypos = 'gutter';\r\n         }\r\n \r\n         co.beginPath();\r\n         co.fillStyle = prop['chart.text.color'] ? prop['chart.text.color'] : 'black';\r\n \r\n \r\n \r\n \r\n \r\n         /**\r\n         * Vertically center the text if the key is not present\r\n         */\r\n         if (keypos && keypos != 'gutter') {\r\n             var valign = 'center';\r\n \r\n         } else if (!keypos) {\r\n             var valign = 'center';\r\n \r\n         } else {\r\n             var valign = 'bottom';\r\n         }\r\n \r\n \r\n \r\n \r\n \r\n         // if chart.title.vpos is a number, use that\r\n         if (typeof(prop['chart.title.vpos']) == 'number') {\r\n             vpos = prop['chart.title.vpos'] * gutterTop;\r\n \r\n             if (prop['chart.xaxispos'] == 'top') {\r\n                 vpos = prop['chart.title.vpos'] * gutterBottom + gutterTop + (ca.height - gutterTop - gutterBottom);\r\n             }\r\n \r\n         } else {\r\n             vpos = gutterTop - size - 5;\r\n \r\n             if (prop['chart.xaxispos'] == 'top') {\r\n                 vpos = ca.height  - gutterBottom + size + 5;\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         // if chart.title.hpos is a number, use that. It's multiplied with the (entire) canvas width\r\n         if (typeof(hpos) == 'number') {\r\n             centerx = hpos * ca.width;\r\n         }\r\n \r\n         /**\r\n         * Now the chart.title.x and chart.title.y settings override (is set) the above\r\n         */\r\n         if (typeof(x) == 'number') centerx = x;\r\n         if (typeof(y) == 'number') vpos    = y;\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Horizontal alignment can now (Jan 2013) be specified\r\n         */\r\n         if (typeof(prop['chart.title.halign']) == 'string') {\r\n             halign = prop['chart.title.halign'];\r\n         }\r\n         \r\n         /**\r\n         * Vertical alignment can now (Jan 2013) be specified\r\n         */\r\n         if (typeof(prop['chart.title.valign']) == 'string') {\r\n             valign = prop['chart.title.valign'];\r\n         }\r\n \r\n \r\n \r\n \r\n         \r\n         // Set the colour\r\n         if (typeof(prop['chart.title.color'] != null)) {\r\n             var oldColor = co.fillStyle\r\n             var newColor = prop['chart.title.color']\r\n             co.fillStyle = newColor ? newColor : 'black';\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Default font is Arial\r\n         */\r\n         var font = prop['chart.text.font'];\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Override the default font with chart.title.font\r\n         */\r\n         if (typeof(prop['chart.title.font']) == 'string') {\r\n             font = prop['chart.title.font'];\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draw the title\r\n         */\r\n         RG.Text2(obj,{'font':font,\r\n                           'size':size,\r\n                           'x':centerx,\r\n                           'y':vpos,\r\n                           'text':text,\r\n                           'valign':valign,\r\n                           'halign':halign,\r\n                           'bounding':bgcolor != null,\r\n                           'bounding.fill':bgcolor,\r\n                           'bold':bold,\r\n                           'tag':'title'\r\n                          });\r\n         \r\n         // Reset the fill colour\r\n         co.fillStyle = oldColor;\r\n     }\r\n \r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function returns the mouse position in relation to the canvas\r\n     * \r\n     * @param object e The event object.\r\n     *\r\n     RGraph.getMouseXY = function (e)\r\n     {\r\n         var el = (ISOLD ? event.srcElement : e.target);\r\n         var x;\r\n         var y;\r\n \r\n         // ???\r\n         var paddingLeft = el.style.paddingLeft ? parseInt(el.style.paddingLeft) : 0;\r\n         var paddingTop  = el.style.paddingTop ? parseInt(el.style.paddingTop) : 0;\r\n         var borderLeft  = el.style.borderLeftWidth ? parseInt(el.style.borderLeftWidth) : 0;\r\n         var borderTop   = el.style.borderTopWidth  ? parseInt(el.style.borderTopWidth) : 0;\r\n         \r\n         if (ISIE8) e = event;\r\n \r\n         // Browser with offsetX and offsetY\r\n         if (typeof(e.offsetX) == 'number' && typeof(e.offsetY) == 'number') {\r\n             x = e.offsetX;\r\n             y = e.offsetY;\r\n \r\n         // FF and other\r\n         } else {\r\n             x = 0;\r\n             y = 0;\r\n \r\n             while (el != document.body && el) {\r\n                 x += el.offsetLeft;\r\n                 y += el.offsetTop;\r\n \r\n                 el = el.offsetParent;\r\n             }\r\n \r\n             x = e.pageX - x;\r\n             y = e.pageY - y;\r\n         }\r\n \r\n         return [x, y];\r\n     }*/\r\n \r\n \r\n     RGraph.getMouseXY = function(e)\r\n     {\r\n         var el      = e.target;\r\n         var ca      = el;\r\n         var caStyle = ca.style;\r\n         var offsetX = 0;\r\n         var offsetY = 0;\r\n         var x;\r\n         var y;\r\n         var ISFIXED     = (ca.style.position == 'fixed');\r\n         var borderLeft  = parseInt(caStyle.borderLeftWidth) || 0;\r\n         var borderTop   = parseInt(caStyle.borderTopWidth) || 0;\r\n         var paddingLeft = parseInt(caStyle.paddingLeft) || 0\r\n         var paddingTop  = parseInt(caStyle.paddingTop) || 0\r\n         var additionalX = borderLeft + paddingLeft;\r\n         var additionalY = borderTop + paddingTop;\r\n \r\n \r\n         if (typeof(e.offsetX) == 'number' && typeof(e.offsetY) == 'number') {\r\n \r\n             if (ISFIXED) {\r\n                 if (ISOPERA) {\r\n                     x = e.offsetX;\r\n                     y = e.offsetY;\r\n                 \r\n                 } else if (ISWEBKIT) {\r\n                     x = e.offsetX - paddingLeft - borderLeft;\r\n                     y = e.offsetY - paddingTop - borderTop;\r\n                 \r\n                 } else if (ISIE) {\r\n                     x = e.offsetX - paddingLeft;\r\n                     y = e.offsetY - paddingTop;\r\n     \r\n                 } else {\r\n                     x = e.offsetX;\r\n                     y = e.offsetY;\r\n                 }\r\n     \r\n     \r\n     \r\n     \r\n             } else {\r\n     \r\n     \r\n     \r\n     \r\n                 if (!ISIE && !ISOPERA) {\r\n                     x = e.offsetX - borderLeft - paddingLeft;\r\n                     y = e.offsetY - borderTop - paddingTop;\r\n                 \r\n                 } else if (ISIE) {\r\n                     x = e.offsetX - paddingLeft;\r\n                     y = e.offsetY - paddingTop;\r\n                 \r\n                 } else {\r\n                     x = e.offsetX;\r\n                     y = e.offsetY;\r\n                 }\r\n             }   \r\n \r\n         } else {\r\n \r\n             if (typeof(el.offsetParent) != 'undefined') {\r\n                 do {\r\n                     offsetX += el.offsetLeft;\r\n                     offsetY += el.offsetTop;\r\n                 } while ((el = el.offsetParent));\r\n             }\r\n \r\n             x = e.pageX - offsetX - additionalX;\r\n             y = e.pageY - offsetY - additionalY;\r\n \r\n             x -= (2 * (parseInt(document.body.style.borderLeftWidth) || 0));\r\n             y -= (2 * (parseInt(document.body.style.borderTopWidth) || 0));\r\n \r\n             //x += (parseInt(caStyle.borderLeftWidth) || 0);\r\n             //y += (parseInt(caStyle.borderTopWidth) || 0);\r\n         }\r\n \r\n         // We return a javascript array with x and y defined\r\n         return [x, y];\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function returns a two element array of the canvas x/y position in\r\n     * relation to the page\r\n     * \r\n     * @param object canvas\r\n     */\r\n     RGraph.getCanvasXY = function (canvas)\r\n     {\r\n         var x  = 0;\r\n         var y  = 0;\r\n         var el = canvas; // !!!\r\n \r\n         do {\r\n \r\n             x += el.offsetLeft;\r\n             y += el.offsetTop;\r\n             \r\n             // ACCOUNT FOR TABLES IN wEBkIT\r\n             if (el.tagName.toLowerCase() == 'table' && (ISCHROME || ISSAFARI)) {\r\n                 x += parseInt(el.border) || 0;\r\n                 y += parseInt(el.border) || 0;\r\n             }\r\n \r\n             el = el.offsetParent;\r\n \r\n         } while (el && el.tagName.toLowerCase() != 'body');\r\n \r\n \r\n         var paddingLeft = canvas.style.paddingLeft ? parseInt(canvas.style.paddingLeft) : 0;\r\n         var paddingTop  = canvas.style.paddingTop ? parseInt(canvas.style.paddingTop) : 0;\r\n         var borderLeft  = canvas.style.borderLeftWidth ? parseInt(canvas.style.borderLeftWidth) : 0;\r\n         var borderTop   = canvas.style.borderTopWidth  ? parseInt(canvas.style.borderTopWidth) : 0;\r\n \r\n         if (navigator.userAgent.indexOf('Firefox') > 0) {\r\n             x += parseInt(document.body.style.borderLeftWidth) || 0;\r\n             y += parseInt(document.body.style.borderTopWidth) || 0;\r\n         }\r\n \r\n         return [x + paddingLeft + borderLeft, y + paddingTop + borderTop];\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function determines whther a canvas is fixed (CSS positioning) or not. If not it returns\r\n     * false. If it is then the element that is fixed is returned (it may be a parent of the canvas).\r\n     * \r\n     * @return Either false or the fixed positioned element\r\n     */\r\n     RGraph.isFixed = function (canvas)\r\n     {\r\n         var obj = canvas;\r\n         var i = 0;\r\n \r\n         while (obj && obj.tagName.toLowerCase() != 'body' && i < 99) {\r\n \r\n             if (obj.style.position == 'fixed') {\r\n                 return obj;\r\n             }\r\n             \r\n             obj = obj.offsetParent;\r\n         }\r\n \r\n         return false;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Registers a graph object (used when the canvas is redrawn)\r\n     * \r\n     * @param object obj The object to be registered\r\n     */\r\n     RGraph.Register = function (obj)\r\n     {\r\n         // Checking this property ensures the object is only registered once\r\n         if (!obj.Get('chart.noregister')) {\r\n             // As of 21st/1/2012 the object registry is now used\r\n             RGraph.ObjectRegistry.Add(obj);\r\n             obj.Set('chart.noregister', true);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Causes all registered objects to be redrawn\r\n     * \r\n     * @param string An optional color to use to clear the canvas\r\n     */\r\n     RGraph.Redraw = function ()\r\n     {\r\n         var objectRegistry = RGraph.ObjectRegistry.objects.byCanvasID;\r\n \r\n         // Get all of the canvas tags on the page\r\n         var tags = document.getElementsByTagName('canvas');\r\n \r\n         for (var i=0,len=tags.length; i<len; ++i) {\r\n             if (tags[i].__object__ && tags[i].__object__.isRGraph) {\r\n                 \r\n                 // Only clear the canvas if it's not Trace'ing - this applies to the Line/Scatter Trace effects\r\n                 if (!tags[i].noclear) {\r\n                     RGraph.Clear(tags[i], arguments[0] ? arguments[0] : null);\r\n                 }\r\n             }\r\n         }\r\n \r\n         // Go through the object registry and redraw *all* of the canvas'es that have been registered\r\n         for (var i=0,len=objectRegistry.length; i<len; ++i) {\r\n             if (objectRegistry[i]) {\r\n                 var id = objectRegistry[i][0];\r\n                 objectRegistry[i][1].Draw();\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Causes all registered objects ON THE GIVEN CANVAS to be redrawn\r\n     * \r\n     * @param canvas object The canvas object to redraw\r\n     * @param        bool   Optional boolean which defaults to true and determines whether to clear the canvas\r\n     */\r\n     RGraph.RedrawCanvas = function (canvas)\r\n     {\r\n         var objects = RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);\r\n \r\n         /**\r\n         * First clear the canvas\r\n         */\r\n         if (!arguments[1] || (typeof(arguments[1]) == 'boolean' && !arguments[1] == false) ) {\r\n             RGraph.Clear(canvas);\r\n         }\r\n \r\n         /**\r\n         * Now redraw all the charts associated with that canvas\r\n         */\r\n         for (var i=0,len=objects.length; i<len; ++i) {\r\n             if (objects[i]) {\r\n                 if (objects[i] && objects[i].isRGraph) { // Is it an RGraph object ??\r\n                     objects[i].Draw();\r\n                 }\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function draws the background for the bar chart, line chart and scatter chart.\r\n     * \r\n     * @param  object obj The graph object\r\n     */\r\n     RGraph.background.Draw = function (obj)\r\n     {\r\n         var RG           = RGraph;\r\n         var ca = obj.canvas;\r\n         var co = obj.context;\r\n         var canvas  = obj.canvas;\r\n         var context = obj.context;\r\n         var prop         = obj.properties;\r\n \r\n         var height       = 0;\r\n         var gutterLeft   = obj.gutterLeft;\r\n         var gutterRight  = obj.gutterRight;\r\n         var gutterTop    = obj.gutterTop;\r\n         var gutterBottom = obj.gutterBottom;\r\n         var variant      = prop['chart.variant'];\r\n         \r\n         co.fillStyle = prop['chart.text.color'];\r\n         \r\n         // If it's a bar and 3D variant, translate\r\n         if (variant == '3d') {\r\n             co.save();\r\n             co.translate(10, -5);\r\n         }\r\n \r\n         // X axis title\r\n         if (typeof(prop['chart.title.xaxis']) == 'string' && prop['chart.title.xaxis'].length) {\r\n         \r\n             var size = prop['chart.text.size'] + 2;\r\n             var font = prop['chart.text.font'];\r\n             var bold = prop['chart.title.xaxis.bold'];\r\n \r\n             if (typeof(prop['chart.title.xaxis.size']) == 'number') {\r\n                 size = prop['chart.title.xaxis.size'];\r\n             }\r\n \r\n             if (typeof(prop['chart.title.xaxis.font']) == 'string') {\r\n                 font = prop['chart.title.xaxis.font'];\r\n             }\r\n             \r\n             var hpos = ((ca.width - gutterLeft - gutterRight) / 2) + gutterLeft;\r\n             var vpos = ca.height - gutterBottom + 25;\r\n             \r\n             if (typeof(prop['chart.title.xaxis.pos']) == 'number') {\r\n                 vpos = ca.height - (gutterBottom * prop['chart.title.xaxis.pos']);\r\n             }\r\n \r\n             RG.Text2(obj, {'font':font,\r\n                            'size':size,\r\n                            'x':hpos,\r\n                            'y':vpos,\r\n                            'text':prop['chart.title.xaxis'],\r\n                            'halign':'center',\r\n                            'valign':'center',\r\n                            'bold':bold,\r\n                            'tag': 'title xaxis'\r\n                           });\r\n         }\r\n \r\n         // Y axis title\r\n         if (typeof(prop['chart.title.yaxis']) == 'string' && prop['chart.title.yaxis'].length) {\r\n \r\n             var size  = prop['chart.text.size'] + 2;\r\n             var font  = prop['chart.text.font'];\r\n             var angle = 270;\r\n             var bold  = prop['chart.title.yaxis.bold'];\r\n             var color = prop['chart.title.yaxis.color'];\r\n \r\n             if (typeof(prop['chart.title.yaxis.pos']) == 'number') {\r\n                 var yaxis_title_pos = prop['chart.title.yaxis.pos'] * gutterLeft;\r\n             } else {\r\n                 var yaxis_title_pos = ((gutterLeft - 25) / gutterLeft) * gutterLeft;\r\n             }\r\n \r\n             if (typeof(prop['chart.title.yaxis.size']) == 'number') {\r\n                 size = prop['chart.title.yaxis.size'];\r\n             }\r\n \r\n             if (typeof(prop['chart.title.yaxis.font']) == 'string') {\r\n                 font = prop['chart.title.yaxis.font'];\r\n             }\r\n \r\n             if (prop['chart.title.yaxis.align'] == 'right' || prop['chart.title.yaxis.position'] == 'right') {\r\n                 angle = 90;\r\n                 yaxis_title_pos = prop['chart.title.yaxis.pos'] ? (ca.width - gutterRight) + (prop['chart.title.yaxis.pos'] * gutterRight) :\r\n                                                                    ca.width - gutterRight + prop['chart.text.size'] + 5;\r\n             } else {\r\n                 yaxis_title_pos = yaxis_title_pos;\r\n             }\r\n \r\n             co.fillStyle = color;\r\n             RG.Text2(obj, {'font':font,\r\n                            'size':size,\r\n                            'x':yaxis_title_pos,\r\n                            'y':((ca.height - gutterTop - gutterBottom) / 2) + gutterTop,\r\n                            'valign':'center',\r\n                            'halign':'center',\r\n                            'angle':angle,\r\n                            'bold':bold,\r\n                            'text':prop['chart.title.yaxis'],\r\n                            'tag':'title yaxis'\r\n                           });\r\n         }\r\n \r\n         /**\r\n         * If the background color is spec ified - draw that. It's a rectangle that fills the\r\n         * entire are within the gutters\r\n         */\r\n         var bgcolor = prop['chart.background.color'];\r\n         if (bgcolor) {\r\n             co.fillStyle = bgcolor;\r\n             co.fillRect(gutterLeft, gutterTop, ca.width - gutterLeft - gutterRight, ca.height - gutterTop - gutterBottom);\r\n         }\r\n \r\n         /**\r\n         * Draw horizontal background bars\r\n         */\r\n         co.beginPath(); // Necessary?\r\n \r\n         co.fillStyle   = prop['chart.background.barcolor1'];\r\n         co.strokeStyle = co.fillStyle;\r\n         height = (ca.height - gutterBottom);\r\n \r\n         for (var i=gutterTop; i<height ; i+=80) {\r\n             co.fillRect(gutterLeft, i, ca.width - gutterLeft - gutterRight, Math.min(40, ca.height - gutterBottom - i) );\r\n         }\r\n \r\n         co.fillStyle   = prop['chart.background.barcolor2'];\r\n         co.strokeStyle = co.fillStyle;\r\n         height = (ca.height - gutterBottom);\r\n \r\n         for (var i= (40 + gutterTop); i<height; i+=80) {\r\n             co.fillRect(gutterLeft, i, ca.width - gutterLeft - gutterRight, i + 40 > (ca.height - gutterBottom) ? ca.height - (gutterBottom + i) : 40);\r\n         }\r\n         \r\n         //context.stroke();\r\n         co.beginPath();\r\n     \r\n \r\n         // Draw the background grid\r\n         if (prop['chart.background.grid']) {\r\n \r\n             // If autofit is specified, use the .numhlines and .numvlines along with the width to work\r\n             // out the hsize and vsize\r\n             if (prop['chart.background.grid.autofit']) {\r\n \r\n                 /**\r\n                 * Align the grid to the tickmarks\r\n                 */\r\n                 if (prop['chart.background.grid.autofit.align']) {\r\n                     \r\n                     // Align the horizontal lines\r\n                     obj.Set('chart.background.grid.autofit.numhlines', prop['chart.ylabels.count']);\r\n \r\n                     // Align the vertical lines for the line\r\n                     if (obj.type == 'line') {\r\n                         if (prop['chart.labels'] && prop['chart.labels'].length) {\r\n                             obj.Set('chart.background.grid.autofit.numvlines', prop['chart.labels'].length - 1);\r\n                         } else {\r\n                             obj.Set('chart.background.grid.autofit.numvlines', obj.data[0].length - 1);\r\n                         }\r\n \r\n                     // Align the vertical lines for the bar\r\n                     } else if (obj.type == 'bar' && prop['chart.labels'] && prop['chart.labels'].length) {\r\n                         obj.Set('chart.background.grid.autofit.numvlines', prop['chart.labels'].length);\r\n                     }\r\n                 }\r\n \r\n                 var vsize = ((ca.width - gutterLeft - gutterRight)) / prop['chart.background.grid.autofit.numvlines'];\r\n                 var hsize = (ca.height - gutterTop - gutterBottom) / prop['chart.background.grid.autofit.numhlines'];\r\n \r\n                 obj.Set('chart.background.grid.vsize', vsize);\r\n                 obj.Set('chart.background.grid.hsize', hsize);\r\n             }\r\n \r\n             co.beginPath();\r\n             co.lineWidth   = prop['chart.background.grid.width'] ? prop['chart.background.grid.width'] : 1;\r\n             co.strokeStyle = prop['chart.background.grid.color'];\r\n \r\n             // Dashed background grid\r\n             if (prop['chart.background.grid.dashed'] && typeof co.setLineDash == 'function') {\r\n                 co.setLineDash([3,2]);\r\n             }\r\n             \r\n             // Dotted background grid\r\n             if (prop['chart.background.grid.dotted'] && typeof co.setLineDash == 'function') {\r\n                 co.setLineDash([1,2]);\r\n             }\r\n \r\n \r\n             // Draw the horizontal lines\r\n             if (prop['chart.background.grid.hlines']) {\r\n                 height = (ca.height - gutterBottom)\r\n                 for (var y=gutterTop; y<height; y+=prop['chart.background.grid.hsize']) {\r\n                     context.moveTo(gutterLeft, Math.round(y));\r\n                     context.lineTo(ca.width - gutterRight, Math.round(y));\r\n                 }\r\n             }\r\n \r\n             if (prop['chart.background.grid.vlines']) {\r\n                 // Draw the vertical lines\r\n                 var width = (ca.width - gutterRight)\r\n                 for (var x=gutterLeft; x<=width; x+=prop['chart.background.grid.vsize']) {\r\n                     co.moveTo(Math.round(x), gutterTop);\r\n                     co.lineTo(Math.round(x), ca.height - gutterBottom);\r\n                 }\r\n             }\r\n \r\n             if (prop['chart.background.grid.border']) {\r\n                 // Make sure a rectangle, the same colour as the grid goes around the graph\r\n                 co.strokeStyle = prop['chart.background.grid.color'];\r\n                 co.strokeRect(Math.round(gutterLeft), Math.round(gutterTop), ca.width - gutterLeft - gutterRight, ca.height - gutterTop - gutterBottom);\r\n             }\r\n         }\r\n \r\n         context.stroke();\r\n \r\n         // Reset the line dash\r\n         if (typeof co.setLineDash == 'function') {\r\n             co.setLineDash([1,0]);\r\n         }\r\n \r\n         // If it's a bar and 3D variant, translate\r\n         if (variant == '3d') {\r\n             co.restore();\r\n         }\r\n \r\n         // Draw the title if one is set\r\n         if ( typeof(prop['chart.title']) == 'string') {\r\n \r\n             if (obj.type == 'gantt') {\r\n                 gutterTop -= 10;\r\n             }\r\n \r\n             RG.DrawTitle(obj,\r\n                          prop['chart.title'],\r\n                          gutterTop,\r\n                          null,\r\n                          prop['chart.title.size'] ? prop['chart.title.size'] : prop['chart.text.size'] + 2);\r\n         }\r\n \r\n         co.stroke();\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Makes a clone of an object\r\n     * \r\n     * @param obj val The object to clone\r\n     */\r\n     RGraph.array_clone = function (obj)\r\n     {\r\n         var RG = RGraph;\r\n \r\n         if(obj == null || typeof(obj) != 'object') {\r\n             return obj;\r\n         }\r\n \r\n         var temp = [];\r\n \r\n         for (var i=0,len=obj.length;i<len; ++i) {\r\n \r\n             if (typeof(obj[i]) == 'number') {\r\n                 temp[i] = (function (arg) {return Number(arg);})(obj[i]);\r\n             } else if (typeof(obj[i]) == 'string') {\r\n                 temp[i] = (function (arg) {return String(arg);})(obj[i]);\r\n             } else if (typeof(obj[i]) == 'function') {\r\n                 temp[i] = obj[i];\r\n             \r\n             } else {\r\n                 temp[i] = RG.array_clone(obj[i]);\r\n             }\r\n         }\r\n \r\n         return temp;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Formats a number with thousand seperators so it's easier to read\r\n     * \r\n     * @param  integer obj The chart object\r\n     * @param  integer num The number to format\r\n     * @param  string      The (optional) string to prepend to the string\r\n     * @param  string      The (optional) string to append to the string\r\n     * @return string      The formatted number\r\n     */\r\n     RGraph.number_format = function (obj, num)\r\n     {\r\n         var RG   = RGraph;\r\n         var ca   = obj.canvas;\r\n         var co   = obj.context;\r\n         var prop = obj.properties;\r\n \r\n         var i;\r\n         var prepend = arguments[2] ? String(arguments[2]) : '';\r\n         var append  = arguments[3] ? String(arguments[3]) : '';\r\n         var output  = '';\r\n         var decimal = '';\r\n         var decimal_seperator  = typeof(prop['chart.scale.point']) == 'string' ? prop['chart.scale.point'] : '.';\r\n         var thousand_seperator = typeof(prop['chart.scale.thousand']) == 'string' ? prop['chart.scale.thousand'] : ',';\r\n         RegExp.$1   = '';\r\n         var i,j;\r\n \r\n         if (typeof(prop['chart.scale.formatter']) == 'function') {\r\n             return prop['chart.scale.formatter'](obj, num);\r\n         }\r\n \r\n         // Ignore the preformatted version of \"1e-2\"\r\n         if (String(num).indexOf('e') > 0) {\r\n             return String(prepend + String(num) + append);\r\n         }\r\n \r\n         // We need then number as a string\r\n         num = String(num);\r\n         \r\n         // Take off the decimal part - we re-append it later\r\n         if (num.indexOf('.') > 0) {\r\n             var tmp = num;\r\n             num     = num.replace(/\\.(.*)/, ''); // The front part of the number\r\n             decimal = tmp.replace(/(.*)\\.(.*)/, '$2'); // The decimal part of the number\r\n         }\r\n \r\n         // Thousand seperator\r\n         //var seperator = arguments[1] ? String(arguments[1]) : ',';\r\n         var seperator = thousand_seperator;\r\n         \r\n         /**\r\n         * Work backwards adding the thousand seperators\r\n         */\r\n         var foundPoint;\r\n         for (i=(num.length - 1),j=0; i>=0; j++,i--) {\r\n             var character = num.charAt(i);\r\n             \r\n             if ( j % 3 == 0 && j != 0) {\r\n                 output += seperator;\r\n             }\r\n             \r\n             /**\r\n             * Build the output\r\n             */\r\n             output += character;\r\n         }\r\n         \r\n         /**\r\n         * Now need to reverse the string\r\n         */\r\n         var rev = output;\r\n         output = '';\r\n         for (i=(rev.length - 1); i>=0; i--) {\r\n             output += rev.charAt(i);\r\n         }\r\n \r\n         // Tidy up\r\n         //output = output.replace(/^-,/, '-');\r\n         if (output.indexOf('-' + prop['chart.scale.thousand']) == 0) {\r\n             output = '-' + output.substr(('-' + prop['chart.scale.thousand']).length);\r\n         }\r\n \r\n         // Reappend the decimal\r\n         if (decimal.length) {\r\n             output =  output + decimal_seperator + decimal;\r\n             decimal = '';\r\n             RegExp.$1 = '';\r\n         }\r\n \r\n         // Minor bugette\r\n         if (output.charAt(0) == '-') {\r\n             output = output.replace(/-/, '');\r\n             prepend = '-' + prepend;\r\n         }\r\n \r\n         return prepend + output + append;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws horizontal coloured bars on something like the bar, line or scatter\r\n     */\r\n     RGraph.DrawBars = function (obj)\r\n     {\r\n         var prop  = obj.properties;\r\n         var co    = obj.context;\r\n         var ca    = obj.canvas;\r\n         var RG    = RGraph;\r\n         var hbars = prop['chart.background.hbars'];\r\n \r\n         if (hbars === null) {\r\n             return;\r\n         }\r\n \r\n         /**\r\n         * Draws a horizontal bar\r\n         */\r\n         co.beginPath();\r\n \r\n         for (i=0,len=hbars.length; i<len; ++i) {\r\n         \r\n             var start  = hbars[i][0];\r\n             var length = hbars[i][1];\r\n             var color  = hbars[i][2];\r\n             \r\n \r\n             // Perform some bounds checking\r\n             if(RG.is_null(start))start = obj.scale2.max\r\n             if (start > obj.scale2.max) start = obj.scale2.max;\r\n             if (RG.is_null(length)) length = obj.scale2.max - start;\r\n             if (start + length > obj.scale2.max) length = obj.scale2.max - start;\r\n             if (start + length < (-1 * obj.scale2.max) ) length = (-1 * obj.scale2.max) - start;\r\n \r\n             if (prop['chart.xaxispos'] == 'center' && start == obj.scale2.max && length < (obj.scale2.max * -2)) {\r\n                 length = obj.scale2.max * -2;\r\n             }\r\n \r\n \r\n             /**\r\n             * Draw the bar\r\n             */\r\n             var x = prop['chart.gutter.left'];\r\n             var y = obj.getYCoord(start);\r\n             var w = ca.width - prop['chart.gutter.left'] - prop['chart.gutter.right'];\r\n             var h = obj.getYCoord(start + length) - y;\r\n \r\n             // Accommodate Opera :-/\r\n             if (ISOPERA != -1 && prop['chart.xaxispos'] == 'center' && h < 0) {\r\n                 h *= -1;\r\n                 y = y - h;\r\n             }\r\n \r\n             /**\r\n             * Account for X axis at the top\r\n             */\r\n             if (prop['chart.xaxispos'] == 'top') {\r\n                 y  = ca.height - y;\r\n                 h *= -1;\r\n             }\r\n \r\n             co.fillStyle = color;\r\n             co.fillRect(x, y, w, h);\r\n         }\r\n /*\r\n \r\n \r\n             \r\n \r\n \r\n             // If the X axis is at the bottom, and a negative max is given, warn the user\r\n             if (obj.Get('chart.xaxispos') == 'bottom' && (hbars[i][0] < 0 || (hbars[i][1] + hbars[i][1] < 0)) ) {\r\n                 alert('[' + obj.type.toUpperCase() + ' (ID: ' + obj.id + ') BACKGROUND HBARS] You have a negative value in one of your background hbars values, whilst the X axis is in the center');\r\n             }\r\n \r\n             var ystart = (obj.grapharea - (((hbars[i][0] - obj.scale2.min) / (obj.scale2.max - obj.scale2.min)) * obj.grapharea));\r\n             //var height = (Math.min(hbars[i][1], obj.max - hbars[i][0]) / (obj.scale2.max - obj.scale2.min)) * obj.grapharea;\r\n             var height = obj.getYCoord(hbars[i][0]) - obj.getYCoord(hbars[i][1]);\r\n \r\n             // Account for the X axis being in the center\r\n             if (obj.Get('chart.xaxispos') == 'center') {\r\n                 ystart /= 2;\r\n                 //height /= 2;\r\n             }\r\n             \r\n             ystart += obj.Get('chart.gutter.top')\r\n \r\n             var x = obj.Get('chart.gutter.left');\r\n             var y = ystart - height;\r\n             var w = obj.canvas.width - obj.Get('chart.gutter.left') - obj.Get('chart.gutter.right');\r\n             var h = height;\r\n \r\n             // Accommodate Opera :-/\r\n             if (navigator.userAgent.indexOf('Opera') != -1 && obj.Get('chart.xaxispos') == 'center' && h < 0) {\r\n                 h *= -1;\r\n                 y = y - h;\r\n             }\r\n             \r\n             /**\r\n             * Account for X axis at the top\r\n             */\r\n             //if (obj.Get('chart.xaxispos') == 'top') {\r\n             //    y  = obj.canvas.height - y;\r\n             //    h *= -1;\r\n             //}\r\n \r\n             //obj.context.fillStyle = hbars[i][2];\r\n             //obj.context.fillRect(x, y, w, h);\r\n         //}\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws in-graph labels.\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.DrawInGraphLabels = function (obj)\r\n     {\r\n         var RG      = RGraph;\r\n         var ca      = obj.canvas;\r\n         var co      = obj.context;\r\n         var prop    = obj.properties;\r\n         var labels  = prop['chart.labels.ingraph'];\r\n         var labels_processed = [];\r\n \r\n         // Defaults\r\n         var fgcolor   = 'black';\r\n         var bgcolor   = 'white';\r\n         var direction = 1;\r\n \r\n         if (!labels) {\r\n             return;\r\n         }\r\n \r\n         /**\r\n         * Preprocess the labels array. Numbers are expanded\r\n         */\r\n         for (var i=0,len=labels.length; i<len; i+=1) {\r\n             if (typeof(labels[i]) == 'number') {\r\n                 for (var j=0; j<labels[i]; ++j) {\r\n                     labels_processed.push(null);\r\n                 }\r\n             } else if (typeof(labels[i]) == 'string' || typeof(labels[i]) == 'object') {\r\n                 labels_processed.push(labels[i]);\r\n             \r\n             } else {\r\n                 labels_processed.push('');\r\n             }\r\n         }\r\n \r\n         /**\r\n         * Turn off any shadow\r\n         */\r\n         RG.NoShadow(obj);\r\n \r\n         if (labels_processed && labels_processed.length > 0) {\r\n \r\n             for (var i=0,len=labels_processed.length; i<len; ++i) {\r\n                 if (labels_processed[i]) {\r\n                     var coords = obj.coords[i];\r\n                     \r\n                     if (coords && coords.length > 0) {\r\n                         var x      = (obj.type == 'bar' ? coords[0] + (coords[2] / 2) : coords[0]);\r\n                         var y      = (obj.type == 'bar' ? coords[1] + (coords[3] / 2) : coords[1]);\r\n                         var length = typeof(labels_processed[i][4]) == 'number' ? labels_processed[i][4] : 25;\r\n     \r\n                         co.beginPath();\r\n                         co.fillStyle   = 'black';\r\n                         co.strokeStyle = 'black';\r\n                         \r\n     \r\n                         if (obj.type == 'bar') {\r\n                         \r\n                             /**\r\n                             * X axis at the top\r\n                             */\r\n                             if (obj.Get('chart.xaxispos') == 'top') {\r\n                                 length *= -1;\r\n                             }\r\n     \r\n                             if (prop['chart.variant'] == 'dot') {\r\n                                 co.moveTo(Math.round(x), obj.coords[i][1] - 5);\r\n                                 co.lineTo(Math.round(x), obj.coords[i][1] - 5 - length);\r\n                                 \r\n                                 var text_x = Math.round(x);\r\n                                 var text_y = obj.coords[i][1] - 5 - length;\r\n                             \r\n                             } else if (prop['chart.variant'] == 'arrow') {\r\n                                 co.moveTo(Math.round(x), obj.coords[i][1] - 5);\r\n                                 co.lineTo(Math.round(x), obj.coords[i][1] - 5 - length);\r\n                                 \r\n                                 var text_x = Math.round(x);\r\n                                 var text_y = obj.coords[i][1] - 5 - length;\r\n                             \r\n                             } else {\r\n     \r\n                                 co.arc(Math.round(x), y, 2.5, 0, 6.28, 0);\r\n                                 co.moveTo(Math.round(x), y);\r\n                                 co.lineTo(Math.round(x), y - length);\r\n \r\n                                 var text_x = Math.round(x);\r\n                                 var text_y = y - length;\r\n                             }\r\n \r\n                             co.stroke();\r\n                             co.fill();\r\n                             \r\n     \r\n                         } else if (obj.type == 'line') {\r\n                         \r\n                             if (\r\n                                 typeof(labels_processed[i]) == 'object' &&\r\n                                 typeof(labels_processed[i][3]) == 'number' &&\r\n                                 labels_processed[i][3] == -1\r\n                                ) {\r\n \r\n                                 co.moveTo(Math.round(x), y + 5);\r\n                                 co.lineTo(Math.round(x), y + 5 + length);\r\n                                 \r\n                                 co.stroke();\r\n                                 co.beginPath();                                \r\n                                 \r\n                                 // This draws the arrow\r\n                                 co.moveTo(Math.round(x), y + 5);\r\n                                 co.lineTo(Math.round(x) - 3, y + 10);\r\n                                 co.lineTo(Math.round(x) + 3, y + 10);\r\n                                 co.closePath();\r\n                                 \r\n                                 var text_x = x;\r\n                                 var text_y = y + 5 + length;\r\n                             \r\n                             } else {\r\n                                 \r\n                                 var text_x = x;\r\n                                 var text_y = y - 5 - length;\r\n \r\n                                 co.moveTo(Math.round(x), y - 5);\r\n                                 co.lineTo(Math.round(x), y - 5 - length);\r\n                                 \r\n                                 co.stroke();\r\n                                 co.beginPath();\r\n                                 \r\n                                 // This draws the arrow\r\n                                 co.moveTo(Math.round(x), y - 5);\r\n                                 co.lineTo(Math.round(x) - 3, y - 10);\r\n                                 co.lineTo(Math.round(x) + 3, y - 10);\r\n                                 co.closePath();\r\n                             }\r\n                         \r\n                             co.fill();\r\n                         }\r\n \r\n                         // Taken out on the 10th Nov 2010 - unnecessary\r\n                         //var width = context.measureText(labels[i]).width;\r\n                         \r\n                         co.beginPath();\r\n                             \r\n                             // Fore ground color\r\n                             co.fillStyle = (typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][1]) == 'string') ? labels_processed[i][1] : 'black';\r\n \r\n                             RG.Text2(obj,{'font':prop['chart.text.font'],\r\n                                           'size':prop['chart.text.size'],\r\n                                           'x':text_x,\r\n                                           'y':text_y,\r\n                                           'text': (typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][0]) == 'string') ? labels_processed[i][0] : labels_processed[i],\r\n                                           'valign': 'bottom',\r\n                                           'halign':'center',\r\n                                           'bounding':true,\r\n                                           'bounding.fill': (typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][2]) == 'string') ? labels_processed[i][2] : 'white',\r\n                                           'tag':'labels ingraph'\r\n                                          });\r\n                         co.fill();\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function \"fills in\" key missing properties that various implementations lack\r\n     * \r\n     * @param object e The event object\r\n     */\r\n     RGraph.FixEventObject = function (e)\r\n     {\r\n         if (ISOLD) {\r\n             var e = event;\r\n \r\n             e.pageX  = (event.clientX + document.body.scrollLeft);\r\n             e.pageY  = (event.clientY + document.body.scrollTop);\r\n             e.target = event.srcElement;\r\n             \r\n             if (!document.body.scrollTop && document.documentElement.scrollTop) {\r\n                 e.pageX += parseInt(document.documentElement.scrollLeft);\r\n                 e.pageY += parseInt(document.documentElement.scrollTop);\r\n             }\r\n         }\r\n \r\n         \r\n         // Any browser that doesn't implement stopPropagation() (MSIE)\r\n         if (!e.stopPropagation) {\r\n             e.stopPropagation = function () {window.event.cancelBubble = true;}\r\n         }\r\n         \r\n         return e;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Thisz function hides the crosshairs coordinates\r\n     */\r\n     RGraph.HideCrosshairCoords = function ()\r\n     {\r\n         var RG  = RGraph;\r\n         var div = RG.Registry.Get('chart.coordinates.coords.div');\r\n \r\n         if (   div\r\n             && div.style.opacity == 1\r\n             && div.__object__.Get('chart.crosshairs.coords.fadeout')\r\n            ) {\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.9;}, 50);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.8;}, 100);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.7;}, 150);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.6;}, 200);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.5;}, 250);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.4;}, 300);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.3;}, 350);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.2;}, 400);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0.1;}, 450);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.opacity = 0;}, 500);\r\n             setTimeout(function() {RG.Registry.Get('chart.coordinates.coords.div').style.display = 'none';}, 550);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws the3D axes/background\r\n     */\r\n     RGraph.Draw3DAxes = function (obj)\r\n     {\r\n         var prop = obj.properties;\r\n         var co   = obj.context;\r\n         var ca   = obj.canvas;\r\n \r\n         var gutterLeft    = prop['chart.gutter.left'];\r\n         var gutterRight   = prop['chart.gutter.right'];\r\n         var gutterTop     = prop['chart.gutter.top'];\r\n         var gutterBottom  = prop['chart.gutter.bottom'];\r\n \r\n \r\n         co.strokeStyle = '#aaa';\r\n         co.fillStyle = '#ddd';\r\n \r\n         // Draw the vertical left side\r\n         co.beginPath();\r\n             co.moveTo(gutterLeft, gutterTop);\r\n             co.lineTo(gutterLeft + 10, gutterTop - 5);\r\n             co.lineTo(gutterLeft + 10, ca.height - gutterBottom - 5);\r\n             co.lineTo(gutterLeft, ca.height - gutterBottom);\r\n         co.closePath();\r\n         \r\n         co.stroke();\r\n         co.fill();\r\n \r\n         // Draw the bottom floor\r\n         co.beginPath();\r\n             co.moveTo(gutterLeft, ca.height - gutterBottom);\r\n             co.lineTo(gutterLeft + 10, ca.height - gutterBottom - 5);\r\n             co.lineTo(ca.width - gutterRight + 10,  ca.height - gutterBottom - 5);\r\n             co.lineTo(ca.width - gutterRight, ca.height - gutterBottom);\r\n         co.closePath();\r\n         \r\n         co.stroke();\r\n         co.fill();\r\n     }\r\n \r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function attempts to \"fill in\" missing functions from the canvas\r\n     * context object. Only two at the moment - measureText() nd fillText().\r\n     * \r\n     * @param object context The canvas 2D context\r\n     */\r\n     RGraph.OldBrowserCompat = function (co)\r\n     {\r\n         if (!co) {\r\n             return;\r\n         }\r\n \r\n         if (!co.measureText) {\r\n         \r\n             // This emulates the measureText() function\r\n             co.measureText = function (text)\r\n             {\r\n                 var textObj = document.createElement('DIV');\r\n                 textObj.innerHTML = text;\r\n                 textObj.style.position = 'absolute';\r\n                 textObj.style.top = '-100px';\r\n                 textObj.style.left = 0;\r\n                 document.body.appendChild(textObj);\r\n \r\n                 var width = {width: textObj.offsetWidth};\r\n                 \r\n                 textObj.style.display = 'none';\r\n                 \r\n                 return width;\r\n             }\r\n         }\r\n \r\n         if (!co.fillText) {\r\n             // This emulates the fillText() method\r\n             co.fillText    = function (text, targetX, targetY)\r\n             {\r\n                 return false;\r\n             }\r\n         }\r\n \r\n         // If IE8, add addEventListener()\r\n         if (!co.canvas.addEventListener) {\r\n             window.addEventListener = function (ev, func, bubble)\r\n             {\r\n                 return this.attachEvent('on' + ev, func);\r\n             }\r\n \r\n             co.canvas.addEventListener = function (ev, func, bubble)\r\n             {\r\n                 return this.attachEvent('on' + ev, func);\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws a rectangle with curvy corners\r\n     * \r\n     * @param co object The context\r\n     * @param x number The X coordinate (top left of the square)\r\n     * @param y number The Y coordinate (top left of the square)\r\n     * @param w number The width of the rectangle\r\n     * @param h number The height of the rectangle\r\n     * @param   number The radius of the curved corners\r\n     * @param   boolean Whether the top left corner is curvy\r\n     * @param   boolean Whether the top right corner is curvy\r\n     * @param   boolean Whether the bottom right corner is curvy\r\n     * @param   boolean Whether the bottom left corner is curvy\r\n     */\r\n     RGraph.strokedCurvyRect = function (co, x, y, w, h)\r\n     {\r\n         // The corner radius\r\n         var r = arguments[5] ? arguments[5] : 3;\r\n \r\n         // The corners\r\n         var corner_tl = (arguments[6] || arguments[6] == null) ? true : false;\r\n         var corner_tr = (arguments[7] || arguments[7] == null) ? true : false;\r\n         var corner_br = (arguments[8] || arguments[8] == null) ? true : false;\r\n         var corner_bl = (arguments[9] || arguments[9] == null) ? true : false;\r\n \r\n         co.beginPath();\r\n \r\n             // Top left side\r\n             co.moveTo(x + (corner_tl ? r : 0), y);\r\n             co.lineTo(x + w - (corner_tr ? r : 0), y);\r\n             \r\n             // Top right corner\r\n             if (corner_tr) {\r\n                 co.arc(x + w - r, y + r, r, PI + HALFPI, TWOPI, false);\r\n             }\r\n \r\n             // Top right side\r\n             co.lineTo(x + w, y + h - (corner_br ? r : 0) );\r\n \r\n             // Bottom right corner\r\n             if (corner_br) {\r\n                 co.arc(x + w - r, y - r + h, r, TWOPI, HALFPI, false);\r\n             }\r\n \r\n             // Bottom right side\r\n             co.lineTo(x + (corner_bl ? r : 0), y + h);\r\n \r\n             // Bottom left corner\r\n             if (corner_bl) {\r\n                 co.arc(x + r, y - r + h, r, HALFPI, PI, false);\r\n             }\r\n \r\n             // Bottom left side\r\n             co.lineTo(x, y + (corner_tl ? r : 0) );\r\n \r\n             // Top left corner\r\n             if (corner_tl) {\r\n                 co.arc(x + r, y + r, r, PI, PI + HALFPI, false);\r\n             }\r\n \r\n         co.stroke();\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Draws a filled rectangle with curvy corners\r\n     * \r\n     * @param context object The context\r\n     * @param x       number The X coordinate (top left of the square)\r\n     * @param y       number The Y coordinate (top left of the square)\r\n     * @param w       number The width of the rectangle\r\n     * @param h       number The height of the rectangle\r\n     * @param         number The radius of the curved corners\r\n     * @param         boolean Whether the top left corner is curvy\r\n     * @param         boolean Whether the top right corner is curvy\r\n     * @param         boolean Whether the bottom right corner is curvy\r\n     * @param         boolean Whether the bottom left corner is curvy\r\n     */\r\n     RGraph.filledCurvyRect = function (co, x, y, w, h)\r\n     {\r\n         // The corner radius\r\n         var r = arguments[5] ? arguments[5] : 3;\r\n \r\n         // The corners\r\n         var corner_tl = (arguments[6] || arguments[6] == null) ? true : false;\r\n         var corner_tr = (arguments[7] || arguments[7] == null) ? true : false;\r\n         var corner_br = (arguments[8] || arguments[8] == null) ? true : false;\r\n         var corner_bl = (arguments[9] || arguments[9] == null) ? true : false;\r\n \r\n         co.beginPath();\r\n \r\n             // First draw the corners\r\n \r\n             // Top left corner\r\n             if (corner_tl) {\r\n                 co.moveTo(x + r, y + r);\r\n                 co.arc(x + r, y + r, r, PI, PI + HALFPI, false);\r\n             } else {\r\n                 co.fillRect(x, y, r, r);\r\n             }\r\n \r\n             // Top right corner\r\n             if (corner_tr) {\r\n                 co.moveTo(x + w - r, y + r);\r\n                 co.arc(x + w - r, y + r, r, PI + HALFPI, 0, false);\r\n             } else {\r\n                 co.moveTo(x + w - r, y);\r\n                 co.fillRect(x + w - r, y, r, r);\r\n             }\r\n \r\n \r\n             // Bottom right corner\r\n             if (corner_br) {\r\n                 co.moveTo(x + w - r, y + h - r);\r\n                 co.arc(x + w - r, y - r + h, r, 0, HALFPI, false);\r\n             } else {\r\n                 co.moveTo(x + w - r, y + h - r);\r\n                 co.fillRect(x + w - r, y + h - r, r, r);\r\n             }\r\n \r\n             // Bottom left corner\r\n             if (corner_bl) {\r\n                 co.moveTo(x + r, y + h - r);\r\n                 co.arc(x + r, y - r + h, r, HALFPI, PI, false);\r\n             } else {\r\n                 co.moveTo(x, y + h - r);\r\n                 co.fillRect(x, y + h - r, r, r);\r\n             }\r\n \r\n             // Now fill it in\r\n             co.fillRect(x + r, y, w - r - r, h);\r\n             co.fillRect(x, y + r, r + 1, h - r - r);\r\n             co.fillRect(x + w - r - 1, y + r, r + 1, h - r - r);\r\n \r\n         co.fill();\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Hides the zoomed canvas\r\n     */\r\n     RGraph.HideZoomedCanvas = function ()\r\n     {\r\n         var interval = 15;\r\n         var frames   = 10;\r\n \r\n         if (typeof(__zoomedimage__) == 'object') {\r\n             var obj  = __zoomedimage__.obj;\r\n             var prop = obj.properties;\r\n         } else {\r\n             return;\r\n         }\r\n \r\n         if (prop['chart.zoom.fade.out']) {\r\n             for (var i=frames,j=1; i>=0; --i, ++j) {\r\n                 if (typeof(__zoomedimage__) == 'object') {\r\n                     setTimeout(\"__zoomedimage__.style.opacity = \" + String(i / 10), j * interval);\r\n                 }\r\n             }\r\n \r\n             if (typeof(__zoomedbackground__) == 'object') {\r\n                 setTimeout(\"__zoomedbackground__.style.opacity = \" + String(i / frames), j * interval);\r\n             }\r\n         }\r\n \r\n         if (typeof(__zoomedimage__) == 'object') {\r\n             setTimeout(\"__zoomedimage__.style.display = 'none'\", prop['chart.zoom.fade.out'] ? (frames * interval) + 10 : 0);\r\n         }\r\n \r\n         if (typeof(__zoomedbackground__) == 'object') {\r\n             setTimeout(\"__zoomedbackground__.style.display = 'none'\", prop['chart.zoom.fade.out'] ? (frames * interval) + 10 : 0);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Adds an event handler\r\n     * \r\n     * @param object obj   The graph object\r\n     * @param string event The name of the event, eg ontooltip\r\n     * @param object func  The callback function\r\n     */\r\n     RGraph.AddCustomEventListener = function (obj, name, func)\r\n     {\r\n         var RG = RGraph;\r\n \r\n         if (typeof(RG.events[obj.uid]) == 'undefined') {\r\n             RG.events[obj.uid] = [];\r\n         }\r\n \r\n         RG.events[obj.uid].push([obj, name, func]);\r\n         \r\n         return RG.events[obj.uid].length - 1;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Used to fire one of the RGraph custom events\r\n     * \r\n     * @param object obj   The graph object that fires the event\r\n     * @param string event The name of the event to fire\r\n     */\r\n     RGraph.FireCustomEvent = function (obj, name)\r\n     {\r\n         var RG = RGraph;\r\n \r\n         if (obj && obj.isRGraph) {\r\n         \r\n             // New style of adding custom events\r\n             if (obj[name]) {\r\n                 (obj[name])(obj);\r\n             }\r\n             \r\n             var uid = obj.uid;\r\n     \r\n             if (   typeof(uid) == 'string'\r\n                 && typeof(RG.events) == 'object'\r\n                 && typeof(RG.events[uid]) == 'object'\r\n                 && RG.events[uid].length > 0) {\r\n     \r\n                 for(var j=0; j<RG.events[uid].length; ++j) {\r\n                     if (RG.events[uid][j] && RG.events[uid][j][1] == name) {\r\n                         RG.events[uid][j][2](obj);\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * If you prefer, you can use the SetConfig() method to set the configuration information\r\n     * for your chart. You may find that setting the configuration this way eases reuse.\r\n     * \r\n     * @param object obj    The graph object\r\n     * @param object config The graph configuration information\r\n     */\r\n     RGraph.SetConfig = function (obj, config)\r\n     {\r\n         for (i in config) {\r\n             if (typeof(i) == 'string') {\r\n                 obj.Set(i, config[i]);\r\n             }\r\n         }\r\n         \r\n         return obj;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Clears all the custom event listeners that have been registered\r\n     * \r\n     * @param    string Limits the clearing to this object ID\r\n     */\r\n     RGraph.RemoveAllCustomEventListeners = function ()\r\n     {\r\n         var RG = RGraph;\r\n         var id = arguments[0];\r\n \r\n         if (id && RG.events[id]) {\r\n             RG.events[id] = [];\r\n         } else {\r\n             RG.events = [];\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Clears a particular custom event listener\r\n     * \r\n     * @param object obj The graph object\r\n     * @param number i   This is the index that is return by .AddCustomEventListener()\r\n     */\r\n     RGraph.RemoveCustomEventListener = function (obj, i)\r\n     {\r\n         var RG = RGraph;\r\n \r\n         if (   typeof(RG.events) == 'object'\r\n             && typeof(RG.events[obj.id]) == 'object'\r\n             && typeof(RG.events[obj.id][i]) == 'object') {\r\n             \r\n             RG.events[obj.id][i] = null;\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This draws the background\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.DrawBackgroundImage = function (obj)\r\n     {\r\n         var prop = obj.properties;\r\n         var ca   = obj.canvas;\r\n         var co   = obj.context;\r\n         var RG   = RGraph;\r\n \r\n         if (typeof(prop['chart.background.image']) == 'string') {\r\n             if (typeof(ca.__rgraph_background_image__) == 'undefined') {\r\n                 var img = new Image();\r\n                 img.__object__  = obj;\r\n                 img.__canvas__  = ca;\r\n                 img.__context__ = co;\r\n                 img.src         = obj.Get('chart.background.image');\r\n                 \r\n                 ca.__rgraph_background_image__ = img;\r\n             } else {\r\n                 img = ca.__rgraph_background_image__;\r\n             }\r\n             \r\n             // When the image has loaded - redraw the canvas\r\n             img.onload = function ()\r\n             {\r\n                 obj.__rgraph_background_image_loaded__ = true;\r\n                 RG.Clear(ca);\r\n                 RG.RedrawCanvas(ca);\r\n             }\r\n                 \r\n             var gutterLeft   = obj.gutterLeft;\r\n             var gutterRight  = obj.gutterRight;\r\n             var gutterTop    = obj.gutterTop;\r\n             var gutterBottom = obj.gutterBottom;\r\n             var stretch      = prop['chart.background.image.stretch'];\r\n             var align        = prop['chart.background.image.align'];\r\n     \r\n             // Handle chart.background.image.align\r\n             if (typeof(align) == 'string') {\r\n                 if (align.indexOf('right') != -1) {\r\n                     var x = ca.width - img.width - gutterRight;\r\n                 } else {\r\n                     var x = gutterLeft;\r\n                 }\r\n     \r\n                 if (align.indexOf('bottom') != -1) {\r\n                     var y = ca.height - img.height - gutterBottom;\r\n                 } else {\r\n                     var y = gutterTop;\r\n                 }\r\n             } else {\r\n                 var x = gutterLeft;\r\n                 var y = gutterTop;\r\n             }\r\n             \r\n             // X/Y coords take precedence over the align\r\n             var x = typeof(prop['chart.background.image.x']) == 'number' ? prop['chart.background.image.x'] : x;\r\n             var y = typeof(prop['chart.background.image.y']) == 'number' ? prop['chart.background.image.y'] : y;\r\n             var w = stretch ? ca.width - gutterLeft - gutterRight : img.width;\r\n             var h = stretch ? ca.height - gutterTop - gutterBottom : img.height;\r\n             \r\n             /**\r\n             * You can now specify the width and height of the image\r\n             */\r\n             if (typeof(prop['chart.background.image.w']) == 'number') w  = prop['chart.background.image.w'];\r\n             if (typeof(prop['chart.background.image.h']) == 'number') h = prop['chart.background.image.h'];\r\n     \r\n             co.drawImage(img,x,y,w, h);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function determines wshether an object has tooltips or not\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.hasTooltips = function (obj)\r\n     {\r\n         var prop = obj.properties;\r\n \r\n         if (typeof(prop['chart.tooltips']) == 'object' && prop['chart.tooltips']) {\r\n             for (var i=0,len=prop['chart.tooltips'].length; i<len; ++i) {\r\n                 if (!RGraph.is_null(obj.Get('chart.tooltips')[i])) {\r\n                     return true;\r\n                 }\r\n             }\r\n         } else if (typeof(prop['chart.tooltips']) == 'function') {\r\n             return true;\r\n         }\r\n         \r\n         return false;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function creates a (G)UID which can be used to identify objects.\r\n     * \r\n     * @return string (g)uid The (G)UID\r\n     */\r\n     RGraph.CreateUID = function ()\r\n     {\r\n         return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c)\r\n         {\r\n             var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n             return v.toString(16);\r\n         });\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * This is the new object registry, used to facilitate multiple objects per canvas.\r\n     * \r\n     * @param object obj The object to register\r\n     */\r\n     RGraph.ObjectRegistry.Add = function (obj)\r\n     {\r\n         var uid = obj.uid;\r\n         var id  = obj.canvas.id;\r\n         var RG = RGraph;\r\n \r\n         /**\r\n         * Index the objects by UID\r\n         */\r\n         RG.ObjectRegistry.objects.byUID.push([uid, obj]);\r\n         \r\n         /**\r\n         * Index the objects by the canvas that they're drawn on\r\n         */\r\n         RG.ObjectRegistry.objects.byCanvasID.push([id, obj]);\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Remove an object from the object registry\r\n     * \r\n     * @param object obj The object to remove.\r\n     */\r\n     RGraph.ObjectRegistry.Remove = function (obj)\r\n     {\r\n         var id  = obj.id;\r\n         var uid = obj.uid;\r\n         var RG  = RGraph;\r\n \r\n         for (var i=0; i<RG.ObjectRegistry.objects.byUID.length; ++i) {\r\n             if (RG.ObjectRegistry.objects.byUID[i] && RG.ObjectRegistry.objects.byUID[i][1].uid == uid) {\r\n                 RG.ObjectRegistry.objects.byUID[i] = null;\r\n             }\r\n         }\r\n \r\n \r\n         for (var i=0; i<RG.ObjectRegistry.objects.byCanvasID.length; ++i) {\r\n             if (   RG.ObjectRegistry.objects.byCanvasID[i]\r\n                 && RG.ObjectRegistry.objects.byCanvasID[i][1]\r\n                 && RG.ObjectRegistry.objects.byCanvasID[i][1].uid == uid) {\r\n                 \r\n                 RG.ObjectRegistry.objects.byCanvasID[i] = null;\r\n             }\r\n         }\r\n \r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Removes all objects from the ObjectRegistry. If either the ID of a canvas is supplied,\r\n     * or the canvas itself, then only objects pertaining to that canvas are cleared.\r\n     * \r\n     * @param mixed   Either a canvas object (as returned by document.getElementById()\r\n     *                or the ID of a canvas (ie a string)\r\n     */\r\n     RGraph.ObjectRegistry.Clear = function ()\r\n     {\r\n         var RG = RGraph;\r\n \r\n         // If an ID is supplied restrict the learing to that\r\n         if (arguments[0]) {\r\n             var id      = (typeof(arguments[0]) == 'object' ? arguments[0].id : arguments[0]);\r\n             var objects = RG.ObjectRegistry.getObjectsByCanvasID(id);\r\n \r\n             for (var i=0; i<objects.length; ++i) {\r\n                 RG.ObjectRegistry.Remove(objects[i]);\r\n             }\r\n \r\n         } else {\r\n \r\n             RG.ObjectRegistry.objects            = {};\r\n             RG.ObjectRegistry.objects.byUID      = [];\r\n             RG.ObjectRegistry.objects.byCanvasID = [];\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Lists all objects in the ObjectRegistry\r\n     * \r\n     * @param boolean ret Whether to return the list or alert() it\r\n     */\r\n     RGraph.ObjectRegistry.List = function ()\r\n     {\r\n         var list = [];\r\n         var RG   = RGraph;\r\n \r\n         for (var i=0,len=RG.ObjectRegistry.objects.byUID.length; i<len; ++i) {\r\n             if (RG.ObjectRegistry.objects.byUID[i]) {\r\n                 list.push(RG.ObjectRegistry.objects.byUID[i][1].type);\r\n             }\r\n         }\r\n         \r\n         if (arguments[0]) {\r\n             return list;\r\n         } else {\r\n             p(list);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Clears the ObjectRegistry of objects that are of a certain given type\r\n     * \r\n     * @param type string The type to clear\r\n     */\r\n     RGraph.ObjectRegistry.ClearByType = function (type)\r\n     {\r\n         var RG      = RGraph;\r\n         var objects = RG.ObjectRegistry.objects.byUID;\r\n \r\n         for (var i=0; i<objects.length; ++i) {\r\n             if (objects[i]) {\r\n                 var uid = objects[i][0];\r\n                 var obj = objects[i][1];\r\n                 \r\n                 if (obj && obj.type == type) {\r\n                     RG.ObjectRegistry.Remove(obj);\r\n                 }\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function provides an easy way to go through all of the objects that are held in the\r\n     * Registry\r\n     * \r\n     * @param func function This function is run for every object. Its passed the object as an argument\r\n     * @param string type Optionally, you can pass a type of object to look for\r\n     */\r\n     RGraph.ObjectRegistry.Iterate = function (func)\r\n     {\r\n         var objects = RGraph.ObjectRegistry.objects.byUID;\r\n \r\n         for (var i=0; i<objects.length; ++i) {\r\n         \r\n             if (typeof arguments[1] == 'string') {\r\n                 \r\n                 var types = arguments[1].split(/,/);\r\n \r\n                 for (var j=0; j<types.length; ++j) {\r\n                     if (types[j] == objects[i][1].type) {\r\n                         func(objects[i][1]);\r\n                     }\r\n                 }\r\n             } else {\r\n                 func(objects[i][1]);\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves all objects for a given canvas id\r\n     * \r\n     * @patarm id string The canvas ID to get objects for.\r\n     */\r\n     RGraph.ObjectRegistry.getObjectsByCanvasID = function (id)\r\n     {\r\n         var store = RGraph.ObjectRegistry.objects.byCanvasID;\r\n         var ret = [];\r\n \r\n         // Loop through all of the objects and return the appropriate ones\r\n         for (var i=0; i<store.length; ++i) {\r\n             if (store[i] && store[i][0] == id ) {\r\n                 ret.push(store[i][1]);\r\n             }\r\n         }\r\n \r\n         return ret;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves the relevant object based on the X/Y position.\r\n     * \r\n     * @param  object e The event object\r\n     * @return object   The applicable (if any) object\r\n     */\r\n     RGraph.ObjectRegistry.getFirstObjectByXY =\r\n     RGraph.ObjectRegistry.getObjectByXY = function (e)\r\n     {\r\n         var canvas  = e.target;\r\n         var ret     = null;\r\n         var objects = RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);\r\n \r\n         for (var i=(objects.length - 1); i>=0; --i) {\r\n \r\n             var obj = objects[i].getObjectByXY(e);\r\n \r\n             if (obj) {\r\n                 return obj;\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves the relevant objects based on the X/Y position.\r\n     * NOTE This function returns an array of objects\r\n     * \r\n     * @param  object e The event object\r\n     * @return          An array of pertinent objects. Note the there may be only one object\r\n     */\r\n     RGraph.ObjectRegistry.getObjectsByXY = function (e)\r\n     {\r\n         var canvas  = e.target;\r\n         var ret     = [];\r\n         var objects = RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);\r\n \r\n         // Retrieve objects \"front to back\"\r\n         for (var i=(objects.length - 1); i>=0; --i) {\r\n \r\n             var obj = objects[i].getObjectByXY(e);\r\n \r\n             if (obj) {\r\n                 ret.push(obj);\r\n             }\r\n         }\r\n         \r\n         return ret;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves the object with the corresponding UID\r\n     * \r\n     * @param string uid The UID to get the relevant object for\r\n     */\r\n     RGraph.ObjectRegistry.getObjectByUID = function (uid)\r\n     {\r\n         var objects = RGraph.ObjectRegistry.objects.byUID;\r\n \r\n         for (var i=0; i<objects.length; ++i) {\r\n             if (objects[i] && objects[i][1].uid == uid) {\r\n                 return objects[i][1];\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Brings a chart to the front of the ObjectRegistry by\r\n     * removing it and then readding it at the end and then\r\n     * redrawing the canvas\r\n     * \r\n     * @param object  obj    The object to bring to the front\r\n     * @param boolean redraw Whether to redraw the canvas after the \r\n     *                       object has been moved\r\n     */\r\n     RGraph.ObjectRegistry.bringToFront = function (obj)\r\n     {\r\n         var redraw = typeof arguments[1] == 'undefined' ? true : arguments[1];\r\n \r\n         RGraph.ObjectRegistry.Remove(obj);\r\n         RGraph.ObjectRegistry.Add(obj);\r\n         \r\n         if (redraw) {\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves the objects that are the given type\r\n     * \r\n     * @param  mixed canvas  The canvas to check. It can either be the canvas object itself or just the ID\r\n     * @param  string type   The type to look for\r\n     * @return array         An array of one or more objects\r\n     */\r\n     RGraph.ObjectRegistry.getObjectsByType = function (type)\r\n     {\r\n         var objects = RGraph.ObjectRegistry.objects.byUID;\r\n         var ret     = [];\r\n \r\n         for (var i=0; i<objects.length; ++i) {\r\n \r\n             if (objects[i] && objects[i][1] && objects[i][1].type && objects[i][1].type && objects[i][1].type == type) {\r\n                 ret.push(objects[i][1]);\r\n             }\r\n         }\r\n \r\n         return ret;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Retrieves the FIRST object that matches the given type\r\n     *\r\n     * @param  string type   The type of object to look for\r\n     * @return object        The FIRST object that matches the given type\r\n     */\r\n     RGraph.ObjectRegistry.getFirstObjectByType = function (type)\r\n     {\r\n         var objects = RGraph.ObjectRegistry.objects.byUID;\r\n     \r\n         for (var i=0; i<objects.length; ++i) {\r\n             if (objects[i] && objects[i][1] && objects[i][1].type == type) {\r\n                 return objects[i][1];\r\n             }\r\n         }\r\n         \r\n         return null;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This takes centerx, centery, x and y coordinates and returns the\r\n     * appropriate angle relative to the canvas angle system. Remember\r\n     * that the canvas angle system starts at the EAST axis\r\n     * \r\n     * @param  number cx  The centerx coordinate\r\n     * @param  number cy  The centery coordinate\r\n     * @param  number x   The X coordinate (eg the mouseX if coming from a click)\r\n     * @param  number y   The Y coordinate (eg the mouseY if coming from a click)\r\n     * @return number     The relevant angle (measured in in RADIANS)\r\n     */\r\n     RGraph.getAngleByXY = function (cx, cy, x, y)\r\n     {\r\n         var angle = Math.atan((y - cy) / (x - cx));\r\n             angle = Math.abs(angle)\r\n \r\n         if (x >= cx && y >= cy) {\r\n             angle += TWOPI;\r\n \r\n         } else if (x >= cx && y < cy) {\r\n             angle = (HALFPI - angle) + (PI + HALFPI);\r\n \r\n         } else if (x < cx && y < cy) {\r\n             angle += PI;\r\n \r\n         } else {\r\n             angle = PI - angle;\r\n         }\r\n \r\n         /**\r\n         * Upper and lower limit checking\r\n         */\r\n         if (angle > TWOPI) {\r\n             angle -= TWOPI;\r\n         }\r\n \r\n         return angle;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function returns the distance between two points. In effect the\r\n     * radius of an imaginary circle that is centered on x1 and y1. The name\r\n     * of this function is derived from the word \"Hypoteneuse\", which in\r\n     * trigonmetry is the longest side of a triangle\r\n     * \r\n     * @param number x1 The original X coordinate\r\n     * @param number y1 The original Y coordinate\r\n     * @param number x2 The target X coordinate\r\n     * @param number y2 The target Y  coordinate\r\n     */\r\n     RGraph.getHypLength = function (x1, y1, x2, y2)\r\n     {\r\n         var ret = Math.sqrt(((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n \r\n         return ret;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function gets the end point (X/Y coordinates) of a given radius.\r\n     * You pass it the center X/Y and the radius and this function will return\r\n     * the endpoint X/Y coordinates.\r\n     * \r\n     * @param number cx The center X coord\r\n     * @param number cy The center Y coord\r\n     * @param number r  The lrngth of the radius\r\n     */\r\n     RGraph.getRadiusEndPoint = function (cx, cy, angle, radius)\r\n     {\r\n         var x = cx + (Math.cos(angle) * radius);\r\n         var y = cy + (Math.sin(angle) * radius);\r\n         \r\n         return [x, y];\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This installs all of the event listeners\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.InstallEventListeners = function (obj)\r\n     {\r\n         var RG   = RGraph;\r\n         var prop = obj.properties;\r\n \r\n         /**\r\n         * Don't attempt to install event listeners for older versions of MSIE\r\n         */\r\n         if (ISOLD) {\r\n             return;\r\n         }\r\n \r\n         /**\r\n         * If this function exists, then the dynamic file has been included.\r\n         */\r\n         if (RG.InstallCanvasClickListener) {\r\n \r\n             RG.InstallWindowMousedownListener(obj);\r\n             RG.InstallWindowMouseupListener(obj);\r\n             RG.InstallCanvasMousemoveListener(obj);\r\n             RG.InstallCanvasMouseupListener(obj);\r\n             RG.InstallCanvasMousedownListener(obj);\r\n             RG.InstallCanvasClickListener(obj);\r\n         \r\n         } else if (   RG.hasTooltips(obj)\r\n                    || prop['chart.adjustable']\r\n                    || prop['chart.annotatable']\r\n                    || prop['chart.contextmenu']\r\n                    || prop['chart.resizable']\r\n                    || prop['chart.key.interactive']\r\n                    || prop['chart.events.click']\r\n                    || prop['chart.events.mousemove']\r\n                    || typeof obj.onclick == 'function'\r\n                    || typeof obj.onmousemove == 'function'\r\n                   ) {\r\n \r\n             alert('[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js');\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Loosly mimicks the PHP function print_r();\r\n     */\r\n     RGraph.pr = function (obj)\r\n     {\r\n         var indent = (arguments[2] ? arguments[2] : '    ');\r\n         var str    = '';\r\n \r\n         var counter = typeof arguments[3] == 'number' ? arguments[3] : 0;\r\n         \r\n         if (counter >= 5) {\r\n             return '';\r\n         }\r\n         \r\n         switch (typeof obj) {\r\n             \r\n             case 'string':    str += obj + ' (' + (typeof obj) + ', ' + obj.length + ')'; break;\r\n             case 'number':    str += obj + ' (' + (typeof obj) + ')'; break;\r\n             case 'boolean':   str += obj + ' (' + (typeof obj) + ')'; break;\r\n             case 'function':  str += 'function () {}'; break;\r\n             case 'undefined': str += 'undefined'; break;\r\n             case 'null':      str += 'null'; break;\r\n             \r\n             case 'object':\r\n                 // In case of null\r\n                 if (RGraph.is_null(obj)) {\r\n                     str += indent + 'null\\n';\r\n                 } else {\r\n                     str += indent + 'Object {' + '\\n'\r\n                     for (j in obj) {\r\n                         str += indent + '    ' + j + ' => ' + RGraph.pr(obj[j], true, indent + '    ', counter + 1) + '\\n';\r\n                     }\r\n                     str += indent + '}';\r\n                 }\r\n                 break;\r\n             \r\n             \r\n             default:\r\n                 str += 'Unknown type: ' + typeof obj + '';\r\n                 break;\r\n         }\r\n \r\n \r\n         /**\r\n         * Finished, now either return if we're in a recursed call, or alert()\r\n         * if we're not.\r\n         */\r\n         if (!arguments[1]) {\r\n             alert(str);\r\n         }\r\n         \r\n         return str;\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Produces a dashed line\r\n     * \r\n     * @param object co The 2D context\r\n     * @param number x1 The start X coordinate\r\n     * @param number y1 The start Y coordinate\r\n     * @param number x2 The end X coordinate\r\n     * @param number y2 The end Y coordinate\r\n     */\r\n     RGraph.DashedLine = function(co, x1, y1, x2, y2)\r\n     {\r\n         /**\r\n         * This is the size of the dashes\r\n         */\r\n         var size = 5;\r\n \r\n         /**\r\n         * The optional fifth argument can be the size of the dashes\r\n         */\r\n         if (typeof(arguments[5]) == 'number') {\r\n             size = arguments[5];\r\n         }\r\n \r\n         var dx  = x2 - x1;\r\n         var dy  = y2 - y1;\r\n         var num = Math.floor(Math.sqrt((dx * dx) + (dy * dy)) / size);\r\n \r\n         var xLen = dx / num;\r\n         var yLen = dy / num;\r\n \r\n         var count = 0;\r\n \r\n         do {\r\n             (count % 2 == 0 && count > 0) ? co.lineTo(x1, y1) : co.moveTo(x1, y1);\r\n \r\n             x1 += xLen;\r\n             y1 += yLen;\r\n         } while(count++ <= num);\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Makes an AJAX call. It calls the given callback (a function) when ready\r\n     * \r\n     * @param string   url      The URL to retrieve\r\n     * @param function callback A function that is called when the response is ready, there's an example below\r\n     *                          called \"myCallback\".\r\n     */\r\n     RGraph.AJAX = function (url, callback)\r\n     {\r\n         // Mozilla, Safari, ...\r\n         if (window.XMLHttpRequest) {\r\n             var httpRequest = new XMLHttpRequest();\r\n \r\n         // MSIE\r\n         } else if (window.ActiveXObject) {\r\n             var httpRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n         }\r\n \r\n         httpRequest.onreadystatechange = function ()\r\n         {\r\n             if (this.readyState == 4 && this.status == 200) {\r\n                 this.__user_callback__ = callback;\r\n                 this.__user_callback__(this.responseText);\r\n             }\r\n         }\r\n \r\n         httpRequest.open('GET', url, true);\r\n         httpRequest.send();\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Makes an AJAX POST request. It calls the given callback (a function) when ready\r\n     * \r\n     * @param string   url      The URL to retrieve\r\n     * @param object   data     The POST data\r\n     * @param function callback A function that is called when the response is ready, there's an example below\r\n     *                          called \"myCallback\".\r\n     */\r\n     RGraph.AJAX.POST = function (url, data, callback)\r\n     {\r\n         // Used when building the POST string\r\n         var crumbs = [];\r\n \r\n         // Mozilla, Safari, ...\r\n         if (window.XMLHttpRequest) {\r\n             var httpRequest = new XMLHttpRequest();\r\n \r\n         // MSIE\r\n         } else if (window.ActiveXObject) {\r\n             var httpRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n         }\r\n \r\n         httpRequest.onreadystatechange = function ()\r\n         {\r\n             if (this.readyState == 4 && this.status == 200) {\r\n                 this.__user_callback__ = callback;\r\n                 this.__user_callback__(this.responseText);\r\n             }\r\n         }\r\n \r\n         httpRequest.open('POST', url, true);\r\n         httpRequest.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\r\n         \r\n         for (i in data) {\r\n             if (typeof i == 'string') {\r\n                 crumbs.push(i + '=' + encodeURIComponent(data[i]));\r\n             }\r\n         }\r\n \r\n         httpRequest.send(crumbs.join('&'));\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Uses the above function but calls the call back passing a number as its argument\r\n     * \r\n     * @param url string The URL to fetch\r\n     * @param callback function Your callback function (which is passed the number as an argument)\r\n     */\r\n     RGraph.AJAX.getNumber = function (url, callback)\r\n     {\r\n         RGraph.AJAX(url, function ()\r\n         {\r\n             var num = parseFloat(this.responseText);\r\n \r\n             callback(num);\r\n         });\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Uses the above function but calls the call back passing a string as its argument\r\n     * \r\n     * @param url string The URL to fetch\r\n     * @param callback function Your callback function (which is passed the string as an argument)\r\n     */\r\n     RGraph.AJAX.getString = function (url, callback)\r\n     {\r\n         RGraph.AJAX(url, function ()\r\n         {\r\n             var str = String(this.responseText);\r\n \r\n             callback(str);\r\n         });\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Uses the above function but calls the call back passing JSON (ie a JavaScript object ) as its argument\r\n     * \r\n     * @param url string The URL to fetch\r\n     * @param callback function Your callback function (which is passed the JSON object as an argument)\r\n     */\r\n     RGraph.AJAX.getJSON = function (url, callback)\r\n     {\r\n         RGraph.AJAX(url, function ()\r\n         {\r\n \r\n             var json = eval('(' + this.responseText + ')');\r\n \r\n             callback(json);\r\n         });\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Uses the above RGraph.AJAX function but calls the call back passing an array as its argument.\r\n     * Useful if you're retrieving CSV data\r\n     * \r\n     * @param url string The URL to fetch\r\n     * @param callback function Your callback function (which is passed the CSV/array as an argument)\r\n     */\r\n     RGraph.AJAX.getCSV = function (url, callback)\r\n     {\r\n         var seperator = arguments[2] ? arguments[2] : ',';\r\n \r\n         RGraph.AJAX(url, function ()\r\n         {\r\n             var regexp = new RegExp(seperator);\r\n             var arr = this.responseText.split(regexp);\r\n             \r\n             // Convert the strings to numbers\r\n             for (var i=0,len=arr.length;i<len;++i) {\r\n                 arr[i] = parseFloat(arr[i]);\r\n             }\r\n \r\n             callback(arr);\r\n         });\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Rotates the canvas\r\n     * \r\n     * @param object canvas The canvas to rotate\r\n     * @param  int   x      The X coordinate about which to rotate the canvas\r\n     * @param  int   y      The Y coordinate about which to rotate the canvas\r\n     * @param  int   angle  The angle(in RADIANS) to rotate the canvas by\r\n     */\r\n     RGraph.RotateCanvas = function (ca, x, y, angle)\r\n     {\r\n         var co = ca.getContext('2d');\r\n \r\n         co.translate(x, y);\r\n         co.rotate(angle);\r\n         co.translate(0 - x, 0 - y);    \r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Measures text by creating a DIV in the document and adding the relevant text to it.\r\n     * Then checking the .offsetWidth and .offsetHeight.\r\n     * \r\n     * @param  string text   The text to measure\r\n     * @param  bool   bold   Whether the text is bold or not\r\n     * @param  string font   The font to use\r\n     * @param  size   number The size of the text (in pts)\r\n     * @return array         A two element array of the width and height of the text\r\n     */\r\n     RGraph.MeasureText = function (text, bold, font, size)\r\n     {\r\n         // Add the sizes to the cache as adding DOM elements is costly and causes slow downs\r\n         if (typeof(__rgraph_measuretext_cache__) == 'undefined') {\r\n             __rgraph_measuretext_cache__ = [];\r\n         }\r\n \r\n         var str = text + ':' + bold + ':' + font + ':' + size;\r\n         if (typeof(__rgraph_measuretext_cache__) == 'object' && __rgraph_measuretext_cache__[str]) {\r\n             return __rgraph_measuretext_cache__[str];\r\n         }\r\n         \r\n         if (!__rgraph_measuretext_cache__['text-div']) {\r\n             var div = document.createElement('DIV');\r\n                 div.style.position = 'absolute';\r\n                 div.style.top = '-100px';\r\n                 div.style.left = '-100px';\r\n             document.body.appendChild(div);\r\n             \r\n             // Now store the newly created DIV\r\n             __rgraph_measuretext_cache__['text-div'] = div;\r\n \r\n         } else if (__rgraph_measuretext_cache__['text-div']) {\r\n             var div = __rgraph_measuretext_cache__['text-div'];\r\n         }\r\n \r\n         div.innerHTML = text.replace(/\\r\\n/g, '<br />');\r\n         div.style.fontFamily = font;\r\n         div.style.fontWeight = bold ? 'bold' : 'normal';\r\n         div.style.fontSize = size + 'pt';\r\n         \r\n         var size = [div.offsetWidth, div.offsetHeight];\r\n \r\n         //document.body.removeChild(div);\r\n         __rgraph_measuretext_cache__[str] = size;\r\n         \r\n         return size;\r\n     }\r\n \r\n \r\n \r\n \r\n     /* New text function. Accepts two arguments:\r\n     *  o obj - The chart object\r\n     *  o opt - An object/hash/map of properties. This can consist of:\r\n     *          x                The X coordinate (REQUIRED)\r\n     *          y                The Y coordinate (REQUIRED)\r\n     *          text             The text to show (REQUIRED)\r\n     *          font             The font to use\r\n     *          size             The size of the text (in pt)\r\n     *          bold             Whether the text shouldd be bold or not\r\n     *          marker           Whether to show a marker that indicates the X/Y coordinates\r\n     *          valign           The vertical alignment\r\n     *          halign           The horizontal alignment\r\n     *          bounding         Whether to draw a bounding box for the text\r\n     *          boundingStroke   The strokeStyle of the bounding box\r\n     *          boundingFill     The fillStyle of the bounding box\r\n     */\r\n     RGraph.Text2 = function (obj, opt)\r\n     {\r\n         /**\r\n         * An RGraph object can be given, or a string or the 2D rendering context\r\n         * The coords are placed on the obj.coordsText variable ONLY if it's an RGraph object. The function\r\n         * still returns the cooords though in all cases.\r\n         */\r\n         if (obj && obj.isRGraph) {\r\n             var co = obj.context;\r\n             var ca = obj.canvas;\r\n         } else if (typeof obj == 'string') {\r\n             var ca = document.getElementById(obj);\r\n             var co = ca.getContext('2d');\r\n         } else if (typeof obj.getContext == 'function') {\r\n             var ca = obj;\r\n             var co = ca.getContext('2d');\r\n         } else if (obj.toString().indexOf('CanvasRenderingContext2D') != -1) {\r\n             var co = obj;\r\n             var ca = obj.context;\r\n         }\r\n \r\n         var x              = opt.x;\r\n         var y              = opt.y;\r\n         var originalX      = x;\r\n         var originalY      = y;\r\n         var text           = opt.text;\r\n         var text_multiline = text.split(/\\r?\\n/g);\r\n         var numlines       = text_multiline.length;\r\n         var font           = opt.font ? opt.font : 'Arial';\r\n         var size           = opt.size ? opt.size : 10;\r\n         var size_pixels    = size * 1.5;\r\n         var bold           = opt.bold;\r\n         var halign         = opt.halign ? opt.halign : 'left';\r\n         var valign         = opt.valign ? opt.valign : 'bottom';\r\n         var tag            = typeof opt.tag == 'string' && opt.tag.length > 0 ? opt.tag : '';\r\n         var marker         = opt.marker;\r\n         var angle          = opt.angle || 0;\r\n         \r\n         /**\r\n         * Changed the name of boundingFill/boundingStroke - this allows you to still use those names\r\n         */\r\n         if (typeof opt.boundingFill == 'string')   opt['bounding.fill']   = opt.boundingFill;\r\n         if (typeof opt.boundingStroke == 'string') opt['bounding.stroke'] = opt.boundingStroke;\r\n \r\n         var bounding                = opt.bounding;\r\n         var bounding_stroke         = opt['bounding.stroke'] ? opt['bounding.stroke'] : 'black';\r\n         var bounding_fill           = opt['bounding.fill'] ? opt['bounding.fill'] : 'rgba(255,255,255,0.7)';\r\n         var bounding_shadow         = opt['bounding.shadow'];\r\n         var bounding_shadow_color   = opt['bounding.shadow.color'] || '#ccc';\r\n         var bounding_shadow_blur    = opt['bounding.shadow.blur'] || 3;\r\n         var bounding_shadow_offsetx = opt['bounding.shadow.offsetx'] || 3;\r\n         var bounding_shadow_offsety = opt['bounding.shadow.offsety'] || 3;\r\n         var bounding_linewidth      = opt['bounding.linewidth'] || 1;\r\n \r\n \r\n \r\n         /**\r\n         * Initialize the return value to an empty object\r\n         */\r\n         var ret = {};\r\n \r\n \r\n \r\n         /**\r\n         * The text arg must be a string or a number\r\n         */\r\n         if (typeof text == 'number') {\r\n             text = String(text);\r\n         }\r\n \r\n         if (typeof text != 'string') {\r\n             alert('[RGRAPH TEXT] The text given must a string or a number');\r\n             return;\r\n         }\r\n     \r\n         /**\r\n         * This facilitates vertical text\r\n         */\r\n         if (angle != 0) {\r\n             co.save();\r\n             co.translate(x, y);\r\n             co.rotate((Math.PI / 180) * angle)\r\n             x = 0;\r\n             y = 0;\r\n         }\r\n \r\n         /**\r\n         * Set the font\r\n         */\r\n         co.font = (opt.bold ? 'bold ' : '') + size + 'pt ' + font;\r\n \r\n \r\n \r\n         /**\r\n         * Measure the width/height. This must be done AFTER the font has been set\r\n         */\r\n         var width=0;\r\n         for (var i=0; i<numlines; ++i) {\r\n             width = Math.max(width, co.measureText(text_multiline[i]).width);\r\n         }\r\n         var height = size_pixels * numlines;\r\n \r\n \r\n \r\n         /**\r\n         * Accommodate old MSIE 7/8\r\n         */\r\n         //if (document.all && ISOLD) {\r\n             //y += 2;\r\n         //}\r\n \r\n \r\n         /**\r\n         * If marker is specified draw a marker at the X/Y coordinates\r\n         */\r\n         if (opt.marker) {\r\n             var marker_size = 10;\r\n             var strokestyle = co.strokeStyle;\r\n             co.beginPath();\r\n                 co.strokeStyle = 'red';\r\n                 co.moveTo(x, y - marker_size);\r\n                 co.lineTo(x, y + marker_size);\r\n                 co.moveTo(x - marker_size, y);\r\n                 co.lineTo(x + marker_size, y);\r\n             co.stroke();\r\n             co.strokeStyle = strokestyle;\r\n         }\r\n \r\n \r\n         /**\r\n         * Set the horizontal alignment\r\n         */\r\n         if (halign == 'center') {\r\n             co.textAlign = 'center';\r\n             var boundingX = x - 2 - (width / 2);\r\n         } else if (halign == 'right') {\r\n             co.textAlign = 'right';\r\n             var boundingX = x - 2 - width;\r\n         } else {\r\n             co.textAlign = 'left';\r\n             var boundingX = x - 2;\r\n         }\r\n \r\n \r\n         /**\r\n         * Set the vertical alignment\r\n         */\r\n         if (valign == 'center') {\r\n             \r\n             co.textBaseline = 'middle';\r\n             // Move the text slightly\r\n             y -= 1;\r\n             \r\n             y -= ((numlines - 1) / 2) * size_pixels;\r\n             var boundingY = y - (size_pixels / 2) - 2;\r\n         \r\n         } else if (valign == 'top') {\r\n             co.textBaseline = 'top';\r\n \r\n             var boundingY = y - 2;\r\n \r\n         } else {\r\n \r\n             co.textBaseline = 'bottom';\r\n             \r\n             // Move the Y coord if multiline text\r\n             if (numlines > 1) {\r\n                 y -= ((numlines - 1) * size_pixels);\r\n             }\r\n \r\n             var boundingY = y - size_pixels - 2;\r\n         }\r\n         \r\n         var boundingW = width + 4;\r\n         var boundingH = height + 4;\r\n \r\n \r\n \r\n         /**\r\n         * Draw a bounding box if required\r\n         */\r\n         if (bounding) {\r\n \r\n             var pre_bounding_linewidth     = co.lineWidth;\r\n             var pre_bounding_strokestyle   = co.strokeStyle;\r\n             var pre_bounding_fillstyle     = co.fillStyle;\r\n             var pre_bounding_shadowcolor   = co.shadowColor;\r\n             var pre_bounding_shadowblur    = co.shadowBlur;\r\n             var pre_bounding_shadowoffsetx = co.shadowOffsetX;\r\n             var pre_bounding_shadowoffsety = co.shadowOffsetY;\r\n \r\n             co.lineWidth   = bounding_linewidth;\r\n             co.strokeStyle = bounding_stroke;\r\n             co.fillStyle   = bounding_fill;\r\n \r\n             if (bounding_shadow) {\r\n                 co.shadowColor   = bounding_shadow_color;\r\n                 co.shadowBlur    = bounding_shadow_blur;\r\n                 co.shadowOffsetX = bounding_shadow_offsetx;\r\n                 co.shadowOffsetY = bounding_shadow_offsety;\r\n             }\r\n \r\n             //obj.context.strokeRect(boundingX, boundingY, width + 6, (size_pixels * numlines) + 4);\r\n             //obj.context.fillRect(boundingX, boundingY, width + 6, (size_pixels * numlines) + 4);\r\n             co.strokeRect(boundingX, boundingY, boundingW, boundingH);\r\n             co.fillRect(boundingX, boundingY, boundingW, boundingH);\r\n \r\n             // Reset the linewidth,colors and shadow to it's original setting\r\n             co.lineWidth     = pre_bounding_linewidth;\r\n             co.strokeStyle   = pre_bounding_strokestyle;\r\n             co.fillStyle     = pre_bounding_fillstyle;\r\n             co.shadowColor   = pre_bounding_shadowcolor\r\n             co.shadowBlur    = pre_bounding_shadowblur\r\n             co.shadowOffsetX = pre_bounding_shadowoffsetx\r\n             co.shadowOffsetY = pre_bounding_shadowoffsety\r\n         }\r\n \r\n         /**\r\n         * Draw the text\r\n         */\r\n         if (numlines > 1) {\r\n             for (var i=0; i<numlines; ++i) {\r\n                 co.fillText(text_multiline[i], x, y + (size_pixels * i));\r\n             }\r\n         } else {\r\n             co.fillText(text, x, y);\r\n         }\r\n        \r\n         /**\r\n         * If the text is at 90 degrees restore() the canvas - getting rid of the rotation\r\n         * and the translate that we did\r\n         */\r\n         if (angle != 0) {\r\n             if (angle == 90) {\r\n                 if (halign == 'left') {\r\n                     if (valign == 'bottom') {boundingX = originalX - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height / 2) - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - height - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 \r\n                 } else if (halign == 'center') {\r\n                     if (valign == 'bottom') {boundingX = originalX - 2; boundingY = originalY - (width / 2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height / 2) -  2; boundingY = originalY - (width / 2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - height -  2; boundingY = originalY - (width / 2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 \r\n                 } else if (halign == 'right') {\r\n                     if (valign == 'bottom') {boundingX = originalX - 2; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height / 2) - 2; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - height - 2; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 }\r\n \r\n             } else if (angle == 180) {\r\n \r\n                 if (halign == 'left') {\r\n                     if (valign == 'bottom') {boundingX = originalX - width - 2; boundingY = originalY - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - width - 2; boundingY = originalY - (height / 2) - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - width - 2; boundingY = originalY - height - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                 \r\n                 } else if (halign == 'center') {\r\n                     if (valign == 'bottom') {boundingX = originalX - (width / 2) - 2; boundingY = originalY - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (width / 2) - 2; boundingY = originalY - (height / 2) - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - (width / 2) - 2; boundingY = originalY - height - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                 \r\n                 } else if (halign == 'right') {\r\n                     if (valign == 'bottom') {boundingX = originalX - 2; boundingY = originalY - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - 2; boundingY = originalY - (height / 2) - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - 2; boundingY = originalY - height - 2; boundingW = width + 4; boundingH = height + 4;}\r\n                 }\r\n             \r\n             } else if (angle == 270) {\r\n \r\n                 if (halign == 'left') {\r\n                     if (valign == 'bottom') {boundingX = originalX - height - 2; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height / 2) - 4; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - 2; boundingY = originalY - width - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 \r\n                 } else if (halign == 'center') {\r\n                     if (valign == 'bottom') {boundingX = originalX - height - 2; boundingY = originalY - (width/2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height/2) - 4; boundingY = originalY - (width/2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - 2; boundingY = originalY - (width/2) - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 \r\n                 } else if (halign == 'right') {\r\n                     if (valign == 'bottom') {boundingX = originalX - height - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'center') {boundingX = originalX - (height/2) - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                     if (valign == 'top')    {boundingX = originalX - 2; boundingY = originalY - 2; boundingW = height + 4; boundingH = width + 4;}\r\n                 }\r\n             }\r\n \r\n             co.restore();\r\n         }\r\n \r\n         /**\r\n         * Reset the text alignment so that text rendered\r\n         */\r\n         co.textBaseline = 'alphabetic';\r\n         co.textAlign    = 'left';\r\n \r\n \r\n         /**\r\n         * Fill the ret variable with details of the text\r\n         */\r\n         ret.x      = boundingX;\r\n         ret.y      = boundingY;\r\n         ret.width  = boundingW;\r\n         ret.height = boundingH\r\n         ret.object = obj;\r\n         ret.text   = text;\r\n         ret.tag    = tag;\r\n \r\n         /**\r\n         * Save and then return the details of the text (but oly\r\n         * if it's an RGraph object that was given)\r\n         */\r\n         if (obj && obj.isRGraph && obj.coordsText) {\r\n             obj.coordsText.push(ret);\r\n         }\r\n \r\n         return ret;\r\n     }\r\n \r\n \r\n     /**\r\n     * Takes a sequential index abd returns the group/index variation of it. Eg if you have a\r\n     * sequential index from a grouped bar chart this function can be used to convert that into\r\n     * an appropriate group/index combination\r\n     * \r\n     * @param nindex number The sequential index\r\n     * @param data   array  The original data (which is grouped)\r\n     * @return              The group/index information\r\n     */\r\n     RGraph.sequentialIndexToGrouped = function (index, data)\r\n     {\r\n         var group         = 0;\r\n         var grouped_index = 0;\r\n \r\n         while (--index >= 0) {\r\n \r\n             if (RGraph.is_null(data[group])) {\r\n                 group++;\r\n                 grouped_index = 0;\r\n                 continue;\r\n             }\r\n \r\n             // Allow for numbers as well as arrays in the dataset\r\n             if (typeof data[group] == 'number') {\r\n                 group++\r\n                 grouped_index = 0;\r\n                 continue;\r\n             }\r\n             \r\n \r\n             grouped_index++;\r\n             \r\n             if (grouped_index >= data[group].length) {\r\n                 group++;\r\n                 grouped_index = 0;\r\n             }\r\n         }\r\n         \r\n         return [group, grouped_index];\r\n     }\r\n \r\n \r\n     /**\r\n     * A sihm for the forEach array function so that it's available for older browsers that\r\n     * don't have it\r\n     */\r\n     if ( !Array.prototype.forEach ) {\r\n       Array.prototype.forEach = function(fn, scope) {\r\n         for(var i = 0, len = this.length; i < len; ++i) {\r\n           fn.call(scope, this[i], i, this);\r\n         }\r\n       }\r\n     }\r\n \r\n \r\n     /**\r\n     * Checks whether strings or numbers are empty or not. It also\r\n     * handles null or variables set to undefined. If a variable really\r\n     * is undefined - ie it hasn't been declared at all - you need to use\r\n     * \"typeof variable\" and check the return value - which will be undefined.\r\n     * \r\n     * @param mixed value The variable to check\r\n     */\r\n     function empty (value)\r\n     {\r\n         if (!value || value.length <= 0) {\r\n             return true;\r\n         }\r\n         \r\n         return false;\r\n     }\r\n \r\n     /**\r\n     * This function highlights a rectangle\r\n     * \r\n     * @param object obj    The chart object\r\n     * @param number shape  The coordinates of the rect to highlight\r\n     */\r\n     RGraph.Highlight.Rect = function (obj, shape)\r\n     {        \r\n         var ca   = obj.canvas;\r\n         var co   = obj.context;\r\n         var prop = obj.properties;\r\n \r\n         if (prop['chart.tooltips.highlight']) {\r\n             \r\n         \r\n             // Safari seems to need this\r\n             co.lineWidth = 1;\r\n \r\n             /**\r\n             * Draw a rectangle on the canvas to highlight the appropriate area\r\n             */\r\n             co.beginPath();\r\n \r\n                 co.strokeStyle = prop['chart.highlight.stroke'];\r\n                 co.fillStyle   = prop['chart.highlight.fill'];\r\n     \r\n                 co.strokeRect(shape['x'],shape['y'],shape['width'],shape['height']);\r\n                 co.fillRect(shape['x'],shape['y'],shape['width'],shape['height']);\r\n             co.stroke;\r\n             co.fill();\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * This function highlights a point\r\n     * \r\n     * @param object obj    The chart object\r\n     * @param number shape  The coordinates of the rect to highlight\r\n     */\r\n     RGraph.Highlight.Point = function (obj, shape)\r\n     {\r\n         var prop = obj.properties;\r\n         var ca   = obj.canvas;\r\n         var co   = obj.context;\r\n \r\n         if (prop['chart.tooltips.highlight']) {\r\n     \r\n             /**\r\n             * Draw a rectangle on the canvas to highlight the appropriate area\r\n             */\r\n             co.beginPath();\r\n                 co.strokeStyle = prop['chart.highlight.stroke'];\r\n                 co.fillStyle   = prop['chart.highlight.fill'];\r\n                 var radius   = prop['chart.highlight.point.radius'] || 2;\r\n                 co.arc(shape['x'],shape['y'],radius, 0, TWOPI, 0);\r\n             co.stroke();\r\n             co.fill();\r\n         }\r\n     }\r\n \r\n // Some other functions. Because they're rarely changed - they're hand minified\r\n RGraph.LinearGradient=function(obj,x1,y1,x2,y2,color1,color2){var gradient=obj.context.createLinearGradient(x1,y1,x2,y2);var numColors=arguments.length-5;for (var i=5;i<arguments.length;++i){var color=arguments[i];var stop=(i-5)/(numColors-1);gradient.addColorStop(stop,color);}return gradient;}\r\n RGraph.RadialGradient=function(obj,x1,y1,r1,x2,y2,r2,color1,color2){var gradient=obj.context.createRadialGradient(x1,y1,r1,x2,y2,r2);var numColors=arguments.length-7;for(var i=7;i<arguments.length; ++i){var color=arguments[i];var stop=(i-7)/(numColors-1);gradient.addColorStop(stop,color);}return gradient;}\r\n RGraph.array_shift=function(arr){var ret=[];for(var i=1;i<arr.length;++i){ret.push(arr[i]);}return ret;}\r\n RGraph.AddEventListener=function(id,e,func){var type=arguments[3]?arguments[3]:'unknown';RGraph.Registry.Get('chart.event.handlers').push([id,e,func,type]);}\r\n RGraph.ClearEventListeners=function(id){if(id&&id=='window'){window.removeEventListener('mousedown',window.__rgraph_mousedown_event_listener_installed__,false);window.removeEventListener('mouseup',window.__rgraph_mouseup_event_listener_installed__,false);}else{var canvas = document.getElementById(id);canvas.removeEventListener('mouseup',canvas.__rgraph_mouseup_event_listener_installed__,false);canvas.removeEventListener('mousemove',canvas.__rgraph_mousemove_event_listener_installed__,false);canvas.removeEventListener('mousedown',canvas.__rgraph_mousedown_event_listener_installed__,false);canvas.removeEventListener('click',canvas.__rgraph_click_event_listener_installed__,false);}}\r\n RGraph.HidePalette=function(){var div=RGraph.Registry.Get('palette');if(typeof(div)=='object'&&div){div.style.visibility='hidden';div.style.display='none';RGraph.Registry.Set('palette',null);}}\r\n RGraph.random=function(min,max){var dp=arguments[2]?arguments[2]:0;var r=Math.random();return Number((((max - min) * r) + min).toFixed(dp));}\r\n RGraph.random.array=function(num,min,max){var arr = [];for(var i=0;i<num;i++)arr.push(RGraph.random(min,max));return arr;}\r\n RGraph.NoShadow=function(obj){obj.context.shadowColor='rgba(0,0,0,0)';obj.context.shadowBlur=0;obj.context.shadowOffsetX=0;obj.context.shadowOffsetY=0;}\r\n RGraph.SetShadow=function(obj,color,offsetx,offsety,blur){obj.context.shadowColor=color;obj.context.shadowOffsetX=offsetx;obj.context.shadowOffsetY=offsety;obj.context.shadowBlur=blur;}\r\n RGraph.array_reverse=function(arr){var newarr=[];for(var i=arr.length-1;i>=0;i--){newarr.push(arr[i]);}return newarr;}\r\n RGraph.Registry.Set=function(name,value){RGraph.Registry.store[name]=value;return value;}\r\n RGraph.Registry.Get=function(name){return RGraph.Registry.store[name];}\r\n RGraph.degrees2Radians=function(degrees){return degrees*(PI/180);}\r\n RGraph.log=(function(n,base){var log=Math.log;return function(n,base){return log(n)/(base?log(base):1);};})();\r\n RGraph.is_array=function(obj){return obj!=null&&obj.constructor.toString().indexOf('Array')!=-1;}\r\n RGraph.trim=function(str){return RGraph.ltrim(RGraph.rtrim(str));}\r\n RGraph.ltrim=function(str){return str.replace(/^(\\s|\\0)+/, '');}\r\n RGraph.rtrim=function(str){return str.replace(/(\\s|\\0)+$/, '');}\r\n RGraph.GetHeight=function(obj){return obj.canvas.height;}\r\n RGraph.GetWidth=function(obj){return obj.canvas.width;}\r\n RGraph.is_null=function(arg){if(arg==null||(typeof(arg))=='object'&&!arg){return true;}return false;}\r\n RGraph.Timer=function(label){if(typeof(RGraph.TIMER_LAST_CHECKPOINT)=='undefined'){RGraph.TIMER_LAST_CHECKPOINT=Date.now();}var now=Date.now();console.log(label+': '+(now-RGraph.TIMER_LAST_CHECKPOINT).toString());RGraph.TIMER_LAST_CHECKPOINT=now;}\r\n RGraph.Async=function(func){return setTimeout(func,arguments[1]?arguments[1]:1);}\r\n RGraph.isIE=function(){return navigator.userAgent.indexOf('MSIE')>0;};var ISIE=RGraph.isIE();\r\n RGraph.isIE6=function(){return navigator.userAgent.indexOf('MSIE 6')>0;};var ISIE6=RGraph.isIE6();\r\n RGraph.isIE7=function(){return navigator.userAgent.indexOf('MSIE 7')>0;};var ISIE7=RGraph.isIE7();\r\n RGraph.isIE8=function(){return navigator.userAgent.indexOf('MSIE 8')>0;};var ISIE8=RGraph.isIE8();\r\n RGraph.isIE9=function(){return navigator.userAgent.indexOf('MSIE 9')>0;};var ISIE9=RGraph.isIE9();\r\n RGraph.isIE10=function(){return navigator.userAgent.indexOf('MSIE 10')>0;};var ISIE10=RGraph.isIE10();\r\n RGraph.isIE9up=function(){navigator.userAgent.match(/MSIE (\\d+)/);return Number(RegExp.$1)>=9;};var ISIE9UP=RGraph.isIE9up();\r\n RGraph.isIE10up=function(){navigator.userAgent.match(/MSIE (\\d+)/);return Number(RegExp.$1)>=10;};var ISIE10UP=RGraph.isIE10up();\r\n RGraph.isOld=function(){return ISIE6||ISIE7||ISIE8;};var ISOLD=RGraph.isOld();\r\n RGraph.Reset=function(canvas){canvas.width=canvas.width;RGraph.ObjectRegistry.Clear(canvas);canvas.__rgraph_aa_translated__=false;}\r\n function pd(variable){RGraph.pr(variable);}\r\n function p(variable){RGraph.pr(arguments[0],arguments[1],arguments[3]);}\r\n function a(variable){alert(variable);}\r\n function cl(variable){return console.log(variable);}\r\n\r\n     /**\r\n    * o------------------------------------------------------------------------------o\r\n    * | This file is part of the RGraph package - you can learn more at:             |\r\n    * |                                                                              |\r\n    * |                          http://www.rgraph.net                               |\r\n    * |                                                                              |\r\n    * | This package is licensed under the RGraph license. For all kinds of business |\r\n    * | purposes there is a small one-time licensing fee to pay and for non          |\r\n    * | commercial  purposes it is free to use. You can read the full license here:  |\r\n    * |                                                                              |\r\n    * |                      http://www.rgraph.net/license                           |\r\n    * o------------------------------------------------------------------------------o\r\n    */\r\n    \r\n    /**\r\n    * This is a library of a few functions that make it easier to do\r\n    * effects like fade-ins or eaxpansion.\r\n    */\r\n\r\n    /**\r\n    * Initialise the various objects\r\n    */\r\n     if (typeof(RGraph) == 'undefined') RGraph = {isRGraph:true,type:'common'};\r\n    \r\n     RGraph.Effects = {};\r\n     RGraph.Effects.Fade             = {}; RGraph.Effects.jQuery           = {}\r\n     RGraph.Effects.jQuery.HBlinds   = {}; RGraph.Effects.jQuery.VBlinds   = {}\r\n     RGraph.Effects.jQuery.Slide     = {}; RGraph.Effects.Pie              = {}\r\n     RGraph.Effects.Bar              = {}; RGraph.Effects.Line             = {}\r\n     RGraph.Effects.Line.jQuery      = {}; RGraph.Effects.Fuel             = {}\r\n     RGraph.Effects.Rose             = {}; RGraph.Effects.Odo              = {}\r\n     RGraph.Effects.Gauge            = {}; RGraph.Effects.Meter            = {}\r\n     RGraph.Effects.HBar             = {}; RGraph.Effects.HProgress        = {}\r\n     RGraph.Effects.VProgress        = {}; RGraph.Effects.Radar            = {}\r\n     RGraph.Effects.Waterfall        = {}; RGraph.Effects.Gantt            = {}\r\n     RGraph.Effects.Thermometer      = {}; RGraph.Effects.Scatter          = {}\r\n     RGraph.Effects.Scatter.jQuery   = {}; RGraph.Effects.CornerGauge      = {}\r\n     RGraph.Effects.jQuery.HScissors = {}; RGraph.Effects.jQuery.VScissors = {}\r\n \r\n \r\n \r\n     /**\r\n     * Fadein\r\n     * \r\n     * This function simply uses the CSS opacity property - initially set to zero and\r\n     * increasing to 1 over the period of 0.5 second\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.Fade.In = function (obj)\r\n     {\r\n         var canvas   = obj.canvas;\r\n         var duration = (arguments[1] && arguments[1].duration ? arguments[1].duration : 250);\r\n         var frames   = (arguments[1] && arguments[1].frames ? arguments[1].frames : 5);\r\n \r\n         // Initially the opacity should be zero\r\n         canvas.style.opacity = 0;\r\n         \r\n         // Draw the chart\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         // Now fade the chart in\r\n         for (var i=1; i<=frames; ++i) {\r\n             setTimeout('document.getElementById(\"' + canvas.id + '\").style.opacity = ' + (i * (1 / frames)), i * (duration / frames));\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], duration);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Fadeout\r\n     * \r\n     * This function is a reversal of the above function - fading out instead of in\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.Fade.Out = function (obj)\r\n     {\r\n         var canvas   = obj.canvas;\r\n         var duration = (arguments[1] && arguments[1].duration ? arguments[1].duration : 250);\r\n         var frames   = (arguments[1] && arguments[1].frames ? arguments[1].frames : 5);\r\n         \r\n         // Draw the chart\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n         \r\n         // Now fade the chart in\r\n         for (var i=frames; i>=0; --i) {\r\n             setTimeout('document.getElementById(\"' + canvas.id + '\").style.opacity = ' + (i * (1 / frames)), (frames - i) * (duration / frames));\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], duration);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Expand\r\n     * \r\n     * This effect is like the tooltip effect of the same name. I starts in the middle\r\n     * and expands out to full size.\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.Expand = function (obj)\r\n     {\r\n         // Check for jQuery\r\n         if (typeof(jQuery) == 'undefined') {\r\n             alert('[ERROR] Could not find jQuery object - have you included the jQuery file?');\r\n         }\r\n         \r\n         var bounce = (!arguments[1] || (arguments[1] && (arguments[1].bounce || typeof(arguments[1].bounce) == 'undefined'))) ? true : false;\r\n \r\n         var canvas = obj.canvas;\r\n         \r\n         if (!canvas.__rgraph_div_placeholder__) {\r\n             var div    = RGraph.Effects.ReplaceCanvasWithDIV(canvas);\r\n             canvas.__rgraph_div_placeholder__ = div;\r\n         } else {\r\n             div = canvas.__rgraph_div_placeholder__;\r\n         }\r\n \r\n         div.style.position = 'relative';\r\n         canvas.style.position = 'absolute';\r\n         canvas.style.top  = (canvas.height / 2) + 'px';\r\n         canvas.style.left = (canvas.width / 2) + 'px';\r\n         canvas.style.width  = 0;\r\n         canvas.style.height = 0;\r\n \r\n \r\n         canvas.style.opacity = 0;\r\n \r\n \r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         if (bounce) {\r\n             jQuery('#' + obj.id).animate({\r\n                 opacity: 1,\r\n                 width: '120%',\r\n                 height: '120%',\r\n                 left: (canvas.width * -0.1) + 'px',\r\n                 top: (canvas.height * -0.1) + 'px'\r\n             }, 500, function (){\r\n                         jQuery('#' + obj.id).animate({width: '90%', height: '90%', top: (canvas.height * 0.05) + 'px', left: (canvas.width * 0.05) + 'px'}, 250, function ()\r\n                         {\r\n                             jQuery('#' + obj.id).animate({width: '101%', height: '101%', top: (canvas.height * -0.005) + 'px', left: (canvas.width * -0.005) + 'px'}, 250, function ()\r\n                             {\r\n                                 jQuery('#' + obj.id).animate({width: '100%', height: '100%', top: 0, left: 0}, 250);\r\n                             });\r\n                         });\r\n                      });\r\n         } else {\r\n             jQuery('#' + obj.id).animate({\r\n                 opacity: 1,\r\n                 width: '100%',\r\n                 height: '100%',\r\n                 left: 0,\r\n                 top: 0\r\n             }, 1000)\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], 1000);\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * Contract\r\n     * \r\n     * This effect is a good one to use with the Expand effect to make a transition\r\n     * \r\n     * @param object obj The graph object\r\n     * @param null       Not used\r\n     * @param            Optional callback to run when the effect iss done.\r\n     */\r\n     RGraph.Effects.jQuery.Contract = function (obj)\r\n     {\r\n         // Check for jQuery\r\n         if (typeof(jQuery) == 'undefined') {\r\n             alert('[ERROR] Could not find jQuery object - have you included the jQuery file?');\r\n         }\r\n         \r\n         var canvas = obj.canvas;\r\n         \r\n         if (!canvas.__rgraph_div_placeholder__) {\r\n             var div    = RGraph.Effects.ReplaceCanvasWithDIV(canvas);\r\n             canvas.__rgraph_div_placeholder__ = div;\r\n         } else {\r\n             div = canvas.__rgraph_div_placeholder__;\r\n         }\r\n \r\n         div.style.position = 'relative';\r\n         canvas.style.position = 'absolute';\r\n         canvas.style.top      = 0;\r\n         canvas.style.left     = 0;\r\n \r\n \r\n         jQuery('#' + obj.id).animate({\r\n             width: (canvas.width * 1.2) + 'px',\r\n             height: (canvas.height * 1.2) + 'px',\r\n             left: (canvas.width * -0.1) + 'px',\r\n             top: (canvas.height * -0.1) + 'px'\r\n         }, 250, function ()\r\n         {\r\n                 jQuery('#' + obj.id).animate({\r\n                     opacity: 0,\r\n                     width: 0,\r\n                     height: 0,\r\n                     left: (canvas.width * 0.5) + 'px',\r\n                     top: (canvas.height * 0.5) + 'px'\r\n                 }, 750)\r\n         });\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], 1000);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * A function used to replace the canvas witha Div, which inturn holds the canvas. This way the page\r\n     * layout doesn't shift in the canvas is resized.\r\n     * \r\n     * @param object canvas The canvas to replace.\r\n     */\r\n     RGraph.Effects.ReplaceCanvasWithDIV  = function (canvas)\r\n     {\r\n         if (!canvas.replacementDIV) {\r\n             // Create the place holder DIV\r\n             var div = document.createElement('DIV');\r\n                 div.style.width = canvas.width + 'px';\r\n                 div.style.height = canvas.height + 'px';\r\n                 div.style.cssFloat = canvas.style.cssFloat;\r\n                 div.style.left = canvas.style.left;\r\n                 div.style.top = canvas.style.top;\r\n                 //div.style.position = canvas.style.position;\r\n                 div.style.display = 'inline-block';\r\n             canvas.parentNode.insertBefore(div, canvas);\r\n             \r\n     \r\n             // Remove the canvas from the document\r\n             canvas.parentNode.removeChild(canvas);\r\n             \r\n             // Add it back in as a child of the place holder\r\n             div.appendChild(canvas);\r\n             \r\n             // Reset the positioning information on the canvas\r\n             canvas.style.position = 'relative';\r\n             canvas.style.left = (div.offsetWidth / 2) + 'px';\r\n             canvas.style.top = (div.offsetHeight / 2) + 'px';\r\n             canvas.style.cssFloat = '';\r\n         \r\n             // Add a reference to the canvas to the DIV so that repeated plays of the anumation\r\n             // don't keep replacing the canvas with a new DIV\r\n             canvas.replacementDIV = div;\r\n \r\n         } else {\r\n             var div = canvas.replacementDIV;\r\n         }\r\n         \r\n         return div;\r\n     }\r\n \r\n \r\n     /**\r\n     * Snap\r\n     * \r\n     * Similar to the tooltip effect of the same name, this moves the canvas in from the top left corner\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.Snap = function (obj)\r\n     {\r\n         var delay = 500;\r\n \r\n         var div = RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);\r\n         \r\n         obj.canvas.style.position = 'absolute';\r\n         obj.canvas.style.top = 0;\r\n         obj.canvas.style.left = 0;\r\n         obj.canvas.style.width = 0;\r\n         obj.canvas.style.height = 0;\r\n         obj.canvas.style.opacity = 0;\r\n         \r\n         var targetLeft   = div.offsetLeft;\r\n         var targetTop    = div.offsetTop;\r\n         var targetWidth  = div.offsetWidth;\r\n         var targetHeight = div.offsetHeight;\r\n \r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         jQuery('#' + obj.id).animate({\r\n             opacity: 1,\r\n             width: targetWidth + 'px',\r\n             height: targetHeight + 'px',\r\n             left: targetLeft + 'px',\r\n             top: targetTop + 'px'\r\n         }, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay + 50);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Reveal\r\n     * \r\n     * This effect issmilat to the Expand effect - the canvas is slowly revealed from\r\n     * the centre outwards\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.jQuery.Reveal = function (obj)\r\n     {\r\n         var opts   = arguments[1] ? arguments[1] : null;\r\n         var delay  = 1000;\r\n         var canvas = obj.canvas;\r\n         var xy     = RGraph.getCanvasXY(obj.canvas);\r\n \r\n \r\n         /**\r\n         * Hide the canvas and draw it\r\n         */\r\n         obj.canvas.style.visibility = 'hidden';\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n \r\n         var divs = [\r\n                     ['reveal_left', xy[0], xy[1], obj.canvas.width  / 2, obj.canvas.height],\r\n                     ['reveal_right',(xy[0] + (obj.canvas.width  / 2)),xy[1],(obj.canvas.width  / 2),obj.canvas.height],\r\n                     ['reveal_top',xy[0],xy[1],obj.canvas.width,(obj.canvas.height / 2)],\r\n                     ['reveal_bottom',xy[0],(xy[1] + (obj.canvas.height  / 2)),obj.canvas.width,(obj.canvas.height / 2)]\r\n                    ];\r\n         \r\n         for (var i=0; i<divs.length; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = divs[i][0];\r\n                 div.style.width =  divs[i][3]+ 'px';\r\n                 div.style.height = divs[i][4] + 'px';\r\n                 div.style.left   = divs[i][1] + 'px';\r\n                 div.style.top   = divs[i][2] + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = opts && typeof(opts['color']) == 'string' ? opts['color'] : 'white';\r\n             document.body.appendChild(div);\r\n         }\r\n         \r\n         /**\r\n         * Now the covering DIVs are in place show the canvas again\r\n         */\r\n         obj.canvas.style.visibility = 'visible';\r\n \r\n \r\n         jQuery('#reveal_left').animate({width: 0}, delay);\r\n         jQuery('#reveal_right').animate({left: '+=' + (obj.canvas.width / 2),width: 0}, delay);\r\n         jQuery('#reveal_top').animate({height: 0}, delay);\r\n         jQuery('#reveal_bottom').animate({top: '+=' + (obj.canvas.height / 2),height: 0}, delay);\r\n         \r\n         // Remove the DIVs from the DOM 100ms after the animation ends\r\n         setTimeout(\r\n             function ()\r\n             {\r\n                 document.body.removeChild(document.getElementById(\"reveal_top\"))\r\n                 document.body.removeChild(document.getElementById(\"reveal_bottom\"))\r\n                 document.body.removeChild(document.getElementById(\"reveal_left\"))\r\n                 document.body.removeChild(document.getElementById(\"reveal_right\"))\r\n             }\r\n             , delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * RevealCircular\r\n     * \r\n     * This effect is smilar to the Reveal effect - the canvas is slowly revealed from\r\n     * the centre outwards using a circular shape\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param object       An object of options\r\n     * @param function     An optional callback function that runs when the effect is finished\r\n     */\r\n     RGraph.Effects.RevealCircular = function (obj)\r\n     {\r\n         var opts      = arguments[1] ? arguments[1] : null;\r\n         var callback  = arguments[2] ? arguments[2] : null;\r\n         var frames    = 30;\r\n         var RG        = RGraph;\r\n         var ca        = obj.canvas;\r\n         var co        = obj.context;\r\n         var ra        = 0; // The initial radius of the circle that is clipped to\r\n         var cx        = ca.width / 2;\r\n         var cy        = ca.height / 2;\r\n         var target_ra = Math.max(ca.height, ca.width);\r\n         \r\n         // This is the iterator function which gradually increases the radius of the clip circle\r\n         function Grow ()\r\n         {\r\n             // Begin by clearing the canvas\r\n             RG.Clear(ca);\r\n \r\n             co.save();\r\n                 // First draw the circle and clip to it\r\n                 co.beginPath();\r\n                 co.arc(cx, cy, ra, 0, TWOPI, false);\r\n                 co.clip();\r\n                 \r\n                 // Now draw the chart\r\n                 obj.Draw();\r\n             co.restore();\r\n \r\n \r\n             // Increment the radius\r\n             if (ra < target_ra) {\r\n                 ra += target_ra / 30;\r\n                 RG.Effects.UpdateCanvas(Grow);\r\n             \r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         Grow();\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Conceal\r\n     * \r\n     * This effect is the reverse of the Reveal effect - instead of revealing the canvas it\r\n     * conceals it. Combined with the reveal effect would make for a nice wipe effect.\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.jQuery.Conceal = function (obj)\r\n     {\r\n         var opts   = arguments[1] ? arguments[1] : null;\r\n         var delay  = 1000;\r\n         var canvas = obj.canvas;\r\n         var xy     = RGraph.getCanvasXY(obj.canvas);\r\n \r\n \r\n         var divs = [\r\n                     ['conceal_left', xy[0], xy[1], 0, obj.canvas.height],\r\n                     ['conceal_right',(xy[0] + obj.canvas.width),xy[1],0,obj.canvas.height],\r\n                     ['conceal_top',xy[0],xy[1],obj.canvas.width,0],\r\n                     ['conceal_bottom',xy[0],(xy[1] + obj.canvas.height),obj.canvas.width,0]\r\n                    ];\r\n         \r\n         for (var i=0; i<divs.length; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = divs[i][0];\r\n                 div.style.width =  divs[i][3]+ 'px';\r\n                 div.style.height = divs[i][4] + 'px';\r\n                 div.style.left   = divs[i][1] + 'px';\r\n                 div.style.top   = divs[i][2] + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = opts && typeof(opts['color']) == 'string' ? opts['color'] : 'white';\r\n             document.body.appendChild(div);\r\n         }\r\n \r\n \r\n         jQuery('#conceal_left').animate({width: '+=' + (obj.canvas.width / 2)}, delay);\r\n         jQuery('#conceal_right').animate({left: '-=' + (obj.canvas.width / 2),width: (obj.canvas.width / 2)}, delay);\r\n         jQuery('#conceal_top').animate({height: '+=' + (obj.canvas.height / 2)}, delay);\r\n         jQuery('#conceal_bottom').animate({top: '-=' + (obj.canvas.height / 2),height: (obj.canvas.height / 2)}, delay);\r\n         \r\n         // Remove the DIVs from the DOM 100ms after the animation ends\r\n         setTimeout(\r\n             function ()\r\n             {\r\n                 document.body.removeChild(document.getElementById(\"conceal_top\"))\r\n                 document.body.removeChild(document.getElementById(\"conceal_bottom\"))\r\n                 document.body.removeChild(document.getElementById(\"conceal_left\"))\r\n                 document.body.removeChild(document.getElementById(\"conceal_right\"))\r\n             }\r\n             , delay);\r\n             \r\n         setTimeout(function () {RGraph.Clear(obj.canvas);}, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Horizontal Blinds (open)\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.HBlinds.Open = function (obj)\r\n     {\r\n         var canvas  = obj.canvas;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var height = canvas.height / 5;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = 'blinds_' + i;\r\n                 div.style.width =  canvas.width + 'px';\r\n                 div.style.height = height + 'px';\r\n                 div.style.left   = xy[0] + 'px';\r\n                 div.style.top   = (xy[1] + (canvas.height * (i / 5))) + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = color;\r\n             document.body.appendChild(div);\r\n \r\n             jQuery('#blinds_' + i).animate({height: 0}, delay);\r\n         }\r\n \r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_0'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_1'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_2'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_3'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_4'));}, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Horizontal Blinds (close)\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.HBlinds.Close = function (obj)\r\n     {\r\n         var canvas  = obj.canvas;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var height = canvas.height / 5;\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = 'blinds_' + i;\r\n                 div.style.width =  canvas.width + 'px';\r\n                 div.style.height = 0;\r\n                 div.style.left   = xy[0] + 'px';\r\n                 div.style.top   = (xy[1] + (canvas.height * (i / 5))) + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = color;\r\n             document.body.appendChild(div);\r\n \r\n             jQuery('#blinds_' + i).animate({height: height + 'px'}, delay);\r\n         }\r\n         \r\n         setTimeout(function () {RGraph.Clear(obj.canvas);}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_0'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_1'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_2'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_3'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_4'));}, delay + 100);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Vertical Blinds (open)\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.VBlinds.Open = function (obj)\r\n     {\r\n         var canvas  = obj.canvas;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var width  = canvas.width / 10;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         for (var i=0; i<10; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = 'blinds_' + i;\r\n                 div.style.width =  width + 'px';\r\n                 div.style.height = canvas.height + 'px';\r\n                 div.style.left   = (xy[0] + (canvas.width * (i / 10))) + 'px';\r\n                 div.style.top   = (xy[1]) + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = color;\r\n             document.body.appendChild(div);\r\n \r\n             jQuery('#blinds_' + i).animate({width: 0}, delay);\r\n         }\r\n \r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_0'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_1'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_2'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_3'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_4'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_5'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_6'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_7'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_8'));}, delay + 100);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById('blinds_9'));}, delay + 100);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Vertical Blinds (close)\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.VBlinds.Close = function (obj)\r\n     {\r\n         var canvas  = obj.canvas;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var width  = canvas.width / 10;\r\n         \r\n         // Don't draw the chart\r\n \r\n         for (var i=0; i<10; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id = 'blinds_' + i;\r\n                 div.style.width =  0;\r\n                 div.style.height = canvas.height + 'px';\r\n                 div.style.left   = (xy[0] + (canvas.width * (i / 10))) + 'px';\r\n                 div.style.top   = (xy[1]) + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = color;\r\n             document.body.appendChild(div);\r\n \r\n             jQuery('#blinds_' + i).animate({width: width}, delay);\r\n         }\r\n \r\n         setTimeout(function () {RGraph.Clear(obj.canvas, color);}, delay + 100);\r\n \r\n         if (opts['remove']) {\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_0'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_1'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_2'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_3'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_4'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_5'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_6'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_7'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_8'));}, delay + 100);\r\n             setTimeout(function () {document.body.removeChild(document.getElementById('blinds_9'));}, delay + 100);\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Pie chart grow\r\n     * \r\n     * Gradually increases the pie chart radius\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.Pie.Grow = function (obj)\r\n     {\r\n         var canvas  = obj.canvas;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         \r\n         canvas.style.visibility = 'hidden';\r\n         RGraph.RedrawCanvas(canvas);\r\n \r\n         var radius = obj.getRadius();\r\n         \r\n         if (typeof(obj.Get('chart.radius')) == 'number') {\r\n             radius = obj.Get('chart.radius');\r\n         }\r\n         \r\n         //RGraph.Clear(obj.canvas);\r\n         canvas.style.visibility = 'visible';\r\n \r\n         obj.Set('chart.radius', 0);\r\n \r\n         RGraph.Effects.Animate(obj, {'chart.radius': radius}, arguments[2]);\r\n     }\r\n \r\n \r\n     /**\r\n     * Grow\r\n     * \r\n     * The Bar chart Grow effect gradually increases the values of the bars\r\n     * \r\n     * @param object   obj The graph object\r\n     * @param object       An array of options\r\n     * @param function     A function to call when the effect is complete\r\n     */\r\n     RGraph.Effects.Bar.Grow = function (obj)\r\n     {\r\n         // Callback\r\n         var callback = arguments[2];\r\n \r\n         // Save the data\r\n         obj.original_data = RGraph.array_clone(obj.data);\r\n         \r\n         // Zero the data\r\n         obj.__animation_frame__ = 0;\r\n \r\n         // Stop the scale from changing by setting chart.ymax (if it's not already set)\r\n         if (obj.Get('chart.ymax') == null) {\r\n \r\n             var ymax = 0;\r\n \r\n             for (var i=0; i<obj.data.length; ++i) {\r\n                 if (RGraph.is_array(obj.data[i]) && obj.Get('chart.grouping') == 'stacked') {\r\n                     ymax = Math.max(ymax, Math.abs(RGraph.array_sum(obj.data[i])));\r\n \r\n                 } else if (RGraph.is_array(obj.data[i]) && obj.Get('chart.grouping') == 'grouped') {\r\n                     ymax = Math.max(ymax, Math.abs(RGraph.array_max(obj.data[i])));\r\n                 } else {\r\n                     ymax = Math.max(ymax, Math.abs(obj.data[i]));\r\n                 }\r\n             }\r\n \r\n             var scale = RGraph.getScale2(obj, {'max':ymax});\r\n             obj.Set('chart.ymax', scale.max);\r\n         }\r\n \r\n         function Grow ()\r\n         {\r\n             var numFrames = 30;\r\n \r\n             if (!obj.__animation_frame__) {\r\n                 obj.__animation_frame__  = 0;\r\n                 obj.__original_hmargin__ = obj.Get('chart.hmargin');\r\n                 obj.__hmargin__          = ((obj.canvas.width - obj.Get('chart.gutter.left') - obj.Get('chart.gutter.right')) / obj.data.length) / 2;\r\n                 obj.Set('chart.hmargin', obj.__hmargin__);\r\n             }\r\n \r\n             // Alter the Bar chart data depending on the frame\r\n             for (var j=0; j<obj.original_data.length; ++j) {\r\n                 if (typeof(obj.data[j]) == 'object') {\r\n                     for (var k=0; k<obj.data[j].length; ++k) {\r\n                         obj.data[j][k] = (obj.__animation_frame__ / numFrames) * obj.original_data[j][k];\r\n                     }\r\n                 } else {\r\n                     obj.data[j] = (obj.__animation_frame__ / numFrames) * obj.original_data[j];\r\n                 }\r\n             }\r\n \r\n             /**\r\n             * Increment the hmargin to the target\r\n             */\r\n             obj.Set('chart.hmargin', ((1 - (obj.__animation_frame__ / numFrames)) * (obj.__hmargin__ - obj.__original_hmargin__)) + obj.__original_hmargin__);\r\n \r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (obj.__animation_frame__ < numFrames) {\r\n                 obj.__animation_frame__ += 1;\r\n \r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n             // Call the callback function if it's defined\r\n             } else {\r\n                 if (callback) {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow);\r\n     }\r\n \r\n \r\n     /**\r\n     * A wrapper function that encapsulate requestAnimationFrame\r\n     * \r\n     * @param function func The animation function\r\n     */\r\n     RGraph.Effects.UpdateCanvas = function (func)\r\n     {\r\n         window.requestAnimationFrame =    window.requestAnimationFrame\r\n                                        || window.webkitRequestAnimationFrame\r\n                                        || window.msRequestAnimationFrame\r\n                                        || window.amozRequestAnimationFrame\r\n                                        || (function (func){setTimeout(func, 16.666);});\r\n         \r\n         window.requestAnimationFrame(func);\r\n     }\r\n \r\n \r\n     /**\r\n     * Grow\r\n     * \r\n     * The Fuel chart Grow effect gradually increases the values of the Fuel chart\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.Fuel.Grow = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = 30;\r\n         var frame     = 0;\r\n         var origValue = Number(obj.currentValue);\r\n         \r\n         if (obj.currentValue == null) {\r\n             obj.currentValue = obj.min;\r\n             origValue = obj.min;\r\n         }\r\n \r\n         var newValue  = obj.value;\r\n         var diff      = newValue - origValue;\r\n         var step      = (diff / numFrames);\r\n         var frame     = 0;\r\n \r\n \r\n         function Grow ()\r\n         {\r\n             frame++;\r\n \r\n             obj.value = ((frame / numFrames) * diff) + origValue\r\n \r\n             if (obj.value > obj.max) obj.value = obj.max;\r\n             if (obj.value < obj.min) obj.value = obj.min;\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (frame < numFrames) {\r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n \r\n         Grow();\r\n     }\r\n \r\n \r\n     /**\r\n     * The Animate function. Similar to the jQuery Animate() function - simply pass it a\r\n     * map of the properties and their target values, and this function will animate\r\n     * them to get to those values.\r\n     * \r\n     * @param object obj The chart object\r\n     * @param object map A map (an associative array) of the properties and their target values.\r\n     * @param            An optional function which will be called when the animation is complete\r\n     */\r\n     RGraph.Effects.Animate = function (obj, map)\r\n     {\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         RGraph.Effects.__total_frames__  = (map && map['frames']) ? map['frames'] : 30;\r\n \r\n         function Animate_Iterator (func)\r\n         {\r\n             var id = [obj.id +  '_' + obj.type];\r\n \r\n             // Very first time in - initialise the arrays\r\n             if (typeof(RGraph.Effects.__current_frame__ ) == 'undefined') {\r\n                 RGraph.Effects.__current_frame__   = new Array();\r\n                 RGraph.Effects.__original_values__ = new Array();\r\n                 RGraph.Effects.__diffs__           = new Array();\r\n                 RGraph.Effects.__steps__           = new Array();\r\n                 RGraph.Effects.__callback__        = new Array();\r\n             }\r\n \r\n             // Initialise the arrays for THIS animation (not necessrily the first in the page)\r\n             if (!RGraph.Effects.__current_frame__[id]) {\r\n                 RGraph.Effects.__current_frame__[id] = RGraph.Effects.__total_frames__;\r\n                 RGraph.Effects.__original_values__[id] = {};\r\n                 RGraph.Effects.__diffs__[id]           = {};\r\n                 RGraph.Effects.__steps__[id]           = {};\r\n                 RGraph.Effects.__callback__[id]        = func;\r\n             }\r\n \r\n             for (var i in map) {\r\n                 if (typeof(map[i]) == 'string' || typeof(map[i]) == 'number') {\r\n \r\n                     // If this the first frame, record the proginal value\r\n                     if (RGraph.Effects.__current_frame__[id] == RGraph.Effects.__total_frames__) {\r\n                         RGraph.Effects.__original_values__[id][i] = obj.Get(i);\r\n                         RGraph.Effects.__diffs__[id][i]           = map[i] - RGraph.Effects.__original_values__[id][i];\r\n                         RGraph.Effects.__steps__[id][i]           = RGraph.Effects.__diffs__[id][i] / RGraph.Effects.__total_frames__;\r\n                     }\r\n \r\n                     obj.Set(i, obj.Get(i) + RGraph.Effects.__steps__[id][i]);\r\n \r\n                     RGraph.RedrawCanvas(obj.canvas);\r\n                 }\r\n             }\r\n \r\n             // If the current frame number is above zero, run the animation iterator again\r\n             if (--RGraph.Effects.__current_frame__[id] > 0) {\r\n                 //setTimeout(Animate_Iterator, 100)\r\n                 RGraph.Effects.UpdateCanvas(Animate_Iterator);\r\n             \r\n             // Optional callback\r\n             } else {\r\n \r\n                 if (typeof(RGraph.Effects.__callback__[id]) == 'function') {\r\n                     (RGraph.Effects.__callback__[id])(obj);\r\n                 }\r\n                 \r\n                 // Get rid of the arrays\r\n                 RGraph.Effects.__current_frame__[id]   = null;\r\n                 RGraph.Effects.__original_values__[id] = null;\r\n                 RGraph.Effects.__diffs__[id]           = null;\r\n                 RGraph.Effects.__steps__[id]           = null;\r\n                 RGraph.Effects.__callback__[id]        = null;\r\n \r\n             }\r\n         }\r\n \r\n         Animate_Iterator(arguments[2]);\r\n     }\r\n \r\n \r\n     /**\r\n     * Slide in\r\n     * \r\n     * This function is a wipe that can be used when switching the canvas to a new graph\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.Slide.In = function (obj)\r\n     {\r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         var canvas = obj.canvas;\r\n         var div    = RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);\r\n         var delay = 1000;\r\n         div.style.overflow= 'hidden';\r\n         var from = typeof(arguments[1]) == 'object' && typeof(arguments[1]['from']) == 'string' ? arguments[1]['from'] : 'left';\r\n         \r\n         canvas.style.position = 'relative';\r\n         \r\n         if (from == 'left') {\r\n             canvas.style.left = (0 - div.offsetWidth) + 'px';\r\n             canvas.style.top  = 0;\r\n         } else if (from == 'top') {\r\n             canvas.style.left = 0;\r\n             canvas.style.top  = (0 - div.offsetHeight) + 'px';\r\n         } else if (from == 'bottom') {\r\n             canvas.style.left = 0;\r\n             canvas.style.top  = div.offsetHeight + 'px';\r\n         } else {\r\n             canvas.style.left = div.offsetWidth + 'px';\r\n             canvas.style.top  = 0;\r\n         }\r\n         \r\n         jQuery('#' + obj.id).animate({left:0,top:0}, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Slide out\r\n     * \r\n     * This function is a wipe that can be used when switching the canvas to a new graph\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.jQuery.Slide.Out = function (obj)\r\n     {\r\n         var canvas = obj.canvas;\r\n         var div    = RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);\r\n         var delay = 1000;\r\n         div.style.overflow= 'hidden';\r\n         var to = typeof(arguments[1]) == 'object' && arguments[1] && typeof(arguments[1]['to']) == 'string' ? arguments[1]['to'] : 'left';\r\n         \r\n         canvas.style.position = 'relative';\r\n         canvas.style.left = 0;\r\n         canvas.style.top  = 0;\r\n         \r\n         if (to == 'left') {\r\n             jQuery('#' + obj.id).animate({left: (0 - canvas.width) + 'px'}, delay);\r\n         } else if (to == 'top') {\r\n             jQuery('#' + obj.id).animate({left: 0, top: (0 - div.offsetHeight) + 'px'}, delay);\r\n         } else if (to == 'bottom') {\r\n             jQuery('#' + obj.id).animate({top: (0 + div.offsetHeight) + 'px'}, delay);\r\n         } else {\r\n             jQuery('#' + obj.id).animate({left: (0 + canvas.width) + 'px'}, delay);\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Unfold\r\n     * \r\n     * This effect gradually increases the X/Y coordinatesfrom 0\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.Line.Unfold = function (obj)\r\n     {\r\n         obj.Set('chart.animation.factor', obj.Get('chart.animation.unfold.initial'));\r\n         RGraph.Effects.Animate(obj, {'chart.animation.factor': 1}, arguments[2]);\r\n     }\r\n \r\n \r\n     /**\r\n     * RoundRobin\r\n     * \r\n     * This effect is similar to the Pie chart RoundRobin effect\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Rose.RoundRobin = function (obj)\r\n     {\r\n         var numFrames       = 60;\r\n         var currentFrame    = 0;\r\n         var original_margin = obj.Get('chart.margin');\r\n         var margin          = (360 / obj.data.length) / 2;\r\n         var callback        = arguments[2];\r\n \r\n         obj.Set('chart.margin', margin);\r\n         obj.Set('chart.animation.roundrobin.factor', 0);\r\n \r\n         //RGraph.Effects.Animate(obj, {'chart.margin': original_margin, 'chart.animation.grow.factor': 1, 'frames': 45}, arguments[2]);\r\n         function RoundRobin_inner ()\r\n         {\r\n             if (currentFrame++ < numFrames) {\r\n                 obj.Set('chart.animation.roundrobin.factor', currentFrame / numFrames);\r\n                 obj.Set('chart.margin', (currentFrame / numFrames) * original_margin);\r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 RGraph.Effects.UpdateCanvas(RoundRobin_inner);\r\n \r\n             } else {\r\n                 obj.Set('chart.animation.roundrobin.factor', 1);\r\n                 obj.Set('chart.margin', original_margin);\r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(RoundRobin_inner);\r\n     }\r\n \r\n \r\n     /**\r\n     * UnfoldFromCenter\r\n     * \r\n     * Line chart  unfold from center\r\n     */\r\n     RGraph.Effects.Line.UnfoldFromCenter = function (obj)\r\n     {\r\n         var numFrames = 30;\r\n \r\n         var original_opacity = obj.canvas.style.opacity;\r\n         obj.canvas.style.opacity = 0;\r\n         \r\n         obj.Draw();\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         var center_value = obj.Get('chart.xaxispos') == 'center' ? obj.Get('chart.ymin') : ((obj.max - obj.min) / 2) + obj.min;\r\n         obj.Set('chart.ymax', obj.scale2.max);\r\n \r\n         RGraph.Clear(obj.canvas);\r\n \r\n         obj.canvas.style.opacity = original_opacity;\r\n         var original_data = RGraph.array_clone(obj.original_data);\r\n         var callback = arguments[2];\r\n \r\n         if (!obj.__increments__) {\r\n         \r\n             obj.__increments__ = new Array();\r\n         \r\n             for (var dataset=0; dataset<original_data.length; ++dataset) {\r\n \r\n                 obj.__increments__[dataset] = new Array();\r\n \r\n                 for (var i=0; i<original_data[dataset].length; ++i) {\r\n                     if (obj.Get('chart.filled') && obj.Get('chart.filled.accumulative') && dataset > 0) {\r\n                         obj.__increments__[dataset][i] = original_data[dataset][i] / numFrames;\r\n                         obj.original_data[dataset][i] = 0;\r\n                     } else {\r\n                         obj.__increments__[dataset][i] = (original_data[dataset][i] - center_value) / numFrames;\r\n                         obj.original_data[dataset][i] = center_value;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n \r\n         function UnfoldFromCenter ()\r\n         {\r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n         \r\n             for (var dataset=0; dataset<original_data.length; ++dataset) {\r\n                 for (var i=0; i<original_data[dataset].length; ++i) {\r\n                     obj.original_data[dataset][i] += obj.__increments__[dataset][i];\r\n                 }\r\n             }\r\n \r\n             if (--numFrames > 0) {\r\n                 RGraph.Effects.UpdateCanvas(UnfoldFromCenter);\r\n             } else {\r\n                 obj.original_data = RGraph.array_clone(original_data);\r\n                 obj.__increments__ = null;\r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n         \r\n         UnfoldFromCenter();\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * UnfoldFromCenterTrace\r\n     */\r\n     RGraph.Effects.Line.jQuery.UnfoldFromCenterTrace = function  (obj)\r\n     {\r\n         // Hide the canvas first\r\n         obj.canvas.style.visibility = 'hidden';\r\n         setTimeout(function () {obj.canvas.style.visibility = 'visible';}, 10);\r\n \r\n         /**\r\n         * First draw the chart so we can get the max\r\n         */\r\n         obj.Draw();\r\n         RGraph.Clear(obj.canvas);\r\n \r\n \r\n         var data = RGraph.array_clone(obj.original_data);\r\n         var callback = arguments[2];\r\n \r\n         /**\r\n         * When the Trace function finishes it calls this function\r\n         */\r\n         function Unfold_callback ()\r\n         {\r\n             obj.original_data = data;\r\n             RGraph.Effects.Line.UnfoldFromCenter(obj, null, callback);\r\n         }\r\n \r\n         /**\r\n         * Determine the mid-point\r\n         */\r\n         var half = obj.Get('chart.xaxispos') == 'center' ? obj.min : ((obj.max - obj.min) / 2) + obj.min;\r\n         obj.Set('chart.ymax', obj.max);\r\n \r\n         for (var i=0; i<obj.original_data.length; ++i) {\r\n             for (var j=0; j<obj.original_data[i].length; ++j) {\r\n                 obj.original_data[i][j] = (obj.Get('chart.filled') && obj.Get('chart.filled.accumulative') && i > 0) ? 0 : half;\r\n             }\r\n         }\r\n \r\n         //RGraph.Clear(obj.canvas);\r\n         RGraph.Effects.Line.jQuery.Trace(obj, {'duration':1000}, Unfold_callback);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * FoldToCenter\r\n     * \r\n     * Line chart  FoldTocenter\r\n     */\r\n     RGraph.Effects.Line.FoldToCenter = function (obj)\r\n     {\r\n         var totalFrames = 30;\r\n         var numFrame    = totalFrames;\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n         var center_value = obj.scale2.max / 2;\r\n         obj.Set('chart.ymax', obj.scale2.max);\r\n         RGraph.Clear(obj.canvas);\r\n         var original_data = RGraph.array_clone(obj.original_data);\r\n         obj.Set('chart.shadow.blur', 0);\r\n         var callback = arguments[2];\r\n         \r\n         function FoldToCenter ()\r\n         {\r\n             for (var i=0; i<obj.data.length; ++i) {\r\n                 if (obj.data[i].length) {\r\n                     for (var j=0; j<obj.data[i].length; ++j) {\r\n                         if (obj.original_data[i][j] > center_value) {\r\n                             obj.original_data[i][j] = ((original_data[i][j] - center_value) * (numFrame/totalFrames)) + center_value;\r\n                         } else {\r\n                             obj.original_data[i][j] = center_value - ((center_value - original_data[i][j]) * (numFrame/totalFrames));\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n             \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas)\r\n \r\n             if (numFrame-- > 0) {\r\n                 RGraph.Effects.UpdateCanvas(FoldToCenter);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n \r\n         RGraph.Effects.UpdateCanvas(FoldToCenter);\r\n     }\r\n \r\n \r\n     /**\r\n     * Odo Grow\r\n     * \r\n     * This effect gradually increases the represented value\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Odo.Grow = function (obj)\r\n     {\r\n         var numFrames = 30;\r\n         var curFrame  = 0;\r\n         var origValue = Number(obj.currentValue);\r\n         var newValue  = obj.value;\r\n         var diff      = newValue - origValue;\r\n         var step      = (diff / numFrames);\r\n         var callback  = arguments[2];\r\n \r\n         function Grow_inner ()\r\n         {\r\n             obj.value = origValue + (curFrame * step);\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (++curFrame <= numFrames) {\r\n                 RGraph.Effects.UpdateCanvas(Grow_inner);\r\n             } else if (callback) {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         //setTimeout(Grow, 100);\r\n         Grow_inner();\r\n     }\r\n \r\n \r\n     /**\r\n     * Meter Grow\r\n     * \r\n     * This effect gradually increases the represented value\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Meter.Grow = function (obj)\r\n     {\r\n         if (!obj.currentValue) {\r\n             obj.currentValue = obj.min;\r\n         }\r\n \r\n         var totalFrames = 60;\r\n         var numFrame    = 0;\r\n         var diff        = obj.value - obj.currentValue;\r\n         var step        = diff / totalFrames\r\n         var callback    = arguments[2];\r\n         var initial     = obj.currentValue;\r\n \r\n         function Grow_meter_inner ()\r\n         {\r\n             obj.value = initial + (numFrame++ * step);\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n         \r\n             if (numFrame++ <= totalFrames) {\r\n                 RGraph.Effects.UpdateCanvas(Grow_meter_inner);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         Grow_meter_inner();\r\n     }\r\n \r\n \r\n     /**\r\n     * Grow\r\n     * \r\n     * The HBar chart Grow effect gradually increases the values of the bars\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.HBar.Grow = function (obj)\r\n     {\r\n         // Save the data\r\n         obj.original_data = RGraph.array_clone(obj.data);\r\n         \r\n         // Zero the data\r\n         obj.__animation_frame__ = 0;\r\n \r\n         // Stop the scale from changing by setting chart.ymax (if it's not already set)\r\n         if (obj.Get('chart.xmax') == 0) {\r\n \r\n             var xmax = 0;\r\n \r\n             for (var i=0; i<obj.data.length; ++i) {\r\n                 if (RGraph.is_array(obj.data[i]) && obj.Get('chart.grouping') == 'stacked') {\r\n                     xmax = Math.max(xmax, RGraph.array_sum(obj.data[i]));\r\n                 } else if (RGraph.is_array(obj.data[i]) && obj.Get('chart.grouping') == 'grouped') {\r\n                     xmax = Math.max(xmax, RGraph.array_max(obj.data[i]));\r\n                 } else {\r\n                     xmax = Math.max(xmax, RGraph.array_max(obj.data[i]));\r\n                 }\r\n             }\r\n \r\n             var scale2 = RGraph.getScale2(obj, {'max':xmax});\r\n             obj.Set('chart.xmax', scale2.max);\r\n         }\r\n         \r\n         /**\r\n         * Turn off shadow blur for the duration of the animation\r\n         */\r\n         if (obj.Get('chart.shadow.blur') > 0) {\r\n             var __original_shadow_blur__ = obj.Get('chart.shadow.blur');\r\n             obj.Set('chart.shadow.blur', 0);\r\n         }\r\n \r\n         function Grow ()\r\n         {\r\n             var numFrames = 30;\r\n \r\n             if (!obj.__animation_frame__) {\r\n                 obj.__animation_frame__  = 0;\r\n                 obj.__original_vmargin__ = obj.Get('chart.vmargin');\r\n                 obj.__vmargin__          = ((obj.canvas.height - obj.Get('chart.gutter.top') - obj.Get('chart.gutter.bottom')) / obj.data.length) / 2;\r\n                 obj.Set('chart.vmargin', obj.__vmargin__);\r\n             }\r\n \r\n             // Alter the Bar chart data depending on the frame\r\n             for (var j=0; j<obj.original_data.length; ++j) {\r\n                 \r\n                 // This stops the animatioon from being completely linear\r\n                 var easing = Math.pow(Math.sin((obj.__animation_frame__ * (90 / numFrames)) / (180 / PI)), 4);\r\n \r\n                 if (typeof(obj.data[j]) == 'object') {\r\n                     for (var k=0; k<obj.data[j].length; ++k) {\r\n                         obj.data[j][k] = (obj.__animation_frame__ / numFrames) * obj.original_data[j][k] * easing;\r\n                     }\r\n                 } else {\r\n                     obj.data[j] = (obj.__animation_frame__ / numFrames) * obj.original_data[j] * easing;\r\n                 }\r\n             }\r\n \r\n             /**\r\n             * Increment the vmargin to the target\r\n             */\r\n             obj.Set('chart.vmargin', ((1 - (obj.__animation_frame__ / numFrames)) * (obj.__vmargin__ - obj.__original_vmargin__)) + obj.__original_vmargin__);\r\n \r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (obj.__animation_frame__ < numFrames) {\r\n                 obj.__animation_frame__ += 1;\r\n                 \r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n             \r\n             // Turn any shadow blur back on\r\n             } else {\r\n                 if (typeof(__original_shadow_blur__) == 'number' && __original_shadow_blur__ > 0) {\r\n                     obj.Set('chart.shadow.blur', __original_shadow_blur__);\r\n                     RGraph.Clear(obj.canvas);\r\n                     RGraph.RedrawCanvas(obj.canvas);\r\n                 }\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow);\r\n     }\r\n \r\n \r\n     /**\r\n     * Trace\r\n     * \r\n     * This effect is for the Line chart, uses the jQuery library and slowly\r\n     * uncovers the Line , but you can see the background of the chart. This effect\r\n     * is quite new (1/10/2011) and as such should be used with caution.\r\n     * \r\n     * @param object obj The graph object\r\n     * @param object     Not used\r\n     * @param int        A number denoting how long (in millseconds) the animation should last for. Defauld\r\n     *                   is 1500\r\n     */\r\n     RGraph.Effects.Line.jQuery.Trace = function (obj)\r\n     {\r\n         var callback = typeof(arguments[2]) == 'function' ? arguments[2] : function () {};\r\n         var opt = arguments[1] || [];\r\n         \r\n         if (!opt['duration']) {\r\n             opt['duration'] = 1000;\r\n         }\r\n \r\n         RGraph.Clear(obj.canvas);\r\n         //obj.Draw();\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         /**\r\n         * Create the DIV that the second canvas will sit in\r\n         */\r\n         var div = document.createElement('DIV');\r\n             var xy = RGraph.getCanvasXY(obj.canvas);\r\n             div.id = '__rgraph_trace_animation_' + RGraph.random(0, 4351623) + '__';\r\n             div.style.left = xy[0] + 'px';\r\n             div.style.top = xy[1] + 'px';\r\n             div.style.width = obj.Get('chart.gutter.left');\r\n             div.style.height = obj.canvas.height + 'px';\r\n             div.style.position = 'absolute';\r\n             div.style.overflow = 'hidden';\r\n         document.body.appendChild(div);\r\n         \r\n         obj.canvas.__rgraph_trace_div__ = div;\r\n \r\n         /**\r\n         * Make the second canvas\r\n         */\r\n         var id      = '__rgraph_line_trace_animation_' + RGraph.random(0, 99999999) + '__';\r\n         var canvas2 = document.createElement('CANVAS');\r\n \r\n \r\n \r\n \r\n         // Copy the 3D CSS transformation properties across from the original canvas\r\n         var properties = ['WebkitTransform','MozTransform','OTransform','MSTransform','transform'];\r\n         \r\n         for (i in properties) {\r\n             var name = properties[i];\r\n             if (typeof(obj.canvas.style[name]) == 'string' && obj.canvas.style[name]) {\r\n                 canvas2.style[name] = obj.canvas.style[name];\r\n             }\r\n         }\r\n         \r\n         \r\n \r\n         obj.canvas.__rgraph_line_canvas2__ = canvas2;\r\n         canvas2.width = obj.canvas.width;\r\n         canvas2.height = obj.canvas.height;\r\n         canvas2.style.position = 'absolute';\r\n         canvas2.style.left = 0;\r\n         canvas2.style.top  = 0;\r\n \r\n \r\n         // This stops the clear effect clearing the canvas - which can happen if you have multiple canvas tags on the page all with\r\n         // dynamic effects that do redrawing\r\n         canvas2.noclear = true;\r\n \r\n         canvas2.id         = id;\r\n         div.appendChild(canvas2);\r\n \r\n         var reposition_canvas2 = function (e)\r\n         {\r\n             var xy = RGraph.getCanvasXY(obj.canvas);\r\n             \r\n             div.style.left = xy[0] + 'px';\r\n             div.style.top = xy[1] + 'px';\r\n         }\r\n         window.addEventListener('resize', reposition_canvas2, false)\r\n         \r\n         /**\r\n         * Make a copy of the original Line object\r\n         */\r\n         var obj2 = new RGraph.Line(id, RGraph.array_clone(obj.original_data));\r\n         \r\n         // Remove the new line from the ObjectRegistry so that it isn't redawn\r\n         RGraph.ObjectRegistry.Remove(obj2);\r\n \r\n         for (i in obj.properties) {\r\n             if (typeof(i) == 'string') {\r\n                 obj2.Set(i, obj.properties[i]);\r\n             }\r\n         }\r\n \r\n         //obj2.Set('chart.tooltips', null);\r\n         obj2.Set('chart.labels', []);\r\n         obj2.Set('chart.background.grid', false);\r\n         obj2.Set('chart.background.barcolor1', 'rgba(0,0,0,0)');\r\n         obj2.Set('chart.background.barcolor2', 'rgba(0,0,0,0)');\r\n         obj2.Set('chart.ylabels', false);\r\n         obj2.Set('chart.noaxes', true);\r\n         obj2.Set('chart.title', '');\r\n         obj2.Set('chart.title.xaxis', '');\r\n         obj2.Set('chart.title.yaxis', '');\r\n         obj2.Set('chart.filled.accumulative', obj.Get('chart.filled.accumulative'));\r\n         obj.Set('chart.key', []);\r\n         obj2.Draw();\r\n         \r\n         obj.canvas.__rgraph_trace_obj2__ = obj2;\r\n \r\n \r\n         /**\r\n         * This effectively hides the line\r\n         */\r\n         obj.Set('chart.line.visible', false);\r\n         obj.Set('chart.colors', ['rgba(0,0,0,0)']);\r\n         if (obj.Get('chart.filled')) {\r\n             var original_fillstyle = obj.Get('chart.fillstyle');\r\n             obj.Set('chart.fillstyle', 'rgba(0,0,0,0)');\r\n             obj.Set('chart.animation.trace.original.fillstyle', original_fillstyle);\r\n         }\r\n \r\n         RGraph.Clear(obj.canvas);\r\n         //obj.Draw();\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n         \r\n         /**\r\n         * Place a DIV over the canvas to stop interaction with it\r\n         */\r\n         if (!obj.canvas.__rgraph_trace_cover__) {\r\n             var div2 = document.createElement('DIV');\r\n                 div2.id = '__rgraph_trace_animation_' + RGraph.random(0, 4351623) + '__';\r\n                 div2.style.left = xy[0] + 'px';\r\n                 div2.style.top = xy[1] + 'px';\r\n                 div2.style.width = obj.canvas.width + 'px';\r\n                 div2.style.height = obj.canvas.height + 'px';\r\n                 div2.style.position = 'absolute';\r\n                 div2.style.overflow = 'hidden';\r\n                 div2.style.backgroundColor = 'rgba(0,0,0,0)';\r\n                 div.div2 = div2;\r\n                 obj.canvas.__rgraph_trace_cover__ = div2;\r\n             document.body.appendChild(div2);\r\n         } else {\r\n             div2 = obj.canvas.__rgraph_trace_cover__;\r\n         }\r\n \r\n         /**\r\n         * Animate the DIV that contains the canvas\r\n         */\r\n         jQuery('#' + div.id).animate({\r\n             width: obj.canvas.width + 'px'\r\n         }, opt['duration'], function () {RGraph.Effects.Line.Trace_callback(obj)});\r\n \r\n \r\n         /**\r\n         * Get rid of the second canvas and turn the line back on\r\n         * on the original.\r\n         */\r\n         RGraph.Effects.Line.Trace_callback = function (obj)\r\n         {\r\n             var obj2 = obj.canvas.__rgraph_trace_obj2__;\r\n \r\n             // Remove the window resize listener\r\n             window.removeEventListener('resize', reposition_canvas2, false);\r\n \r\n             div.style.display = 'none';\r\n             div2.style.display = 'none';\r\n \r\n             //div.removeChild(canvas2);\r\n             obj.Set('chart.line.visible', true);\r\n             \r\n             // Revert the filled status back to as it was\r\n             obj.Set('chart.filled', RGraph.array_clone(obj2.Get('chart.filled')));\r\n             obj.Set('chart.fillstyle', obj.Get('chart.animation.trace.original.fillstyle'));\r\n             obj.Set('chart.colors', RGraph.array_clone(obj2.Get('chart.colors')));\r\n             obj.Set('chart.key', RGraph.array_clone(obj2.Get('chart.key')));\r\n \r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             obj.canvas.__rgraph_trace_div__.style.display = 'none';\r\n             obj.canvas.__rgraph_trace_div__ = null;\r\n             obj.canvas.__rgraph_line_canvas2__.style.display = 'none';\r\n             obj.canvas.__rgraph_line_canvas2__ = null;\r\n             obj.canvas.__rgraph_trace_cover__.style.display = 'none';\r\n             obj.canvas.__rgraph_trace_cover__ = null;\r\n             \r\n             \r\n             callback(obj);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Trace2\r\n     * \r\n     * This is a new version of the Trace effect which no longer requires jQuery and is more compatible\r\n     * with other effects (eg Expand). This new effect is considerably simpler and less code.\r\n     * \r\n     * @param object obj The graph object\r\n     * @param object     Options for the effect. Currently only \"frames\" is available.\r\n     * @param int        A function that is called when the ffect is complete\r\n     */\r\n     RGraph.Effects.Line.Trace2 = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = (arguments[1] && arguments[1].frames) ? arguments[1].frames : 60;\r\n         var frame     = 0;\r\n         \r\n         obj.Set('animation.trace.clip', 0);\r\n \r\n         function Grow ()\r\n         {\r\n             if (frame > numFrames) {\r\n                 if (callback) {\r\n                     callback(obj);\r\n                 }\r\n                 return;\r\n             }\r\n \r\n             obj.Set('animation.trace.clip', frame / numFrames );\r\n \r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             frame++;\r\n             RGraph.Effects.UpdateCanvas(Grow);\r\n         }\r\n         \r\n         Grow();\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Trace (Radar chart)\r\n     * \r\n     * This is a Trace effect for the Radar chart\r\n     * \r\n     * @param object obj The graph object\r\n     * @param object     Options for the effect. Currently only \"frames\" is available.\r\n     * @param function   A function that is called when the ffect is complete\r\n     */\r\n     RGraph.Effects.Radar.Trace = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = (arguments[1] && arguments[1].frames) ? arguments[1].frames : 60;\r\n         var frame     = 0;\r\n \r\n         obj.Set('animation.trace.clip', 0);\r\n \r\n         function Grow ()\r\n         {\r\n             if (frame > numFrames) {\r\n                 if (callback) {\r\n                     callback(obj);\r\n                 }\r\n                 return;\r\n             }\r\n \r\n             obj.Set('animation.trace.clip', frame / numFrames );\r\n \r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             frame++;\r\n             RGraph.Effects.UpdateCanvas(Grow);\r\n         }\r\n         \r\n         Grow();\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * RoundRobin\r\n     * \r\n     * This effect does two things:\r\n     *  1. Gradually increases the size of each segment\r\n     *  2. Gradually increases the size of the radius from 0\r\n     * \r\n     * @param object obj The graph object\r\n     */\r\n     RGraph.Effects.Pie.RoundRobin = function (obj)\r\n     {\r\n         var callback     = arguments[2] ? arguments[2] : null;\r\n         var opt          = arguments[1];\r\n         var currentFrame = 0;\r\n         var numFrames    = (opt && opt['frames']) ? opt['frames'] : 90;\r\n         var targetRadius =  obj.getRadius();\r\n         \r\n         obj.Set('chart.events', false);\r\n         \r\n         // Fix for donuts\r\n         if (obj.properties['chart.variant'] == 'donut' && typeof(obj.properties['chart.variant.donut.width']) == 'number') {\r\n             if (RGraph.is_null(opt)) {\r\n                 var opt = {radius: null}\r\n             } else {\r\n                 opt.radius = null;\r\n             }\r\n         }\r\n \r\n \r\n         function RoundRobin_inner ()\r\n         {\r\n             obj.Set('chart.effect.roundrobin.multiplier', Math.pow(Math.sin((currentFrame * (90 / numFrames)) / (180 / PI)), 2) * (currentFrame / numFrames) );\r\n \r\n             if (!opt || typeof(opt['radius']) == 'undefined' || opt['radius'] == true) {\r\n                 obj.Set('chart.radius', targetRadius * obj.Get('chart.effect.roundrobin.multiplier'));\r\n             }\r\n             \r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (currentFrame++ < numFrames) {\r\n                 RGraph.Effects.UpdateCanvas(RoundRobin_inner);\r\n             \r\n             } else {\r\n                 \r\n                 // Re-enable the events and redraw the chart.\r\n                 obj.Set('chart.events', true);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n \r\n                 if (callback) {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n \r\n         RGraph.Effects.UpdateCanvas(RoundRobin_inner);\r\n     }\r\n \r\n \r\n     /**\r\n     * Implode (pie chart)\r\n     * \r\n     * Here the segments are initially exploded - and gradually\r\n     * contract inwards to create the Pie chart\r\n     * \r\n     * @param object obj The Pie chart object\r\n     */\r\n     RGraph.Effects.Pie.Implode = function (obj)\r\n     {\r\n         var numFrames = 90;\r\n         var distance  = Math.min(obj.canvas.width, obj.canvas.height);\r\n         var exploded  = obj.Get('chart.exploded');\r\n         var callback  = arguments[2];\r\n         \r\n         function Implode_inner ()\r\n         {\r\n             obj.Set('chart.exploded', Math.sin(numFrames / (180 / PI)) * distance);\r\n             RGraph.Clear(obj.canvas)\r\n             //obj.Draw();\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (numFrames > 0) {\r\n                 numFrames--;\r\n                 RGraph.Effects.UpdateCanvas(Implode_inner);\r\n             } else {\r\n                 // Finish off the animation\r\n                 obj.Set('chart.exploded', exploded);\r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Implode_inner);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Pie chart explode\r\n     * \r\n     * Explodes the Pie chart - gradually incrementing the size of the chart.explode property\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.Pie.Explode = function (obj)\r\n     {\r\n         var canvas   = obj.canvas;\r\n         var opts     = arguments[1] ? arguments[1] : [];\r\n         var callback = arguments[2] ? arguments[2] : null;\r\n         var frames   = opts['frames'] ? opts['frames'] : 60;\r\n \r\n         obj.Set('chart.exploded', 0);\r\n \r\n         RGraph.Effects.Animate(obj, {'frames': frames, 'chart.exploded': Math.max(canvas.width, canvas.height)}, callback);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Gauge Grow\r\n     * \r\n     * This effect gradually increases the represented value\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Gauge.Grow = function (obj)\r\n     {\r\n \r\n         var callback  = arguments[2];\r\n         var numFrames = 30;\r\n         var frame     = 0;\r\n \r\n         // Single pointer\r\n         if (typeof(obj.value) == 'number') {\r\n \r\n             var origValue = Number(obj.currentValue);\r\n \r\n             if (obj.currentValue == null) {\r\n                 obj.currentValue = obj.min;\r\n                 origValue = obj.min;\r\n             }\r\n \r\n             var newValue  = obj.value;\r\n             var diff      = newValue - origValue;\r\n             var step      = (diff / numFrames);\r\n             var frame     = 0;\r\n \r\n \r\n             function Grow_single ()\r\n             {\r\n \r\n                 frame++;\r\n \r\n                 obj.value = ((frame / numFrames) * diff) + origValue;\r\n \r\n                 if (obj.value > obj.max) obj.value = obj.max;\r\n                 if (obj.value < obj.min) obj.value = obj.min;\r\n     \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n     \r\n                 if (frame < 30) {\r\n                     RGraph.Effects.UpdateCanvas(Grow_single);\r\n                 } else if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n \r\n             Grow_single();\r\n \r\n         // Multiple pointers\r\n         } else {\r\n \r\n             if (obj.currentValue == null) {\r\n                 obj.currentValue = [];\r\n                 \r\n                 for (var i=0; i<obj.value.length; ++i) {\r\n                     obj.currentValue[i] = obj.min;\r\n                 }\r\n                 \r\n                 origValue = RGraph.array_clone(obj.currentValue);\r\n             }\r\n \r\n             var origValue = RGraph.array_clone(obj.currentValue);\r\n             var newValue  = RGraph.array_clone(obj.value);\r\n             var diff      = [];\r\n             var step      = [];\r\n             \r\n             for (var i=0; i<newValue.length; ++i) {\r\n                 diff[i] = newValue[i] - Number(obj.currentValue[i]);\r\n                 step[i] = (diff[i] / numFrames);\r\n             }\r\n \r\n \r\n \r\n             function Grow_multiple ()\r\n             {\r\n                 frame++;\r\n                 \r\n                 for (var i=0; i<obj.value.length; ++i) {\r\n                     \r\n                     obj.value[i] = ((frame / numFrames) * diff[i]) + origValue[i];\r\n \r\n                     if (obj.value[i] > obj.max) obj.value[i] = obj.max;\r\n                     if (obj.value[i] < obj.min) obj.value[i] = obj.min;\r\n         \r\n                     RGraph.Clear(obj.canvas);\r\n                     RGraph.RedrawCanvas(obj.canvas);\r\n                     \r\n                 }\r\n     \r\n                 if (frame < 30) {\r\n                     RGraph.Effects.UpdateCanvas(Grow_multiple);\r\n                 } else if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n     \r\n             Grow_multiple();\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Radar chart grow\r\n     * \r\n     * This effect gradually increases the magnitude of the points on the radar chart\r\n     * \r\n     * @param object obj The chart object\r\n     * @param null       Not used\r\n     * @param function   An optional callback that is run when the effect is finished\r\n     */\r\n     RGraph.Effects.Radar.Grow = function (obj)\r\n     {\r\n         var totalframes   = 30;\r\n         var framenum      = totalframes;\r\n         var data          = RGraph.array_clone(obj.data);\r\n         var callback      = arguments[2];\r\n         obj.original_data = RGraph.array_clone(obj.original_data);\r\n \r\n         function Grow_inner ()\r\n         {\r\n             for (var i=0; i<data.length; ++i) {\r\n                 \r\n                 if (obj.original_data[i] == null) {\r\n                     obj.original_data[i] = [];\r\n                 }\r\n \r\n                 for (var j=0; j<data[i].length; ++j) {\r\n                     obj.original_data[i][j] = ((totalframes - framenum)/totalframes)  * data[i][j];\r\n                 }\r\n             }\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (framenum > 0) {\r\n                 framenum--;\r\n                 RGraph.Effects.UpdateCanvas(Grow_inner);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow_inner);\r\n     }\r\n \r\n \r\n     /**\r\n     * Waterfall Grow\r\n     * \r\n     * @param object obj The chart object\r\n     * @param null Not used\r\n     * @param function An optional function which is called when the animation is finished\r\n     */\r\n     RGraph.Effects.Waterfall.Grow = function (obj)\r\n     {\r\n         var totalFrames = 45;\r\n         var numFrame    = 0;\r\n         var data = RGraph.array_clone(obj.data);\r\n         var callback = arguments[2];\r\n         \r\n         //Reset The data to zeros\r\n         for (var i=0; i<obj.data.length; ++i) {\r\n             obj.data[i] /= totalFrames;\r\n         }\r\n         \r\n         /**\r\n         * Fix the scale\r\n         */\r\n         if (obj.Get('chart.ymax') == null) {\r\n             var max   = obj.getMax(data);\r\n             var scale2 = RGraph.getScale2(obj, {'max':max});\r\n             obj.Set('chart.ymax', scale2.max);\r\n         }\r\n         \r\n         //obj.Set('chart.multiplier.x', 0);\r\n         //obj.Set('chart.multiplier.w', 0);\r\n \r\n         function Grow_inner ()\r\n         {\r\n             for (var i=0; i<obj.data.length; ++i) {\r\n                 obj.data[i] = data[i] * (numFrame/totalFrames);\r\n             }\r\n             \r\n             var multiplier = Math.pow(Math.sin(((numFrame / totalFrames) * 90) / (180 / PI)), 20);\r\n             //obj.Set('chart.multiplier.x', (numFrame / totalFrames) * multiplier);\r\n             //obj.Set('chart.multiplier.w', (numFrame / totalFrames) * multiplier);\r\n             \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (numFrame++ < totalFrames) {\r\n                 RGraph.Effects.UpdateCanvas(Grow_inner);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow_inner)\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Bar chart Wave effect This effect defaults to 30 frames - which is\r\n     * approximately half a second\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.Bar.Wave2 =\r\n     RGraph.Effects.Bar.Wave = function (obj)\r\n     {\r\n         var totalframes   = (arguments[1] && arguments[1].frames) ? arguments[1].frames : 15;\r\n         var original_data = [];\r\n \r\n         obj.Draw();\r\n         //var scale = RGraph.getScale2(obj, {'max':obj.max});\r\n         obj.Set('chart.ymax', obj.scale2.max);\r\n         RGraph.Clear(obj.canvas);\r\n         \r\n         for (var i=0; i<obj.data.length; ++i) {\r\n         \r\n             (function (idx)\r\n             {\r\n                 original_data[i] = obj.data[i];\r\n                 obj.data[i] = typeof(obj.data[i]) == 'object' ? [] : 0;\r\n                 setTimeout(function () {Iterator(idx, totalframes);}, 100 * i)\r\n             })(i);\r\n         }\r\n         \r\n         function Iterator(idx, frames)\r\n         {\r\n             if (frames-- > 0) {\r\n \r\n                 // Update the data point\r\n                 if (typeof(obj.data[idx]) == 'number') {\r\n                     obj.data[idx] = ((totalframes - frames) / totalframes) * original_data[idx]\r\n \r\n                 } else if (typeof(obj.data[idx]) == 'object') {\r\n                     for (var k=0; k<original_data[idx].length; ++k) {\r\n                         obj.data[idx][k] = ((totalframes - frames) / totalframes) * original_data[idx][k];\r\n                     }\r\n                 }\r\n \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 RGraph.Effects.UpdateCanvas(function () {Iterator(idx, frames);});\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * HProgress Grow effect (which is also the VPogress Grow effect)\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.VProgress.Grow =\r\n     RGraph.Effects.HProgress.Grow = function (obj)\r\n     {\r\n         var canvas        = obj.canvas;\r\n         var context       = obj.context;\r\n         var initial_value = obj.currentValue;\r\n         var numFrames     = 30;\r\n         var currentFrame  = 0\r\n \r\n         if (typeof(obj.value) == 'object') {\r\n \r\n             if (RGraph.is_null(obj.currentValue)) {\r\n                 obj.currentValue = [];\r\n                 for (var i=0; i<obj.value.length; ++i) {\r\n                     obj.currentValue[i] = 0;\r\n                 }\r\n             }\r\n \r\n             var diff      = [];\r\n             var increment = [];\r\n \r\n             for (var i=0; i<obj.value.length; ++i) {\r\n                 diff[i]      = obj.value[i] - Number(obj.currentValue[i]);\r\n                 increment[i] = diff[i] / numFrames;\r\n             }\r\n             \r\n             if (initial_value == null) {\r\n                 initial_value = [];\r\n                 for (var i=0; i< obj.value.length; ++i) {\r\n                     initial_value[i] = 0;\r\n                 }\r\n             }\r\n \r\n         } else {\r\n \r\n             var diff = obj.value - Number(obj.currentValue);\r\n             var increment = diff  / numFrames;\r\n         }\r\n         var callback      = arguments[2] ? arguments[2] : null;\r\n \r\n         function Grow ()\r\n         {\r\n             currentFrame++;\r\n \r\n             if (currentFrame <= numFrames) {\r\n \r\n                 if (typeof(obj.value) == 'object') {\r\n                     obj.value = [];\r\n                     for (var i=0; i<initial_value.length; ++i) {\r\n                         obj.value[i] = initial_value[i] + (increment[i] * currentFrame);\r\n                     }\r\n                 } else {\r\n                     obj.value = initial_value + (increment * currentFrame);\r\n                 }\r\n \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n \r\n             } else if (callback) {\r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Gantt chart Grow effect\r\n     * \r\n     * @param object obj The chart object\r\n     */\r\n     RGraph.Effects.Gantt.Grow = function (obj)\r\n     {\r\n         var canvas       = obj.canvas;\r\n         var context      = obj.context;\r\n         var numFrames    = 30;\r\n         var currentFrame = 0;\r\n         var callback     = arguments[2] ? arguments[2] : null;\r\n         var events       = obj.data;\r\n         \r\n         var original_events = RGraph.array_clone(events);\r\n \r\n         function Grow_gantt_inner ()\r\n         {\r\n             if (currentFrame <= numFrames) {\r\n                 // Update the events\r\n                 for (var i=0; i<events.length; ++i) {\r\n                     if (typeof(events[i][0]) == 'object') {\r\n                         for (var j=0; j<events[i].length; ++j) {\r\n                             events[i][j][1] = (currentFrame / numFrames) * original_events[i][j][1];\r\n                         }\r\n                     } else {\r\n \r\n                         events[i][1] = (currentFrame / numFrames) * original_events[i][1];\r\n                     }\r\n                 }\r\n \r\n                 obj.data = events;\r\n \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 currentFrame++;\r\n                 \r\n                 RGraph.Effects.UpdateCanvas(Grow_gantt_inner);\r\n \r\n             } else if (callback) {            \r\n                 callback(obj);\r\n             }\r\n         }\r\n         \r\n         RGraph.Effects.UpdateCanvas(Grow_gantt_inner);\r\n     }\r\n \r\n \r\n     /**\r\n     * This is a compatibility hack provided for Opera and Safari which\r\n     * don't support ther Javascript 1.8.5 function.bind()\r\n     */\r\n     if (!Function.prototype.bind) {  \r\n       Function.prototype.bind = function (oThis) {  \r\n         if (typeof this !== \"function\") {  \r\n           // closest thing possible to the ECMAScript 5 internal IsCallable function  \r\n           if (console && console.log) {\r\n             console.log('Function.prototype.bind - what is trying to be bound is not callable');\r\n           }\r\n         }  \r\n       \r\n         var aArgs = Array.prototype.slice.call(arguments, 1),   \r\n             fToBind = this,   \r\n             fNOP = function () {},  \r\n             fBound = function () {  \r\n               return fToBind.apply(this instanceof fNOP  \r\n                                      ? this  \r\n                                      : oThis || window,  \r\n                                    aArgs.concat(Array.prototype.slice.call(arguments)));  \r\n             };  \r\n       \r\n         fNOP.prototype = this.prototype;  \r\n         fBound.prototype = new fNOP();  \r\n       \r\n         return fBound;  \r\n       };  \r\n     }\r\n \r\n \r\n     /**\r\n     * Rose chart explode\r\n     * \r\n     * Explodes the Rose chart - gradually incrementing the size of the chart.explode property\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.Rose.Explode = function (obj)\r\n     {\r\n         var canvas   = obj.canvas;\r\n         var opts     = arguments[1] ? arguments[1] : [];\r\n         var callback = arguments[2] ? arguments[2] : null;\r\n         var frames   = opts['frames'] ? opts['frames'] : 60;\r\n \r\n         obj.Set('chart.exploded', 0);\r\n \r\n         RGraph.Effects.Animate(obj, {'frames': frames, 'chart.exploded': Math.min(canvas.width, canvas.height)}, callback);\r\n     }\r\n \r\n \r\n     /**\r\n     * Rose chart implode\r\n     * \r\n     * Implodes the Rose chart - gradually decreasing the size of the chart.explode property. It starts at the largest of\r\n     * the canvas width./height\r\n     * \r\n     * @params object obj The graph object\r\n     */\r\n     RGraph.Effects.Rose.Implode = function (obj)\r\n     {\r\n         var canvas   = obj.canvas;\r\n         var opts     = arguments[1] ? arguments[1] : [];\r\n         var callback = arguments[2] ? arguments[2] : null;\r\n         var frames   = opts['frames'] ? opts['frames'] : 60;\r\n \r\n         obj.Set('chart.exploded', Math.min(canvas.width, canvas.height));\r\n \r\n         RGraph.Effects.Animate(obj, {'frames': frames, 'chart.exploded': 0}, callback);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Gauge Grow\r\n     * \r\n     * This effect gradually increases the represented value\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Thermometer.Grow = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = 30;\r\n         var origValue = Number(obj.currentValue);\r\n \r\n         if (obj.currentValue == null) {\r\n             obj.currentValue = 0\r\n             origValue        = 0;\r\n         }\r\n \r\n         var newValue  = obj.value;\r\n         var diff      = newValue - origValue;\r\n         var step      = (diff / numFrames);\r\n         var frame = 0;\r\n \r\n         function Grow ()\r\n         {\r\n             frame++\r\n             \r\n             // Set the new value\r\n             obj.value = v = ((frame / numFrames) * diff) + origValue\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (frame < 30) {\r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n             } else if (typeof(callback) == 'function') {\r\n                 callback(obj);\r\n             }\r\n         }\r\n \r\n         RGraph.Effects.UpdateCanvas(Grow);\r\n     }\r\n \r\n \r\n     /**\r\n     * Trace\r\n     * \r\n     * This effect is for the Scatter chart, uses the jQuery library and slowly\r\n     * uncovers the Line/marks, but you can see the background of the chart.\r\n     * \r\n     * @param object obj The graph object\r\n     * @param object     Options - you can specify duration to set how long the effect lasts for\r\n     */\r\n     RGraph.Effects.Scatter.jQuery.Trace = function (obj)\r\n     {\r\n         var callback  = typeof(arguments[2]) == 'function' ? arguments[2] : function () {};\r\n         var opt       = arguments[1] || [];\r\n         \r\n         if (!opt['duration']) {\r\n             opt['duration'] = 1500;\r\n         }\r\n \r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n \r\n         /**\r\n         * Create the DIV that the second canvas will sit in\r\n         */\r\n         var div = document.createElement('DIV');\r\n             var xy = RGraph.getCanvasXY(obj.canvas);\r\n             div.id = '__rgraph_trace_animation_' + RGraph.random(0, 4351623) + '__';\r\n             div.style.left = xy[0] + 'px';\r\n             div.style.top = xy[1] + 'px';\r\n             div.style.width = obj.Get('chart.gutter.left');\r\n             div.style.height = obj.canvas.height + 'px';\r\n             div.style.position = 'absolute';\r\n             div.style.overflow = 'hidden';\r\n         document.body.appendChild(div);\r\n         \r\n         /**\r\n         * Make the second canvas\r\n         */\r\n         var id      = '__rgraph_scatter_trace_animation_' + RGraph.random(0, 99999999) + '__';\r\n         var canvas2 = document.createElement('CANVAS');\r\n         canvas2.width = obj.canvas.width;\r\n         canvas2.height = obj.canvas.height;\r\n         canvas2.style.position = 'absolute';\r\n         canvas2.style.left = 0;\r\n         canvas2.style.top  = 0;\r\n         \r\n         // This stops the clear effect clearing the canvas - which can happen if you have multiple canvas tags on the page all with\r\n         // dynamic effects that do redrawing\r\n         canvas2.noclear = true;\r\n \r\n         canvas2.id         = id;\r\n         div.appendChild(canvas2);\r\n \r\n         var reposition_canvas2 = function (e)\r\n         {\r\n \r\n             var xy = RGraph.getCanvasXY(obj.canvas);\r\n             \r\n             div.style.left = xy[0]   + 'px';\r\n             div.style.top = xy[1] + 'px';\r\n         }\r\n         window.addEventListener('resize', reposition_canvas2, false)\r\n \r\n         /**\r\n         * Make a copy of the original Line object\r\n         */\r\n         var obj2 = new RGraph.Scatter(id, RGraph.array_clone(obj.data));\r\n \r\n         // Remove the new line from the ObjectRegistry so that it isn't redawn\r\n         RGraph.ObjectRegistry.Remove(obj2);\r\n \r\n         for (i in obj.properties) {\r\n             if (typeof(i) == 'string') {\r\n                 obj2.Set(i, obj.properties[i]);\r\n             }\r\n         }\r\n \r\n \r\n         obj2.Set('chart.labels', []);\r\n         obj2.Set('chart.background.grid', false);\r\n         obj2.Set('chart.background.barcolor1', 'rgba(0,0,0,0)');\r\n         obj2.Set('chart.background.barcolor2', 'rgba(0,0,0,0)');\r\n         obj2.Set('chart.ylabels', false);\r\n         obj2.Set('chart.noaxes', true);\r\n         obj2.Set('chart.title', '');\r\n         obj2.Set('chart.title.xaxis', '');\r\n         obj2.Set('chart.title.yaxis', '');\r\n         obj.Set('chart.key', []);\r\n         obj2.Draw();\r\n \r\n \r\n         /**\r\n         * This effectively hides the line\r\n         */\r\n         obj.Set('chart.line.visible', false);\r\n \r\n \r\n         RGraph.Clear(obj.canvas);\r\n         RGraph.RedrawCanvas(obj.canvas);\r\n         \r\n         /**\r\n         * Place a DIV over the canvas to stop interaction with it\r\n         */\r\n             if (!obj.canvas.__rgraph_scatter_trace_cover__) {\r\n             var div2 = document.createElement('DIV');\r\n                 div2.id = '__rgraph_trace_animation_' + RGraph.random(0, 4351623) + '__';\r\n                 div2.style.left = xy[0] + 'px';\r\n                 div2.style.top = xy[1] + 'px';\r\n                 div2.style.width = obj.canvas.width + 'px';\r\n                 div2.style.height = obj.canvas.height + 'px';\r\n                 div2.style.position = 'absolute';\r\n                 div2.style.overflow = 'hidden';\r\n                 div2.style.backgroundColor = 'rgba(0,0,0,0)';\r\n                 div.div2 = div2;\r\n                 obj.canvas.__rgraph_scatter_trace_cover__ = div2\r\n             document.body.appendChild(div2);\r\n         } else {\r\n             div2 = obj.canvas.__rgraph_scatter_trace_cover__;\r\n         }\r\n \r\n         /**\r\n         * Animate the DIV that contains the canvas\r\n         */\r\n         jQuery('#' + div.id).animate({\r\n             width: obj.canvas.width + 'px'\r\n         }, opt['duration'], function () {\r\n \r\n             // Remove the window resize listener\r\n             window.removeEventListener('resize', reposition_canvas2, false);\r\n \r\n             div.style.display  = 'none';\r\n             div2.style.display = 'none';\r\n \r\n             //div.removeChild(canvas2);\r\n             obj.Set('chart.line.visible', true);\r\n \r\n             // Revert the colors back to what they were\r\n             obj.Set('chart.colors', RGraph.array_clone(obj2.Get('chart.colors')));\r\n             obj.Set('chart.key', RGraph.array_clone(obj2.Get('chart.key')));\r\n \r\n             RGraph.RedrawCanvas(obj.canvas);\r\n             \r\n             obj.canvas.__rgraph_trace_cover__ = null;\r\n \r\n             callback(obj);\r\n         });\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * CornerGauge Grow\r\n     * \r\n     * This effect gradually increases the represented value\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.CornerGauge.Grow = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = 30;\r\n         var frame     = 0;\r\n \r\n         // Single pointer\r\n         if (typeof(obj.value) == 'number') {\r\n \r\n             var origValue = Number(obj.currentValue);\r\n             \r\n             if (obj.currentValue == null) {\r\n                 obj.currentValue = obj.min;\r\n                 origValue = obj.min;\r\n             }\r\n     \r\n             var newValue  = obj.value;\r\n             var diff      = newValue - origValue;\r\n             var step      = (diff / numFrames);\r\n             var frame     = 0;\r\n     \r\n \r\n             function Grow_single ()\r\n             {\r\n                 frame++;\r\n \r\n                 obj.value = ((frame / numFrames) * diff) + origValue\r\n \r\n                 if (obj.value > obj.max) obj.value = obj.max;\r\n                 if (obj.value < obj.min) obj.value = obj.min;\r\n     \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n     \r\n                 if (frame < 30) {\r\n                     RGraph.Effects.UpdateCanvas(Grow_single);\r\n                 } else if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n \r\n             Grow_single();\r\n \r\n         // Multiple pointers\r\n         } else {\r\n \r\n             if (obj.currentValue == null) {\r\n                 obj.currentValue = [];\r\n                 \r\n                 for (var i=0; i<obj.value.length; ++i) {\r\n                     obj.currentValue[i] = obj.min;\r\n                 }\r\n                 \r\n                 origValue = RGraph.array_clone(obj.currentValue);\r\n             }\r\n \r\n             var origValue = RGraph.array_clone(obj.currentValue);\r\n             var newValue  = RGraph.array_clone(obj.value);\r\n             var diff      = [];\r\n             var step      = [];\r\n             \r\n             for (var i=0; i<newValue.length; ++i) {\r\n                 diff[i] = newValue[i] - Number(obj.currentValue[i]);\r\n                 step[i] = (diff[i] / numFrames);\r\n             }\r\n \r\n \r\n \r\n             function Grow_multiple ()\r\n             {\r\n                 frame++;\r\n                 \r\n                 for (var i=0; i<obj.value.length; ++i) {\r\n                     \r\n                     obj.value[i] = ((frame / numFrames) * diff[i]) + origValue[i];\r\n \r\n                     if (obj.value[i] > obj.max) obj.value[i] = obj.max;\r\n                     if (obj.value[i] < obj.min) obj.value[i] = obj.min;\r\n         \r\n                     RGraph.Clear(obj.canvas);\r\n                     RGraph.RedrawCanvas(obj.canvas);\r\n                     \r\n                 }\r\n     \r\n                 if (frame < 30) {\r\n                     RGraph.Effects.UpdateCanvas(Grow_multiple);\r\n                 } else if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n     \r\n             Grow_multiple();\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Rose chart Grow\r\n     * \r\n     * This effect gradually increases the size of the Rose chart\r\n     * \r\n     * @param object   obj The chart object\r\n     * @param              Not used - pass null\r\n     * @param function     An optional callback function\r\n     */\r\n     RGraph.Effects.Rose.Grow = function (obj)\r\n     {\r\n         var callback  = arguments[2];\r\n         var numFrames = 60;\r\n         var frame     = 0;\r\n \r\n \r\n         function Grow ()\r\n         {\r\n             frame++;\r\n             \r\n             obj.Set('chart.animation.grow.multiplier', frame / numFrames);\r\n \r\n             RGraph.Clear(obj.canvas);\r\n             RGraph.RedrawCanvas(obj.canvas);\r\n \r\n             if (frame < numFrames) {\r\n                 ++frame;\r\n                 RGraph.Effects.UpdateCanvas(Grow);\r\n             } else {\r\n                 obj.Set('chart.animation.grow.multiplier', 1);\r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 \r\n                 if (typeof(callback) == 'function') {\r\n                     callback(obj);\r\n                 }\r\n             }\r\n         }\r\n \r\n         RGraph.Effects.UpdateCanvas(Grow);\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Horizontal Scissors (open)\r\n     * \r\n     * @param object   obj The graph object\r\n     * @param @object      An array of options\r\n     * @param function     Optional callback function\r\n     * \r\n     */\r\n     RGraph.Effects.jQuery.HScissors.Open = function (obj)\r\n     {\r\n         var canvas = obj.isRGraph ? obj.canvas : obj;;\r\n         var id     = canvas.id;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var height = canvas.height / 5;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(canvas);\r\n         RGraph.RedrawCanvas(canvas);\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.getElementById(id + \"scissors_\" + i)\r\n             if (!div) {\r\n                 var div = document.createElement('DIV');\r\n                     div.id = id + 'scissors_' + i;\r\n                     div.style.width =  canvas.width + 'px';\r\n                     div.style.height = height + 'px';\r\n                     div.style.left   = xy[0] + 'px';\r\n                     div.style.top   = (xy[1] + (canvas.height * (i / 5))) + 'px';\r\n                     div.style.position = 'absolute';\r\n                     div.style.backgroundColor = color;\r\n                 document.body.appendChild(div);\r\n             }\r\n     \r\n             if (i % 2 == 0) {\r\n                 jQuery('#' + id + 'scissors_' + i).animate({left: canvas.width + 'px', width: 0}, delay);\r\n             } else {\r\n                 jQuery('#' + id + 'scissors_' + i).animate({width: 0}, delay);\r\n             }\r\n         }\r\n \r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + 'scissors_0'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + 'scissors_1'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + 'scissors_2'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + 'scissors_3'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + 'scissors_4'));}, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Horizontal Scissors (Close)\r\n     * \r\n     * @param object   obj The graph object\r\n     * @param @object      An array of options\r\n     * @param function     Optional callback function\r\n     * \r\n     */\r\n     RGraph.Effects.jQuery.HScissors.Close = function (obj)\r\n     {\r\n         var canvas = obj.isRGraph ? obj.canvas : obj;\r\n         var id     = canvas.id;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var height = canvas.height / 5;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(canvas);\r\n         RGraph.RedrawCanvas(canvas);\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.createElement('DIV');\r\n                 div.id             = id + '_scissors_' + i;\r\n                 div.style.width    = 0;\r\n                 div.style.height   = height + 'px';\r\n                 div.style.left     = (i % 2 == 0 ? xy[0] + canvas.width : xy[0]) + 'px';\r\n                 div.style.top      = (xy[1] + (canvas.height * (i / 5))) + 'px';\r\n                 div.style.position = 'absolute';\r\n                 div.style.backgroundColor = color;\r\n             document.body.appendChild(div);\r\n \r\n             if (i % 2 == 0) {\r\n                 jQuery('#' + id + '_scissors_' + i).animate({left: xy[0] + 'px', width: canvas.width + 'px'}, delay);\r\n             } else {\r\n                 jQuery('#' + id + '_scissors_' + i).animate({width: canvas.width + 'px'}, delay);\r\n             }\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n \r\n     /**\r\n     * Vertical Scissors (open)\r\n     * \r\n     * @param object   obj The graph object\r\n     * @param @object      An array of options\r\n     * @param function     Optional callback function\r\n     * \r\n     */\r\n     RGraph.Effects.jQuery.VScissors.Open = function (obj)\r\n     {\r\n         var canvas = obj.isRGraph ? obj.canvas : obj;;\r\n         var id     = canvas.id;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var width = canvas.width / 5;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(canvas);\r\n         RGraph.RedrawCanvas(canvas);\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.getElementById(id + \"_vscissors_\" + i)\r\n             if (!div) {\r\n                 var div = document.createElement('DIV');\r\n                     div.id = id + '_vscissors_' + i;\r\n                     div.style.width =  width + 'px';\r\n                     div.style.height = canvas.height + 'px';\r\n                     div.style.left   = xy[0] + (canvas.width * (i / 5)) + 'px';\r\n                     div.style.top   = xy[1] + 'px';\r\n                     div.style.position = 'absolute';\r\n                     div.style.backgroundColor = color;\r\n                 document.body.appendChild(div);\r\n             }\r\n \r\n             if (i % 2 == 0) {\r\n                 jQuery('#' + id + '_vscissors_' + i).animate({top: xy[1] + canvas.height + 'px', height: 0}, delay);\r\n             } else {\r\n                 jQuery('#' + id + '_vscissors_' + i).animate({height: 0}, delay);\r\n             }\r\n         }\r\n \r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + '_vscissors_0'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + '_vscissors_1'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + '_vscissors_2'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + '_vscissors_3'));}, delay);\r\n         setTimeout(function () {document.body.removeChild(document.getElementById(id + '_vscissors_4'));}, delay);\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * Vertical Scissors (close)\r\n     * \r\n     * @param object   obj The graph object\r\n     * @param @object      An array of options\r\n     * @param function     Optional callback function\r\n     * \r\n     */\r\n     RGraph.Effects.jQuery.VScissors.Close = function (obj)\r\n     {\r\n         var canvas = obj.isRGraph ? obj.canvas : obj;\r\n         var id     = canvas.id;\r\n         var opts   = arguments[1] ? arguments[1] : [];\r\n         var delay  = 1000;\r\n         var color  = opts['color'] ? opts['color'] : 'white';\r\n         var xy     = RGraph.getCanvasXY(canvas);\r\n         var width  = canvas.width / 5;\r\n         \r\n         /**\r\n         * First draw the chart\r\n         */\r\n         RGraph.Clear(canvas);\r\n         RGraph.RedrawCanvas(canvas);\r\n \r\n         for (var i=0; i<5; ++i) {\r\n             var div = document.getElementById(id + \"_vscissors_\" + i)\r\n             if (!div) {\r\n                 var div                = document.createElement('DIV');\r\n                     div.id             = id + '_vscissors_' + i;\r\n                     div.style.width    =  width + 'px';\r\n                     div.style.height   = 0;\r\n                     div.style.left     = xy[0] + (width * i) + 'px';\r\n                     div.style.top      = (i % 2 == 0 ? xy[1] + canvas.height : xy[1]) + 'px';\r\n                     div.style.position = 'absolute';\r\n                     div.style.backgroundColor = color;\r\n                 document.body.appendChild(div);\r\n             }\r\n \r\n             if (i % 2 == 0) {\r\n                 jQuery('#' + id + '_vscissors_' + i).animate({top: xy[1] + 'px', height: canvas.height + 'px'}, delay);\r\n             } else {\r\n                 jQuery('#' + id + '_vscissors_' + i).animate({height: canvas.height + 'px'}, delay);\r\n             }\r\n         }\r\n         \r\n         /**\r\n         * Callback\r\n         */\r\n         if (typeof(arguments[2]) == 'function') {\r\n             setTimeout(arguments[2], delay);\r\n         }\r\n     }\r\n \r\n \r\n     /**\r\n     * The effect that gradually fades in the colors\r\n     * \r\n     * @param object obj The Bar chart object\r\n     */\r\n     RGraph.Effects.Bar.WaveFadeIn = function (obj)\r\n     {\r\n         var totalframes   = (arguments[1] && arguments[1].frames) ? arguments[1].frames : 30;\r\n         \r\n         for (var i=0; i<obj.data.length; ++i) {\r\n         \r\n             (function (idx)\r\n             {\r\n                 setTimeout(function () {Iterator(idx, totalframes);}, 50 * i)\r\n             })(i);\r\n         }\r\n         \r\n         function Iterator(idx, frames)\r\n         {\r\n             if (frames-- > 0) {\r\n \r\n                 // Update the color\r\n                 if (obj.properties['chart.colors'][idx].match(/^rgba\\(([\\d.]+),([\\d.]+),([\\d.]+),[\\d.]+\\)$/)) {\r\n                     obj.properties['chart.colors'][idx] = 'rgba(' + RegExp.$1 + ',' + RegExp.$2 + ',' + RegExp.$3 + ',' + ((totalframes - frames) / totalframes) + ')';\r\n                 }\r\n \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 RGraph.Effects.UpdateCanvas(function () {Iterator(idx, frames);});\r\n             }\r\n         }\r\n     }\r\n \r\n \r\n \r\n \r\n     /**\r\n     * The effect that gradually fades out the colors\r\n     * \r\n     * @param object obj The Bar chart object\r\n     */\r\n     RGraph.Effects.Bar.WaveFadeOut = function (obj)\r\n     {\r\n         var totalframes   = (arguments[1] && arguments[1].frames) ? arguments[1].frames : 30;\r\n         \r\n         for (var i=0; i<obj.data.length; ++i) {\r\n         \r\n             (function (idx)\r\n             {\r\n                 setTimeout(function () {Iterator(idx, totalframes);}, 50 * i)\r\n             })(i);\r\n         }\r\n         \r\n         function Iterator(idx, frames)\r\n         {\r\n             if (frames-- > 0) {\r\n \r\n                 // Update the color\r\n                 if (obj.properties['chart.colors'][idx].match(/^rgba\\(([\\d.]+),([\\d.]+),([\\d.]+),[\\d.]+\\)$/)) {\r\n                     obj.properties['chart.colors'][idx] = 'rgba(' + RegExp.$1 + ',' + RegExp.$2 + ',' + RegExp.$3 + ',' + (1 - (((totalframes - frames) / totalframes) )) + ')';\r\n                 }\r\n \r\n                 RGraph.Clear(obj.canvas);\r\n                 RGraph.RedrawCanvas(obj.canvas);\r\n                 RGraph.Effects.UpdateCanvas(function () {Iterator(idx, frames);});\r\n             }\r\n         }\r\n     }\r\n\r\n    /**\r\n    * o------------------------------------------------------------------------------o\r\n    * | This file is part of the RGraph package - you can learn more at:             |\r\n    * |                                                                              |\r\n    * |                          http://www.rgraph.net                               |\r\n    * |                                                                              |\r\n    * | This package is licensed under the RGraph license. For all kinds of business |\r\n    * | purposes there is a small one-time licensing fee to pay and for non          |\r\n    * | commercial  purposes it is free to use. You can read the full license here:  |\r\n    * |                                                                              |\r\n    * |                      http://www.rgraph.net/LICENSE.txt                       |\r\n    * o------------------------------------------------------------------------------o\r\n    */\r\n\r\n     if (typeof(RGraph) == 'undefined') RGraph = {};\r\n\r\n     /**\r\n     * The scatter graph constructor\r\n     * \r\n     * @param object canvas The cxanvas object\r\n     * @param array  data   The chart data\r\n     */\r\n     RGraph.Scatter = function (id, data)\r\n     {\r\n         // Get the canvas and context objects\r\n         this.id                = id;\r\n         this.canvas            = document.getElementById(id);\r\n         this.canvas.__object__ = this;\r\n         this.context           = this.canvas.getContext ? this.canvas.getContext(\"2d\") : null;\r\n         this.max               = 0;\r\n         this.coords            = [];\r\n         this.data              = [];\r\n         this.type              = 'scatter';\r\n         this.isRGraph          = true;\r\n         this.uid               = RGraph.CreateUID();\r\n         this.canvas.uid        = this.canvas.uid ? this.canvas.uid : RGraph.CreateUID();\r\n         this.colorsParsed      = false;\r\n         this.coordsText        = [];\r\n \r\n \r\n         /**\r\n         * Compatibility with older browsers\r\n         */\r\n         RGraph.OldBrowserCompat(this.context);\r\n \r\n \r\n         // Various config properties\r\n         this.properties = {\r\n             'chart.background.barcolor1':   'rgba(0,0,0,0)',\r\n             'chart.background.barcolor2':   'rgba(0,0,0,0)',\r\n             'chart.background.grid':        true,\r\n             'chart.background.grid.width':  1,\r\n             'chart.background.grid.color':  '#ddd',\r\n             'chart.background.grid.hsize':  20,\r\n             'chart.background.grid.vsize':  20,\r\n             'chart.background.hbars':       null,\r\n             'chart.background.vbars':       null,\r\n             'chart.background.grid.vlines': true,\r\n             'chart.background.grid.hlines': true,\r\n             'chart.background.grid.border': true,\r\n             'chart.background.grid.autofit':true,\r\n             'chart.background.grid.autofit.numhlines': 5,\r\n             'chart.background.grid.autofit.numvlines': 20,\r\n             'chart.background.image':       null,\r\n             'chart.background.image.stretch': true,\r\n             'chart.background.image.x':     null,\r\n             'chart.background.image.y':     null,\r\n             'chart.background.image.w':     null,\r\n             'chart.background.image.h':     null,\r\n             'chart.background.image.align': null,\r\n             'chart.text.size':              10,\r\n             'chart.text.angle':             0,\r\n             'chart.text.color':             'black',\r\n             'chart.text.font':              'Arial',\r\n             'chart.tooltips':               [], // Default must be an empty array\r\n             'chart.tooltips.effect':         'fade',\r\n             'chart.tooltips.event':          'onmousemove',\r\n             'chart.tooltips.hotspot':        3,\r\n             'chart.tooltips.css.class':      'RGraph_tooltip',\r\n             'chart.tooltips.highlight':      true,\r\n             'chart.tooltips.coords.page':   false,\r\n             'chart.units.pre':              '',\r\n             'chart.units.post':             '',\r\n             'chart.numyticks':              10,\r\n             'chart.tickmarks':              'cross',\r\n             'chart.ticksize':               5,\r\n             'chart.numxticks':              true,\r\n             'chart.xaxis':                  true,\r\n             'chart.gutter.left':            25,\r\n             'chart.gutter.right':           25,\r\n             'chart.gutter.top':             25,\r\n             'chart.gutter.bottom':          25,\r\n             'chart.xmin':                   0,\r\n             'chart.xmax':                   0,\r\n             'chart.ymax':                   null,\r\n             'chart.ymin':                   0,\r\n             'chart.scale.decimals':         null,\r\n             'chart.scale.point':            '.',\r\n             'chart.scale.thousand':         ',',\r\n             'chart.title':                  '',\r\n             'chart.title.background':       null,\r\n             'chart.title.hpos':             null,\r\n             'chart.title.vpos':             null,\r\n             'chart.title.bold':             true,\r\n             'chart.title.font':             null,\r\n             'chart.title.xaxis':            '',\r\n             'chart.title.xaxis.bold':       true,\r\n             'chart.title.xaxis.size':       null,\r\n             'chart.title.xaxis.font':       null,\r\n             'chart.title.yaxis':            '',\r\n             'chart.title.yaxis.bold':       true,\r\n             'chart.title.yaxis.size':       null,\r\n             'chart.title.yaxis.font':       null,\r\n             'chart.title.yaxis.color':      null,\r\n             'chart.title.xaxis.pos':        null,\r\n             'chart.title.yaxis.pos':        null,\r\n             'chart.title.x':                null,\r\n             'chart.title.y':                null,\r\n             'chart.title.halign':           null,\r\n             'chart.title.valign':           null,\r\n             'chart.labels':                 [],\r\n             'chart.labels.ingraph':         null,\r\n             'chart.labels.above':           false,\r\n             'chart.labels.above.size':      8,\r\n             'chart.labels.above.decimals':  0,\r\n             'chart.ylabels':                true,\r\n             'chart.ylabels.count':          5,\r\n             'chart.ylabels.invert':         false,\r\n             'chart.ylabels.specific':       null,\r\n             'chart.ylabels.inside':         false,\r\n             'chart.contextmenu':            null,\r\n             'chart.defaultcolor':           'black',\r\n             'chart.xaxispos':               'bottom',\r\n             'chart.yaxispos':               'left',\r\n             'chart.crosshairs':             false,\r\n             'chart.crosshairs.color':       '#333',\r\n             'chart.crosshairs.linewidth':   1,\r\n             'chart.crosshairs.coords':      false,\r\n             'chart.crosshairs.coords.fixed':true,\r\n             'chart.crosshairs.coords.fadeout':false,\r\n             'chart.crosshairs.coords.labels.x': 'X',\r\n             'chart.crosshairs.coords.labels.y': 'Y',\r\n             'chart.crosshairs.hline':       true,\r\n             'chart.crosshairs.vline':       true,\r\n             'chart.annotatable':            false,\r\n             'chart.annotate.color':         'black',\r\n             'chart.line':                   false,\r\n             'chart.line.linewidth':         1,\r\n             'chart.line.colors':            ['green', 'red'],\r\n             'chart.line.shadow.color':      'rgba(0,0,0,0)',\r\n             'chart.line.shadow.blur':       2,\r\n             'chart.line.shadow.offsetx':    3,\r\n             'chart.line.shadow.offsety':    3,\r\n             'chart.line.stepped':           false,\r\n             'chart.line.visible':           true,\r\n             'chart.noaxes':                 false,\r\n             'chart.noyaxis':                false,\r\n             'chart.key':                    null,\r\n             'chart.key.background':         'white',\r\n             'chart.key.position':           'graph',\r\n             'chart.key.halign':             'right',\r\n             'chart.key.shadow':             false,\r\n             'chart.key.shadow.color':       '#666',\r\n             'chart.key.shadow.blur':        3,\r\n             'chart.key.shadow.offsetx':     2,\r\n             'chart.key.shadow.offsety':     2,\r\n             'chart.key.position.gutter.boxed': false,\r\n             'chart.key.position.x':         null,\r\n             'chart.key.position.y':         null,\r\n             \r\n             'chart.key.interactive': false,\r\n             'chart.key.interactive.highlight.chart.fill': 'rgba(255,0,0,0.9)',\r\n             'chart.key.interactive.highlight.label': 'rgba(255,0,0,0.2)',\r\n             \r\n             'chart.key.color.shape':        'square',\r\n             'chart.key.rounded':            true,\r\n             'chart.key.linewidth':          1,\r\n             'chart.key.colors':             null,\r\n             'chart.axis.color':             'black',\r\n             'chart.zoom.factor':            1.5,\r\n             'chart.zoom.fade.in':           true,\r\n             'chart.zoom.fade.out':          true,\r\n             'chart.zoom.hdir':              'right',\r\n             'chart.zoom.vdir':              'down',\r\n             'chart.zoom.frames':            25,\r\n             'chart.zoom.delay':             16.666,\r\n             'chart.zoom.shadow':            true,\r\n             'chart.zoom.background':        true,\r\n             'chart.zoom.action':            'zoom',\r\n             'chart.boxplot.width':          1,\r\n             'chart.boxplot.capped':         true,\r\n             'chart.resizable':              false,\r\n             'chart.resize.handle.background': null,\r\n             'chart.xmin':                   0,\r\n             'chart.labels.specific.align':  'left',\r\n             'chart.xscale':                 false,\r\n             'chart.xscale.units.pre':       '',\r\n             'chart.xscale.units.post':      '',\r\n             'chart.xscale.numlabels':       10,\r\n             'chart.xscale.formatter':       null,\r\n             'chart.xscale.decimals':        0,\r\n             'chart.xscale.thousand':        ',',\r\n             'chart.xscale.point':           '.',\r\n             'chart.noendxtick':             false,\r\n             'chart.noendytick':             true,\r\n             'chart.events.mousemove':       null,\r\n             'chart.events.click':           null,\r\n             'chart.highlight.stroke':       'rgba(0,0,0,0)',\r\n             'chart.highlight.fill':         'rgba(255,255,255,0.7)'\r\n         }\r\n \r\n         // Handle multiple datasets being given as one argument\r\n         if (arguments[1][0] && arguments[1][0][0] && typeof(arguments[1][0][0]) == 'object') {\r\n             // Store the data set(s)\r\n             for (var i=0; i<arguments[1].length; ++i) {\r\n                 this.data[i] = arguments[1][i];\r\n             }\r\n \r\n         // Handle multiple data sets being supplied as seperate arguments\r\n         } else {\r\n             // Store the data set(s)\r\n             for (var i=1; i<arguments.length; ++i) {\r\n                 this.data[i - 1] = arguments[i];\r\n             }\r\n         }\r\n \r\n         /**\r\n         * This allows the data points to be given as dates as well as numbers. Formats supported by Date.parse() are accepted.\r\n         */\r\n         for (var i=0; i<this.data.length; ++i) {\r\n             for (var j=0; j<this.data[i].length; ++j) {\r\n                  if (typeof(this.data[i][j][0]) == 'string') {\r\n                     this.data[i][j][0] = Date.parse(this.data[i][j][0]);\r\n                  }\r\n             }\r\n         }\r\n \r\n \r\n         /**\r\n         * Now make the data_arr array - all the data as one big array\r\n         */\r\n         this.data_arr = [];\r\n \r\n         for (var i=0; i<this.data.length; ++i) {\r\n             for (var j=0; j<this.data[i].length; ++j) {\r\n                 this.data_arr.push(this.data[i][j]);\r\n             }\r\n         }\r\n \r\n         // Create the $ objects so that they can be used\r\n         for (var i=0; i<this.data_arr.length; ++i) {\r\n             this['$' + i] = {}\r\n         }\r\n \r\n \r\n         // Check for support\r\n         if (!this.canvas) {\r\n             alert('[SCATTER] No canvas support');\r\n             return;\r\n         }\r\n \r\n \r\n         /**\r\n         * Translate half a pixel for antialiasing purposes - but only if it hasn't beeen\r\n         * done already\r\n         */\r\n         if (!this.canvas.__rgraph_aa_translated__) {\r\n             this.context.translate(0.5,0.5);\r\n             this.canvas.__rgraph_aa_translated__ = true;\r\n         }\r\n \r\n \r\n \r\n \r\n         ///////////////////////////////// SHORT PROPERTIES /////////////////////////////////\r\n \r\n \r\n \r\n \r\n         var RG   = RGraph;\r\n         var ca   = this.canvas;\r\n         var co   = ca.getContext('2d');\r\n         var prop = this.properties;\r\n \r\n \r\n \r\n \r\n         //////////////////////////////////// METHODS ///////////////////////////////////////\r\n \r\n \r\n \r\n \r\n \r\n \r\n \r\n         /**\r\n         * A simple setter\r\n         * \r\n         * @param string name  The name of the property to set\r\n         * @param string value The value of the property\r\n         */\r\n         this.Set = function (name, value)\r\n         {\r\n             /**\r\n             * This should be done first - prepend the propertyy name with \"chart.\" if necessary\r\n             */\r\n             if (name.substr(0,6) != 'chart.') {\r\n                 name = 'chart.' + name;\r\n             }\r\n     \r\n             /**\r\n             * BC for chart.xticks\r\n             */\r\n             if (name == 'chart.xticks') {\r\n                 name == 'chart.numxticks';\r\n             }\r\n     \r\n             /**\r\n             * This is here because the key expects a name of \"chart.colors\"\r\n             */\r\n             if (name == 'chart.line.colors') {\r\n                 prop['chart.colors'] = value;\r\n             }\r\n             \r\n             /**\r\n             * Allow compatibility with older property names\r\n             */\r\n             if (name == 'chart.tooltip.hotspot') {\r\n                 name = 'chart.tooltips.hotspot';\r\n             }\r\n             \r\n             /**\r\n             * chart.yaxispos should be left or right\r\n             */\r\n             /**\r\n             if (name == 'chart.yaxispos' && value != 'left' && value != 'right') {\r\n                 alert(\"[SCATTER] chart.yaxispos should be left or right. You've set it to: '\" + value + \"' Changing it to left\");\r\n                 value = 'left';\r\n             }\r\n             */\r\n \r\n             // Changed by Paul Secular - added a 'middle' setting\r\n             if (name == 'chart.yaxispos' && value != 'left' && value != 'right' && value != 'middle') {\r\n                 alert(\"[SCATTER] chart.yaxispos should be left, right or middle. You've set it to: '\" + value + \"' Changing it to left\");\r\n                 value = 'left';\r\n             }\r\n \r\n             /**\r\n             * Check for xaxispos\r\n             */\r\n             if (name == 'chart.xaxispos' ) {\r\n                 if (value != 'bottom' && value != 'center') {\r\n                     alert('[SCATTER] (' + this.id + ') chart.xaxispos should be center or bottom. Tried to set it to: ' + value + ' Changing it to center');\r\n                     value = 'center';\r\n                 }\r\n             }\r\n     \r\n             prop[name.toLowerCase()] = value;\r\n     \r\n             return this;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * A simple getter\r\n         * \r\n         * @param string name  The name of the property to set\r\n         */\r\n         this.Get = function (name)\r\n         {\r\n             /**\r\n             * This should be done first - prepend the property name with \"chart.\" if necessary\r\n             */\r\n             if (name.substr(0,6) != 'chart.') {\r\n                 name = 'chart.' + name;\r\n             }\r\n     \r\n             return prop[name];\r\n         }\r\n \r\n \r\n \r\n \r\n \r\n         /**\r\n         * ADDED BY: Paul Secular; 29-03-2014\r\n         * New function to just draw the line chart data: PlotData()\r\n         * PlotData is basically based on the Draw method but has less functionality\r\n         */\r\n         this.PlotData = function (dataset) {\r\n \r\n             /**\r\n             * Fire the onbeforedraw event\r\n             */\r\n             RG.FireCustomEvent(this, 'onbeforedraw');\r\n \r\n             /**\r\n             * Parse the colors. This allows for simple gradient syntax\r\n             */\r\n             if (!this.colorsParsed) {\r\n                 this.parseColors();\r\n \r\n                 // Don't want to do this again\r\n                 this.colorsParsed = true;\r\n             }\r\n \r\n             /**\r\n             * This is new in May 2011 and facilitates indiviual gutter settings,\r\n             * eg chart.gutter.left\r\n             */\r\n             this.gutterLeft = prop['chart.gutter.left'];\r\n             this.gutterRight = prop['chart.gutter.right'];\r\n             this.gutterTop = prop['chart.gutter.top'];\r\n             this.gutterBottom = prop['chart.gutter.bottom'];\r\n \r\n             // Reset the coords array\r\n             this.coords = [];\r\n \r\n             //// Reset the maximum value\r\n             //this.max = 0;\r\n \r\n             //// Work out the maximum Y value\r\n             //if (prop['chart.ymax'] && prop['chart.ymax'] > 0) {\r\n             //    if (typeof (prop['chart.ymax']) == 'number') {\r\n \r\n             //        this.max = prop['chart.ymax'];\r\n             //        this.min = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n \r\n             //    } else {\r\n \r\n             //        var i = 0;\r\n             //        var j = 0;\r\n \r\n             //        for (i = 0; i < this.data.length; ++i) {\r\n             //            for (j = 0; j < this.data[i].length; ++j) {\r\n             //                if (this.data[i][j][1] != null) {\r\n             //                    this.max = Math.max(this.max, typeof (this.data[i][j][1]) == 'object' ? RG.array_max(this.data[i][j][1]) : Math.abs(this.data[i][j][1]));\r\n             //                }\r\n             //            }\r\n             //        }\r\n \r\n             //        this.min = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n             //    }\r\n             //}\r\n \r\n             //this.grapharea = ca.height - this.gutterTop - this.gutterBottom;\r\n \r\n \r\n             // Progressively Draw the chart\r\n \r\n             if (arguments.length === 0) {\r\n                 // no data set was specified, so plot points for ALL data sets\r\n                 i = 0;\r\n                 for (i = 0; i < this.data.length; ++i) {\r\n                     this.DrawMarks(i);\r\n                     this.DrawLine(i);\r\n \r\n                     // Turn the shadow off\r\n                     RG.NoShadow(this);\r\n                 }\r\n             }\r\n             else {\r\n                 // just plot the points belonging to the one specified data set\r\n                 this.DrawMarks(dataset);\r\n                 this.DrawLine(dataset);\r\n \r\n                 // Turn the shadow off\r\n                 RG.NoShadow(this);\r\n             };\r\n \r\n             /**\r\n             * This function enables resizing\r\n             */\r\n             if (prop['chart.resizable']) {\r\n                 RG.AllowResizing(this);\r\n             }\r\n \r\n             /**\r\n             * This installs the event listeners\r\n             */\r\n             RG.InstallEventListeners(this);\r\n \r\n             /**\r\n             * Fire the RGraph ondraw event\r\n             */\r\n             RG.FireCustomEvent(this, 'ondraw');\r\n \r\n             return this;\r\n         }\r\n \r\n \r\n \r\n         /**\r\n         * The function you call to draw the line chart\r\n         */\r\n         this.Draw = function ()\r\n         {\r\n             // MUST be the first thing done!\r\n             if (typeof(prop['chart.background.image']) == 'string') {\r\n                 RG.DrawBackgroundImage(this);\r\n             }\r\n     \r\n     \r\n             /**\r\n             * Fire the onbeforedraw event\r\n             */\r\n             RG.FireCustomEvent(this, 'onbeforedraw');\r\n     \r\n     \r\n             /**\r\n             * Parse the colors. This allows for simple gradient syntax\r\n             */\r\n             if (!this.colorsParsed) {\r\n                 this.parseColors();\r\n                 \r\n                 // Don't want to do this again\r\n                 this.colorsParsed = true;\r\n             }\r\n     \r\n             \r\n             /**\r\n             * This is new in May 2011 and facilitates indiviual gutter settings,\r\n             * eg chart.gutter.left\r\n             */\r\n             this.gutterLeft   = prop['chart.gutter.left'];\r\n             this.gutterRight  = prop['chart.gutter.right'];\r\n             this.gutterTop    = prop['chart.gutter.top'];\r\n             this.gutterBottom = prop['chart.gutter.bottom'];\r\n     \r\n             // Go through all the data points and see if a tooltip has been given\r\n             this.hasTooltips = false;\r\n             var overHotspot  = false;\r\n     \r\n             // Reset the coords array\r\n             this.coords = [];\r\n     \r\n             /**\r\n             * This facilitates the xmax, xmin and X values being dates\r\n             */\r\n             if (typeof(prop['chart.xmin']) == 'string') prop['chart.xmin'] = Date.parse(prop['chart.xmin']);\r\n             if (typeof(prop['chart.xmax']) == 'string') prop['chart.xmax'] = Date.parse(prop['chart.xmax']);\r\n     \r\n     \r\n             /**\r\n             * Look for tooltips and populate chart.tooltips\r\n             * \r\n             * NB 26/01/2011 Updated so that chart.tooltips is ALWAYS populated\r\n             */\r\n             if (!ISOLD) {\r\n                 this.Set('chart.tooltips', []);\r\n                 for (var i=0; i<this.data.length; ++i) {\r\n                     for (var j =0;j<this.data[i].length; ++j) {\r\n     \r\n                         if (this.data[i][j] && this.data[i][j][3]) {\r\n                             prop['chart.tooltips'].push(this.data[i][j][3]);\r\n                             this.hasTooltips = true;\r\n                         } else {\r\n                             prop['chart.tooltips'].push(null);\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n     \r\n             // Reset the maximum value\r\n             this.max = 0;\r\n     \r\n             // Work out the maximum Y value\r\n             //if (prop['chart.ymax'] && prop['chart.ymax'] > 0) {\r\n             if (typeof(prop['chart.ymax']) == 'number') {\r\n     \r\n                 this.max   = prop['chart.ymax'];\r\n                 this.min   = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n     \r\n     \r\n                 this.scale2 = RG.getScale2(this, {\r\n                                                     'max':this.max,\r\n                                                     'min':this.min,\r\n                                                     'strict':true,\r\n                                                     'scale.thousand':prop['chart.scale.thousand'],\r\n                                                     'scale.point':prop['chart.scale.point'],\r\n                                                     'scale.decimals':prop['chart.scale.decimals'],\r\n                                                     'ylabels.count':prop['chart.ylabels.count'],\r\n                                                     'scale.round':prop['chart.scale.round'],\r\n                                                     'units.pre': prop['chart.units.pre'],\r\n                                                     'units.post': prop['chart.units.post']\r\n                                                    });\r\n                 \r\n                 this.max = this.scale2.max;\r\n                 this.min = this.scale2.min;\r\n                 var decimals = prop['chart.scale.decimals'];\r\n     \r\n             } else {\r\n     \r\n                 var i = 0;\r\n                 var j = 0;\r\n     \r\n                 for (i=0; i<this.data.length; ++i) {\r\n                     for (j=0; j<this.data[i].length; ++j) {\r\n                         if (this.data[i][j][1] != null) {\r\n                             this.max = Math.max(this.max, typeof(this.data[i][j][1]) == 'object' ? RG.array_max(this.data[i][j][1]) : Math.abs(this.data[i][j][1]));\r\n                         }\r\n                     }\r\n                 }\r\n     \r\n                 this.min   = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n \r\n                 this.scale2 = RG.getScale2(this, {\r\n                                                     'max':this.max,\r\n                                                     'min':this.min,\r\n                                                     'scale.thousand':prop['chart.scale.thousand'],\r\n                                                     'scale.point':prop['chart.scale.point'],\r\n                                                     'scale.decimals':prop['chart.scale.decimals'],\r\n                                                     'ylabels.count':prop['chart.ylabels.count'],\r\n                                                     'scale.round':prop['chart.scale.round'],\r\n                                                     'units.pre': prop['chart.units.pre'],\r\n                                                     'units.post': prop['chart.units.post']\r\n                                                    });\r\n \r\n                 this.max = this.scale2.max;\r\n                 this.min = this.scale2.min;\r\n             }\r\n     \r\n             this.grapharea = ca.height - this.gutterTop - this.gutterBottom;\r\n     \r\n     \r\n     \r\n             // Progressively Draw the chart\r\n             RG.background.Draw(this);\r\n     \r\n             /**\r\n             * Draw any horizontal bars that have been specified\r\n             */\r\n             if (prop['chart.background.hbars'] && prop['chart.background.hbars'].length) {\r\n                 RG.DrawBars(this);\r\n             }\r\n     \r\n             /**\r\n             * Draw any vertical bars that have been specified\r\n             */\r\n             if (prop['chart.background.vbars'] && prop['chart.background.vbars'].length) {\r\n                 this.DrawVBars();\r\n             }\r\n     \r\n             if (!prop['chart.noaxes']) {\r\n                 this.DrawAxes();\r\n             }\r\n     \r\n             this.DrawLabels();\r\n     \r\n             i = 0;\r\n             for(i=0; i<this.data.length; ++i) {\r\n                 this.DrawMarks(i);\r\n     \r\n                 // Set the shadow\r\n                 co.shadowColor   = prop['chart.line.shadow.color'];\r\n                 co.shadowOffsetX = prop['chart.line.shadow.offsetx'];\r\n                 co.shadowOffsetY = prop['chart.line.shadow.offsety'];\r\n                 co.shadowBlur    = prop['chart.line.shadow.blur'];\r\n                 \r\n                 this.DrawLine(i);\r\n     \r\n                 // Turn the shadow off\r\n                 RG.NoShadow(this);\r\n             }\r\n     \r\n     \r\n             if (prop['chart.line']) {\r\n                 for (var i=0;i<this.data.length; ++i) {\r\n                     this.DrawMarks(i); // Call this again so the tickmarks appear over the line\r\n                 }\r\n             }\r\n     \r\n     \r\n     \r\n             /**\r\n             * Setup the context menu if required\r\n             */\r\n             if (prop['chart.contextmenu']) {\r\n                 RG.ShowContext(this);\r\n             }\r\n     \r\n             \r\n             \r\n             /**\r\n             * Draw the key if necessary\r\n             */\r\n             if (prop['chart.key'] && prop['chart.key'].length) {\r\n                 RG.DrawKey(this, prop['chart.key'], prop['chart.line.colors']);\r\n             }\r\n     \r\n     \r\n             /**\r\n             * Draw \" above\" labels if enabled\r\n             */\r\n             if (prop['chart.labels.above']) {\r\n                 this.DrawAboveLabels();\r\n             }\r\n     \r\n             /**\r\n             * Draw the \"in graph\" labels, using the member function, NOT the shared function in RGraph.common.core.js\r\n             */\r\n             this.DrawInGraphLabels(this);\r\n     \r\n             \r\n             /**\r\n             * This function enables resizing\r\n             */\r\n             if (prop['chart.resizable']) {\r\n                 RG.AllowResizing(this);\r\n             }\r\n     \r\n     \r\n             /**\r\n             * This installs the event listeners\r\n             */\r\n             RG.InstallEventListeners(this);\r\n             \r\n             /**\r\n             * Fire the RGraph ondraw event\r\n             */\r\n             RG.FireCustomEvent(this, 'ondraw');\r\n             \r\n             return this;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws the axes of the scatter graph\r\n         */\r\n         this.DrawAxes = function ()\r\n         {\r\n             var graphHeight = ca.height - this.gutterTop - this.gutterBottom;\r\n     \r\n             co.beginPath();\r\n             co.strokeStyle = prop['chart.axis.color'];\r\n             co.lineWidth   = (prop['chart.axis.linewidth'] || 1) + 0.001;\r\n \r\n             // Draw the Y axis\r\n             if (prop['chart.noyaxis'] == false) {\r\n                 if (prop['chart.yaxispos'] == 'left') {\r\n                     co.moveTo(this.gutterLeft, this.gutterTop);\r\n                     co.lineTo(this.gutterLeft, ca.height - this.gutterBottom);\r\n                 } else if (prop['chart.yaxispos'] == 'middle') { // Modified by Paul Secular - added 'middle' position option for y axis\r\n                     co.moveTo((ca.width - this.gutterRight - this.gutterLeft) / 2 + this.gutterLeft, this.gutterTop);\r\n                     co.lineTo((ca.width - this.gutterRight - this.gutterLeft) / 2 + this.gutterLeft, ca.height - this.gutterBottom);\r\n                 } else {\r\n                     co.moveTo(ca.width - this.gutterRight, this.gutterTop);\r\n                     co.lineTo(ca.width - this.gutterRight, ca.height - this.gutterBottom);\r\n                 }\r\n         }\r\n     \r\n     \r\n             // Draw the X axis\r\n             if (prop['chart.xaxis']) {\r\n                 if (prop['chart.xaxispos'] == 'center') {\r\n \r\n                     // modified by Paul Secular\r\n //                    co.moveTo(this.gutterLeft, Math.round(this.gutterTop + ((ca.height - this.gutterTop - this.gutterBottom) / 2)));\r\n //                    co.lineTo(ca.width - this.gutterRight, Math.round(this.gutterTop + ((ca.height - this.gutterTop - this.gutterBottom) / 2)));\r\n                     co.moveTo(this.gutterLeft - 1, Math.round(this.gutterTop + ((ca.height - this.gutterTop - this.gutterBottom) / 2)));\r\n                     co.lineTo(ca.width - this.gutterRight + 1, Math.round(this.gutterTop + ((ca.height - this.gutterTop - this.gutterBottom) / 2)));\r\n \r\n                 } else {\r\n \r\n                     // modified by Paul Secular\r\n //                    co.moveTo(this.gutterLeft, ca.height - this.gutterBottom);\r\n //                    co.lineTo(ca.width - this.gutterRight, ca.height - this.gutterBottom);\r\n                     co.moveTo(this.gutterLeft - 1, ca.height - this.gutterBottom);\r\n                     co.lineTo(ca.width - this.gutterRight + 1, ca.height - this.gutterBottom);\r\n \r\n                 }\r\n             }\r\n     \r\n             // Draw the Y tickmarks\r\n             if (prop['chart.noyaxis'] == false) {\r\n                 var numyticks = prop['chart.numyticks'];\r\n         \r\n                 //for (y=this.gutterTop; y < ca.height - this.gutterBottom + (prop['chart.xaxispos'] == 'center' ? 1 : 0) ; y+=(graphHeight / numyticks)) {\r\n                 for (i=0; i<numyticks; ++i) {\r\n         \r\n                     var y = ((ca.height - this.gutterTop - this.gutterBottom) / numyticks) * i;\r\n                         y = y + this.gutterTop;\r\n                     \r\n                     if (prop['chart.xaxispos'] == 'center' && i == (numyticks / 2)) {\r\n                         continue;\r\n                     }\r\n         \r\n                     if (prop['chart.yaxispos'] == 'left') {\r\n                         co.moveTo(this.gutterLeft, Math.round(y));\r\n                         co.lineTo(this.gutterLeft - 3, Math.round(y));\r\n                     } else if (prop['chart.yaxispos'] == 'middle') { // Modified by Paul Secular - added 'middle' position option for y axis\r\n                         co.moveTo((ca.width - this.gutterRight - this.gutterLeft) / 2 + this.gutterLeft, Math.round(y));\r\n                         co.lineTo((ca.width - this.gutterRight - this.gutterLeft) / 2 + this.gutterLeft - 3, Math.round(y));\r\n                     } else {\r\n                         co.moveTo(ca.width - this.gutterRight +3, Math.round(y));\r\n                         co.lineTo(ca.width - this.gutterRight, Math.round(y));\r\n                     }\r\n                 }\r\n                 \r\n                 /**\r\n                 * Draw the end Y tickmark if the X axis is in the centre\r\n                 */\r\n                 if (prop['chart.numyticks'] > 0) {\r\n                     if (prop['chart.xaxispos'] == 'center' && prop['chart.yaxispos'] == 'left') {\r\n                         co.moveTo(this.gutterLeft, Math.round(ca.height - this.gutterBottom));\r\n                         co.lineTo(this.gutterLeft - 3, Math.round(ca.height - this.gutterBottom));\r\n                     } else if (prop['chart.xaxispos'] == 'center') {\r\n                         co.moveTo(ca.width - this.gutterRight + 3, Math.round(ca.height - this.gutterBottom));\r\n                         co.lineTo(ca.width - this.gutterRight, Math.round(ca.height - this.gutterBottom));\r\n                     }\r\n                 }\r\n     \r\n                 /**\r\n                 * Draw an extra tick if the X axis isn't being shown\r\n                 */\r\n                 /**\r\n                 if (prop['chart.xaxis'] == false && prop['chart.yaxispos'] == 'left') {\r\n                     co.moveTo(this.gutterLeft, Math.round(ca.height - this.gutterBottom));\r\n                     co.lineTo(this.gutterLeft - 3, Math.round(ca.height - this.gutterBottom));\r\n                 } else if (prop['chart.xaxis'] == false && prop['chart.yaxispos'] == 'right') {\r\n                     co.moveTo(ca.width - this.gutterRight, Math.round(ca.height - this.gutterBottom));\r\n                     co.lineTo(ca.width - this.gutterRight + 3, Math.round(ca.height - this.gutterBottom));\r\n                 }\r\n                 */\r\n                 // Modified by Paul Secular - always draw the extra tick\r\n                 if (prop['chart.yaxispos'] == 'left') {\r\n                     co.moveTo(this.gutterLeft, Math.round(ca.height - this.gutterBottom));\r\n                     co.lineTo(this.gutterLeft - 3, Math.round(ca.height - this.gutterBottom));\r\n                 } else if (prop['chart.yaxispos'] == 'right') {\r\n                     co.moveTo(ca.width - this.gutterRight, Math.round(ca.height - this.gutterBottom));\r\n                     co.lineTo(ca.width - this.gutterRight + 3, Math.round(ca.height - this.gutterBottom));\r\n                 }\r\n             }\r\n     \r\n     \r\n             /**\r\n             * Draw the X tickmarks\r\n             */\r\n             if (prop['chart.numxticks'] > 0 && prop['chart.xaxis']) {\r\n                 \r\n                 var x  = 0;\r\n                 var y  =  (prop['chart.xaxispos'] == 'center') ? this.gutterTop + (this.grapharea / 2) : (ca.height - this.gutterBottom);\r\n                 this.xTickGap = (prop['chart.labels'] && prop['chart.labels'].length) ? ((ca.width - this.gutterLeft - this.gutterRight ) / prop['chart.labels'].length) : (ca.width - this.gutterLeft - this.gutterRight) / 10;\r\n     \r\n                 /**\r\n                 * This allows the number of X tickmarks to be specified\r\n                 */\r\n                 if (typeof(prop['chart.numxticks']) == 'number') {\r\n                     this.xTickGap = (ca.width - this.gutterLeft - this.gutterRight) / (prop['chart.numxticks']);\r\n                 }\r\n     \r\n     \r\n                 for (x=(this.gutterLeft); // Modified by Paul Secular - Always draw the leftmost tick\r\n                      x <= (ca.width - this.gutterRight + 1) ;  // Modified by Paul Secular - Always draw the rightmost tick\r\n \r\n                 x += this.xTickGap) {\r\n \r\n \r\n \r\n     \r\n                     if (prop['chart.yaxispos'] == 'left' && prop['chart.noendxtick'] == true && x == (ca.width - this.gutterRight) ) {\r\n                         continue;\r\n                     } else if (prop['chart.yaxispos'] == 'right' && prop['chart.noendxtick'] == true && x == this.gutterLeft) {\r\n                         continue;\r\n                     }\r\n     \r\n                     co.moveTo(Math.round(x), y - (prop['chart.xaxispos'] == 'center' ? 3 : 0));\r\n                     co.lineTo(Math.round(x), y + 3);\r\n                 }\r\n \r\n \r\n             }\r\n     \r\n             co.stroke();\r\n             \r\n             /**\r\n             * Reset the linewidth back to one\r\n             */\r\n             co.lineWidth = 1;\r\n         }\r\n     \r\n     \r\n     \r\n         /**\r\n         * Draws the labels on the scatter graph\r\n         */\r\n         this.DrawLabels = function ()\r\n         {\r\n             co.fillStyle   = prop['chart.text.color'];\r\n             var font       = prop['chart.text.font'];\r\n             var xMin       = prop['chart.xmin'];\r\n             var xMax       = prop['chart.xmax'];\r\n             var yMax       = this.scale2.max;\r\n             var yMin       = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n             var text_size  = prop['chart.text.size'];\r\n             var units_pre  = prop['chart.units.pre'];\r\n             var units_post = prop['chart.units.post'];\r\n             var numYLabels = prop['chart.ylabels.count'];\r\n             var invert     = prop['chart.ylabels.invert'];\r\n             var inside     = prop['chart.ylabels.inside'];\r\n             var context    = co;\r\n             var canvas     = ca;\r\n             var boxed      = false;\r\n     \r\n             this.halfTextHeight = text_size / 2;\r\n     \r\n     \r\n             this.halfGraphHeight = (ca.height - this.gutterTop - this.gutterBottom) / 2;\r\n     \r\n             /**\r\n             * Draw the Y yaxis labels, be it at the top or center\r\n             */\r\n             if (prop['chart.ylabels']) {\r\n     \r\n                 // Modified by Paul Secular - added 'middle' option\r\n //                var xPos  = prop['chart.yaxispos'] == 'left' ? this.gutterLeft - 5 : ca.width - this.gutterRight + 5;\r\n                 if (prop['chart.yaxispos'] == 'left') {\r\n                     var xPos = this.gutterLeft - 5;\r\n                 } else if (prop['chart.yaxispos'] == 'middle') {\r\n                     var xPos = ((ca.width - this.gutterLeft - this.gutterRight) / 2) + this.gutterLeft - 5;\r\n                 } else {\r\n                     var xPos = ca.width - this.gutterRight + 5;\r\n                 };\r\n \r\n \r\n                 var align = prop['chart.yaxispos'] == 'right' ? 'left' : 'right';\r\n                 \r\n                 /**\r\n                 * Now change the two things above if chart.ylabels.inside is specified\r\n                 */\r\n                 if (inside) {\r\n                     if (prop['chart.yaxispos'] == 'left') {\r\n                         xPos  = prop['chart.gutter.left'] + 5;\r\n                         align = 'left';\r\n                         boxed = true;\r\n                     } else {\r\n                         xPos  = ca.width - prop['chart.gutter.right'] - 5;\r\n                         align = 'right';\r\n                         boxed = true;\r\n                     }\r\n                 }\r\n     \r\n                 if (prop['chart.xaxispos'] == 'center') {\r\n     \r\n     \r\n                     /**\r\n                     * Specific Y labels\r\n                     */\r\n                     if (typeof(prop['chart.ylabels.specific']) == 'object' && prop['chart.ylabels.specific'] != null && prop['chart.ylabels.specific'].length) {\r\n     \r\n                         var labels = prop['chart.ylabels.specific'];\r\n                         \r\n                         if (prop['chart.ymin'] > 0) {\r\n                             labels = [];\r\n                             for (var i=0; i<(prop['chart.ylabels.specific'].length - 1); ++i) {\r\n                                 labels.push(prop['chart.ylabels.specific'][i]);\r\n                             }\r\n                         }\r\n     \r\n                         for (var i=0; i<labels.length; ++i) {\r\n                             var y = this.gutterTop + (i * (this.grapharea / (labels.length * 2) ) );\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size':text_size,\r\n                                                 'x':xPos,\r\n                                                 'y':y,\r\n                                                 'text':labels[i],\r\n                                                 'valign':'center',\r\n                                                 'halign':align,\r\n                                                 'bounding':boxed,\r\n                                                 'tag': 'labels.specific'\r\n                                                });\r\n                         }\r\n                         \r\n                         var reversed_labels = RG.array_reverse(labels);\r\n                     \r\n                         for (var i=0; i<reversed_labels.length; ++i) {\r\n                             var y = this.gutterTop + (this.grapharea / 2) + ((i+1) * (this.grapharea / (labels.length * 2) ) );\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size':text_size,\r\n                                                 'x':xPos,\r\n                                                 'y':y,\r\n                                                 'text':reversed_labels[i],\r\n                                                 'valign':'center',\r\n                                                 'halign':align,\r\n                                                 'bounding':boxed,\r\n                                                 'tag': 'labels.specific'\r\n                                                });\r\n                         }\r\n                         \r\n                         /**\r\n                         * Draw the center label if chart.ymin is specified\r\n                         */\r\n                         if (prop['chart.ymin'] != 0) {\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size':text_size,\r\n                                                 'x':xPos,\r\n                                                 'y':(this.grapharea / 2) + this.gutterTop,\r\n                                                 'text':prop['chart.ylabels.specific'][prop['chart.ylabels.specific'].length - 1],\r\n                                                 'valign':'center',\r\n                                                 'halign':align,\r\n                                                 'bounding':boxed,\r\n                                                 'tag': 'labels.specific'\r\n                                                });\r\n                         }\r\n                     }\r\n     \r\n     \r\n                     if (!prop['chart.ylabels.specific'] && typeof(numYLabels) == 'number') {\r\n                         \r\n                         /**\r\n                         * Draw the top half \r\n                         */\r\n                         for (var i=0; i<this.scale2.labels.length; ++i) {\r\n     \r\n                             //var value = ((this.max - this.min)/ numYLabels) * (i+1);\r\n                             //value  = (invert ? this.max - value : value);\r\n                             //if (!invert) value += this.min;\r\n                             //value = value.toFixed(prop['chart.scale.decimals']);\r\n                         \r\n                             if (!invert) { \r\n                                 RG.Text2(this, {'font':font,\r\n                                                     'size': text_size,\r\n                                                     'x': xPos,\r\n                                                     'y': this.gutterTop + this.halfGraphHeight - (((i + 1)/numYLabels) * this.halfGraphHeight),\r\n                                                     'valign': 'center',\r\n                                                     'halign':align,\r\n                                                     'bounding': boxed,\r\n                                                     'boundingFill': 'white',\r\n                                                     'text': this.scale2.labels[i],\r\n                                                     'tag': 'scale'\r\n                                                    });\r\n                             } else {\r\n                                 RG.Text2(this, {'font':font,\r\n                                                     'size': text_size,\r\n                                                     'x': xPos,\r\n                                                     'y': this.gutterTop + this.halfGraphHeight - ((i/numYLabels) * this.halfGraphHeight),\r\n                                                     'valign': 'center',\r\n                                                     'halign':align,\r\n                                                     'bounding': boxed,\r\n                                                     'boundingFill': 'white',\r\n                                                     'text': this.scale2.labels[this.scale2.labels.length - (i + 1)],\r\n                                                     'tag': 'scale'\r\n                                                    });\r\n                             }\r\n                         }\r\n     \r\n                         /**\r\n                         * Draw the bottom half\r\n                         */\r\n                         for (var i=0; i<this.scale2.labels.length; ++i) {\r\n                         \r\n                             //var value = (((this.max - this.min)/ numYLabels) * i) + this.min;\r\n                             //    value = (invert ? value : this.max - (value - this.min)).toFixed(prop['chart.scale.decimals']);\r\n     \r\n                             if (!invert) {\r\n                                 RG.Text2(this, {'font':font,\r\n                                                     'size': text_size,\r\n                                                     'x': xPos,\r\n                                                     'y': this.gutterTop + this.halfGraphHeight + this.halfGraphHeight - ((i/numYLabels) * this.halfGraphHeight),\r\n                                                     'valign': 'center',\r\n                                                     'halign':align,\r\n                                                     'bounding': boxed,\r\n                                                     'boundingFill': 'white',\r\n                                                     'text': '-' + this.scale2.labels[this.scale2.labels.length - (i+1)],\r\n                                                     'tag': 'scale'\r\n                                                    });\r\n                             } else {\r\n                             \r\n                                 // This ensures that the center label isn't drawn twice\r\n                                 if (i == (this.scale2.labels.length - 1)&& invert) {\r\n                                     continue;\r\n                                 }\r\n     \r\n                                 RG.Text2(this, {'font':font,\r\n                                                     'size': text_size,\r\n                                                     'x': xPos,\r\n                                                     'y': this.gutterTop + this.halfGraphHeight + this.halfGraphHeight - (((i + 1)/numYLabels) * this.halfGraphHeight),\r\n                                                     'valign': 'center',\r\n                                                     'halign':align,\r\n                                                     'bounding': boxed,\r\n                                                     'boundingFill': 'white',\r\n                                                     'text': '-' + this.scale2.labels[i],\r\n                                                     'tag': 'scale'\r\n                                                    });\r\n                             }\r\n                         }\r\n     \r\n     \r\n     \r\n                         \r\n                         // If ymin is specified draw that\r\n                         if (!invert && yMin > 0) {\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size': text_size,\r\n                                                 'x': xPos,\r\n                                                 'y': this.gutterTop + this.halfGraphHeight,\r\n                                                 'valign': 'center',\r\n                                                 'halign':align,\r\n                                                 'bounding': boxed,\r\n                                                 'boundingFill': 'white',\r\n                                                 'text': RG.number_format(this, yMin.toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                 'tag': 'scale'\r\n                                                });\r\n                         }\r\n                         \r\n                         if (invert) {\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size': text_size,\r\n                                                 'x': xPos,\r\n                                                 'y': this.gutterTop,\r\n                                                 'valign': 'center',\r\n                                                 'halign':align,\r\n                                                 'bounding': boxed,\r\n                                                 'boundingFill': 'white',\r\n                                                 'text': RG.number_format(this, yMin.toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                 'tag': 'scale'\r\n                                                });\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size': text_size,\r\n                                                 'x': xPos,\r\n                                                 'y': this.gutterTop + (this.halfGraphHeight * 2),\r\n                                                 'valign': 'center',\r\n                                                 'halign':align,\r\n                                                 'bounding': boxed,\r\n                                                 'boundingFill': 'white',\r\n                                                 'text': RG.number_format(this, yMin.toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                 'tag': 'scale'\r\n                                                });\r\n                         }\r\n                     }\r\n         \r\n                 // X axis at the bottom\r\n                 } else {\r\n                     \r\n                     // Modified by Paul Secular - added 'middle' option\r\n                     if (prop['chart.yaxispos'] == 'left') {\r\n                         var xPos = this.gutterLeft - 5;\r\n                     } else if (prop['chart.yaxispos'] == 'middle') {\r\n                         var xPos = ((ca.width - this.gutterLeft - this.gutterRight) / 2) + this.gutterLeft - 5;\r\n                     } else {\r\n                         var xPos = ca.width - this.gutterRight + 5;\r\n                     };\r\n \r\n                     var align = prop['chart.yaxispos'] == 'right' ? 'left' : 'right';\r\n     \r\n                     if (inside) {\r\n                         if (prop['chart.yaxispos'] == 'left') {\r\n                             xPos  = prop['chart.gutter.left'] + 5;\r\n                             align = 'left';\r\n                             boxed = true;\r\n                         } else {\r\n                             xPos  = ca.width - obj.gutterRight - 5;\r\n                             align = 'right';\r\n                             boxed = true;\r\n                         }\r\n                     }\r\n     \r\n                     /**\r\n                     * Specific Y labels\r\n                     */\r\n                     if (typeof(prop['chart.ylabels.specific']) == 'object' && prop['chart.ylabels.specific']) {\r\n     \r\n                         var labels = prop['chart.ylabels.specific'];\r\n                         \r\n                         // Lose the last label\r\n                         if (prop['chart.ymin'] > 9999) {\r\n                             labels = [];\r\n                             for (var i=0; i<(prop['chart.ylabels.specific'].length - 1); ++i) {\r\n                                 labels.push(prop['chart.ylabels.specific'][i]);\r\n                             }\r\n                         }\r\n     \r\n                         for (var i=0; i<labels.length; ++i) {\r\n                             \r\n                             var y = this.gutterTop + (i * (this.grapharea / (labels.length - 1)) );\r\n     \r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size':text_size,\r\n                                                 'x':xPos,\r\n                                                 'y':y,\r\n                                                 'text':labels[i],\r\n                                                 'halign':align,\r\n                                                 'valign':'center',\r\n                                                 'bounding':boxed,\r\n                                                 'tag': 'scale'\r\n                                                });\r\n                         }\r\n                     \r\n                     /**\r\n                     * X axis at the bottom\r\n                     */\r\n                     } else {\r\n     \r\n                         if (typeof(numYLabels) == 'number') {\r\n     \r\n                             if (invert) {\r\n     \r\n                                 for (var i=0; i<numYLabels; ++i) {\r\n \r\n                                     //var value = ((this.max - this.min)/ numYLabels) * i;\r\n                                     //    value = value.toFixed(prop['chart.scale.decimals']);\r\n                                     var interval = (ca.height - this.gutterTop - this.gutterBottom) / numYLabels;\r\n                                 \r\n                                     RG.Text2(this, {'font':font,\r\n                                                         'size': text_size,\r\n                                                         'x': xPos,\r\n                                                         'y': this.gutterTop + ((i+1) * interval),\r\n                                                         'valign': 'center',\r\n                                                         'halign':align,\r\n                                                         'bounding': boxed,\r\n                                                         'boundingFill': 'white',\r\n                                                         'text': this.scale2.labels[i],\r\n                                                         'tag': 'scale'\r\n                                                        });\r\n                                 }\r\n     \r\n         \r\n                                 // No X axis being shown and there's no ymin. If ymin IS set its added further down\r\n                                 if (!prop['chart.xaxis'] && !prop['chart.ymin']) {\r\n                                     RG.Text2(this, {'font':font,\r\n                                                         'size': text_size,\r\n                                                         'x': xPos,\r\n                                                         'y': this.gutterTop,\r\n                                                         'valign': 'center',\r\n                                                         'halign':align,\r\n                                                         'bounding': boxed,\r\n                                                         'boundingFill': 'white',\r\n                                                         'text': RG.number_format(this, (this.min).toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                         'tag': 'scale'\r\n                                                        });\r\n                                 }\r\n         \r\n                             } else {\r\n                                 for (var i=0; i<this.scale2.labels.length; ++i) {\r\n \r\n                                     //var value = ((this.max - this.min)/ numYLabels) * (i+1);\r\n                                     //    value  = (invert ? this.max - value : value);\r\n                                     //    if (!invert) value += this.min;\r\n                                     //    value = value.toFixed(prop['chart.scale.decimals']);\r\n                                 \r\n                                     RG.Text2(this, {'font':font,\r\n                                                         'size': text_size,\r\n                                                         'x': xPos,\r\n                                                         'y': this.gutterTop + this.grapharea - (((i + 1)/this.scale2.labels.length) * this.grapharea),\r\n                                                         'valign': 'center',\r\n                                                         'halign':align,\r\n                                                         'bounding': boxed,\r\n                                                         'boundingFill': 'white',\r\n                                                         'text': this.scale2.labels[i],\r\n                                                         'tag': 'scale'\r\n                                                        });\r\n                                 }\r\n     \r\n                                 // Modified by Paul Secular - ALWAYS draw the zero label on the y axis\r\n //                                if (!prop['chart.xaxis'] && prop['chart.ymin'] == 0) {\r\n                                 if (prop['chart.ymin'] == 0) {\r\n                                 //\r\n \r\n                                 RG.Text2(this, {'font':font,\r\n                                                         'size': text_size,\r\n                                                         'x': xPos,\r\n                                                         'y': ca.height - this.gutterBottom,\r\n                                                         'valign': 'center',\r\n                                                         'halign':align,\r\n                                                         'bounding': boxed,\r\n                                                         'boundingFill': 'white',\r\n                                                         'text': RG.number_format(this, (0).toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                         'tag': 'scale'\r\n                                                        });\r\n                                 }\r\n                             }\r\n                         }\r\n                         \r\n                         if (prop['chart.ymin'] && !invert) {\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size': text_size,\r\n                                                 'x': xPos,\r\n                                                 'y': ca.height - this.gutterBottom,\r\n                                                 'valign': 'center',\r\n                                                 'halign':align,\r\n                                                 'bounding': boxed,\r\n                                                 'boundingFill': 'white',\r\n                                                 'text': RG.number_format(this, prop['chart.ymin'].toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                 'tag': 'scale'\r\n                                                });\r\n                         } else if (invert) {\r\n                             RG.Text2(this, {'font':font,\r\n                                                 'size': text_size,\r\n                                                 'x': xPos,\r\n                                                 'y': this.gutterTop,\r\n                                                 'valign': 'center',\r\n                                                 'halign':align,\r\n                                                 'bounding': boxed,\r\n                                                 'boundingFill': 'white',\r\n                                                 'text': RG.number_format(this, prop['chart.ymin'].toFixed(prop['chart.scale.decimals']), units_pre, units_post),\r\n                                                 'tag': 'scale'\r\n                                                });\r\n     \r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n     \r\n     \r\n     \r\n     \r\n             /**\r\n             * Draw an X scale\r\n             */\r\n             if (prop['chart.xscale']) {\r\n     \r\n                 var numXLabels   = prop['chart.xscale.numlabels'];\r\n                 var y            = ca.height - this.gutterBottom + 5 + (text_size / 2);\r\n                 var units_pre_x  = prop['chart.xscale.units.pre'];\r\n                 var units_post_x = prop['chart.xscale.units.post'];\r\n                 var decimals     = prop['chart.xscale.decimals'];\r\n                 var point        = prop['chart.xscale.point'];\r\n                 var thousand     = prop['chart.xscale.thousand'];\r\n \r\n     \r\n                 if (!prop['chart.xmax']) {\r\n                     \r\n                     var xmax = 0;\r\n                     var xmin = prop['chart.xmin'];\r\n                     \r\n                     for (var ds=0; ds<this.data.length; ++ds) {\r\n                         for (var point=0; point<this.data[ds].length; ++point) {\r\n                             xmax = Math.max(xmax, this.data[ds][point][0]);\r\n                         }\r\n                     }\r\n                 } else {\r\n                     xmax = prop['chart.xmax'];\r\n                     xmin = prop['chart.xmin']\r\n                 }\r\n \r\n                 this.xscale2 = RG.getScale2(this, {'max':xmax,\r\n                                                    'min': xmin,\r\n                                                        'scale.decimals': decimals,\r\n                                                        'scale.point': point,\r\n                                                        'scale.thousand': thousand,\r\n                                                        'units.pre': units_pre_x,\r\n                                                        'units.post': units_post_x,\r\n                                                        'ylabels.count': numXLabels,\r\n                                                        'strict': true\r\n                                                       });\r\n     \r\n                 this.Set('chart.xmax', this.xscale2.max);\r\n                 var interval = (ca.width - this.gutterLeft - this.gutterRight) / this.xscale2.labels.length;\r\n     \r\n                 for (var i=0; i<this.xscale2.labels.length; ++i) {\r\n                 \r\n                     var num  = ( (prop['chart.xmax'] - prop['chart.xmin']) * ((i+1) / numXLabels)) + (xmin || 0);\r\n \r\n                     var x    = this.gutterLeft + ((i+1) * interval);\r\n     \r\n                     if (typeof(prop['chart.xscale.formatter']) == 'function') {\r\n                         var text = String(prop['chart.xscale.formatter'](this, num));\r\n \r\n                     } else {\r\n     \r\n                         var text = this.xscale2.labels[i]\r\n                     }\r\n     \r\n                     RG.Text2(this, {'font':font,\r\n                                         'size': text_size,\r\n                                         'x': x,\r\n                                         'y': y + 3, // modified by Paul Secular - add more spacing between axis and labels\r\n                                         'valign': 'center',\r\n                                         'halign':'center',\r\n                                         'text':text,\r\n                                         'tag': 'xscale'\r\n                                        });\r\n                 }\r\n                 \r\n                 // Modified by Paul Secular - ALWAYS draw the left most X label\r\n                 RG.Text2(this, {'font':font,\r\n                                     'size': text_size,\r\n                                     'x': this.gutterLeft,\r\n                                     'y': y + 3, // modified by Paul Secular - add more spacing between axis and labels\r\n                                     'valign': 'center',\r\n                                     'halign':'center',\r\n                                     'text':String(prop['chart.xmin']),\r\n                                     'tag': 'xscale'\r\n                                     });\r\n     \r\n             /**\r\n             * Draw X labels\r\n             */\r\n             } else {\r\n     \r\n                 // Put the text on the X axis\r\n                 var graphArea = ca.width - this.gutterLeft - this.gutterRight;\r\n                 var xInterval = graphArea / prop['chart.labels'].length;\r\n                 var xPos      = this.gutterLeft;\r\n                 var yPos      = (ca.height - this.gutterBottom) + 3;\r\n                 var labels    = prop['chart.labels'];\r\n     \r\n                 /**\r\n                 * Text angle\r\n                 */\r\n                 var angle  = 0;\r\n                 var valign = 'top';\r\n                 var halign = 'center';\r\n         \r\n                 if (prop['chart.text.angle'] > 0) {\r\n                     angle  = -1 * prop['chart.text.angle'];\r\n                     valign = 'center';\r\n                     halign = 'right';\r\n                     yPos += 10;\r\n                 }\r\n     \r\n                 for (i=0; i<labels.length; ++i) {\r\n     \r\n                     if (typeof(labels[i]) == 'object') {\r\n     \r\n                         if (prop['chart.labels.specific.align'] == 'center') {\r\n                             var rightEdge = 0;\r\n         \r\n                             if (labels[i+1] && labels[i+1][1]) {\r\n                                 rightEdge = labels[i+1][1];\r\n                             } else {\r\n                                 rightEdge = prop['chart.xmax'];\r\n                             }\r\n     \r\n                             var offset = (this.getXCoord(rightEdge) - this.getXCoord(labels[i][1])) / 2;\r\n     \r\n                         } else {\r\n                             var offset = 5;\r\n                         }\r\n                     \r\n     \r\n                         RG.Text2(this, {'font':font,\r\n                                             'size': prop['chart.text.size'],\r\n                                             'x': this.getXCoord(labels[i][1]) + offset,\r\n                                             'y': yPos,\r\n                                             'valign': valign,\r\n                                             'halign':angle != 0 ? 'right' : (prop['chart.labels.specific.align'] == 'center' ? 'center' : 'left'),\r\n                                             'text':String(labels[i][0]),\r\n                                             'angle':angle,\r\n                                             'marker':false,\r\n                                             'tag': 'labels.specific'\r\n                                            });\r\n                         \r\n                         /**\r\n                         * Draw the gray indicator line\r\n                         */\r\n                         co.beginPath();\r\n                             co.strokeStyle = '#bbb';\r\n                             co.moveTo(Math.round(this.gutterLeft + (graphArea * ((labels[i][1] - xMin)/ (prop['chart.xmax'] - xMin)))), ca.height - this.gutterBottom);\r\n                             co.lineTo(Math.round(this.gutterLeft + (graphArea * ((labels[i][1] - xMin)/ (prop['chart.xmax'] - xMin)))), ca.height - this.gutterBottom + 20);\r\n                         co.stroke();\r\n                     \r\n                     } else {\r\n     \r\n                         RG.Text2(this, {'font':font,\r\n                                             'size': prop['chart.text.size'],\r\n                                             'x': xPos + (xInterval / 2),\r\n                                             'y': yPos,\r\n                                             'valign': valign,\r\n                                             'halign':halign,\r\n                                             'text':String(labels[i]),\r\n                                             'angle':angle,\r\n                                             'tag': 'labels'\r\n                                            });\r\n                     }\r\n                     \r\n                     // Do this for the next time around\r\n                     xPos += xInterval;\r\n                 }\r\n         \r\n                 /**\r\n                 * Draw the final indicator line\r\n                 */\r\n                 if (typeof(labels[0]) == 'object') {\r\n                     co.beginPath();\r\n                         co.strokeStyle = '#bbb';\r\n                         co.moveTo(this.gutterLeft + graphArea, ca.height - this.gutterBottom);\r\n                         co.lineTo(this.gutterLeft + graphArea, ca.height - this.gutterBottom + 20);\r\n                     co.stroke();\r\n                 }\r\n             }\r\n         }\r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n         /**\r\n         * Draws the actual scatter graph marks\r\n         * \r\n         * @param i integer The dataset index\r\n         */\r\n         this.DrawMarks = function (i)\r\n         {\r\n             /**\r\n             *  Reset the coords array\r\n             */\r\n             this.coords[i] = [];\r\n     \r\n             /**\r\n             * Plot the values\r\n             */\r\n             var xmax          = prop['chart.xmax'];\r\n             var default_color = prop['chart.defaultcolor'];\r\n     \r\n             for (var j=0; j<this.data[i].length; ++j) {\r\n                 /**\r\n                 * This is here because tooltips are optional\r\n                 */\r\n                 var data_point = this.data[i];\r\n     \r\n                 var xCoord = data_point[j][0];\r\n                 var yCoord = data_point[j][1];\r\n                 var color  = data_point[j][2] ? data_point[j][2] : default_color;\r\n                 var tooltip = (data_point[j] && data_point[j][3]) ? data_point[j][3] : null;\r\n     \r\n                 \r\n                 this.DrawMark(\r\n                               i,\r\n                               xCoord,\r\n                               yCoord,\r\n                               xmax,\r\n                               this.scale2.max,\r\n                               color,\r\n                               tooltip,\r\n                               this.coords[i],\r\n                               data_point,\r\n                               j\r\n                              );\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws a single scatter mark\r\n         */\r\n         this.DrawMark = function (data_set_index, x, y, xMax, yMax, color, tooltip, coords, data, data_index)\r\n         {\r\n             var tickmarks = prop['chart.tickmarks'];\r\n             var tickSize  = prop['chart.ticksize'];\r\n             var xMin      = prop['chart.xmin'];\r\n             var x         = ((x - xMin) / (xMax - xMin)) * (ca.width - this.gutterLeft - this.gutterRight);\r\n             var originalX = x;\r\n             var originalY = y;\r\n     \r\n             /**\r\n             * This allows chart.tickmarks to be an array\r\n             */\r\n             if (tickmarks && typeof(tickmarks) == 'object') {\r\n                 tickmarks = tickmarks[data_set_index];\r\n             }\r\n     \r\n     \r\n             /**\r\n             * This allows chart.ticksize to be an array\r\n             */\r\n             if (typeof(tickSize) == 'object') {\r\n                 var tickSize     = tickSize[data_set_index];\r\n                 var halfTickSize = tickSize / 2;\r\n             } else {\r\n                 var halfTickSize = tickSize / 2;\r\n             }\r\n     \r\n     \r\n             /**\r\n             * This bit is for boxplots only\r\n             */\r\n             if (   y\r\n                 && typeof(y) == 'object'\r\n                 && typeof(y[0]) == 'number'\r\n                 && typeof(y[1]) == 'number'\r\n                 && typeof(y[2]) == 'number'\r\n                 && typeof(y[3]) == 'number'\r\n                 && typeof(y[4]) == 'number'\r\n                ) {\r\n     \r\n                 //var yMin = prop['chart.ymin'] ? prop['chart.ymin'] : 0;\r\n                 this.Set('chart.boxplot', true);\r\n                 //this.graphheight = ca.height - this.gutterTop - this.gutterBottom;\r\n                 \r\n                 //if (prop['chart.xaxispos'] == 'center') {\r\n                 //    this.graphheight /= 2;\r\n                 //}\r\n     \r\n     \r\n                 var y0 = this.getYCoord(y[0]);//(this.graphheight) - ((y[4] - yMin) / (yMax - yMin)) * (this.graphheight);\r\n                 var y1 = this.getYCoord(y[1]);//(this.graphheight) - ((y[3] - yMin) / (yMax - yMin)) * (this.graphheight);\r\n                 var y2 = this.getYCoord(y[2]);//(this.graphheight) - ((y[2] - yMin) / (yMax - yMin)) * (this.graphheight);\r\n                 var y3 = this.getYCoord(y[3]);//(this.graphheight) - ((y[1] - yMin) / (yMax - yMin)) * (this.graphheight);\r\n                 var y4 = this.getYCoord(y[4]);//(this.graphheight) - ((y[0] - yMin) / (yMax - yMin)) * (this.graphheight);\r\n     \r\n     \r\n                 var col1  = y[5];\r\n                 var col2  = y[6];\r\n     \r\n                 var boxWidth = typeof(y[7]) == 'number' ? y[7] : prop['chart.boxplot.width'];\r\n     \r\n                 //var y = this.graphheight - y2;\r\n     \r\n             } else {\r\n     \r\n                 /**\r\n                 * The new way of getting the Y coord. This function (should) handle everything\r\n                 */\r\n                 var yCoord = this.getYCoord(y);\r\n             }\r\n     \r\n             //if (prop['chart.xaxispos'] == 'center'] {\r\n             //    y /= 2;\r\n             //    y += this.halfGraphHeight;\r\n             //    \r\n             //    if (prop['chart.ylabels.invert']) {\r\n             //        p(y)\r\n             //    }\r\n             //}\r\n     \r\n             /**\r\n             * Account for the X axis being at the centre\r\n             */\r\n             // This is so that points are on the graph, and not the gutter\r\n             x += this.gutterLeft;\r\n             //y = ca.height - this.gutterBottom - y;\r\n     \r\n     \r\n     \r\n     \r\n             co.beginPath();\r\n             \r\n             // Color\r\n             co.strokeStyle = color;\r\n     \r\n     \r\n     \r\n             /**\r\n             * Boxplots\r\n             */\r\n             if (prop['chart.boxplot']) {\r\n     \r\n                 // boxWidth is now a scale value, so convert it to a pixel vlue\r\n                 boxWidth = (boxWidth / prop['chart.xmax']) * (ca.width -this.gutterLeft - this.gutterRight);\r\n     \r\n                 var halfBoxWidth = boxWidth / 2;\r\n     \r\n                 if (prop['chart.line.visible']) {\r\n                     co.beginPath();\r\n                         co.strokeRect(x - halfBoxWidth, y1, boxWidth, y3 - y1);\r\n             \r\n                         // Draw the upper coloured box if a value is specified\r\n                         if (col1) {\r\n                             co.fillStyle = col1;\r\n                             co.fillRect(x - halfBoxWidth, y1, boxWidth, y2 - y1);\r\n                         }\r\n             \r\n                         // Draw the lower coloured box if a value is specified\r\n                         if (col2) {\r\n                             co.fillStyle = col2;\r\n                             co.fillRect(x - halfBoxWidth, y2, boxWidth, y3 - y2);\r\n                         }\r\n                     co.stroke();\r\n         \r\n                     // Now draw the whiskers\r\n                     co.beginPath();\r\n                     if (prop['chart.boxplot.capped']) {\r\n                         co.moveTo(x - halfBoxWidth, Math.round(y0));\r\n                         co.lineTo(x + halfBoxWidth, Math.round(y0));\r\n                     }\r\n         \r\n                     co.moveTo(Math.round(x), y0);\r\n                     co.lineTo(Math.round(x), y1);\r\n         \r\n                     if (prop['chart.boxplot.capped']) {\r\n                         co.moveTo(x - halfBoxWidth, Math.round(y4));\r\n                         co.lineTo(x + halfBoxWidth, Math.round(y4));\r\n                     }\r\n         \r\n                     co.moveTo(Math.round(x), y4);\r\n                     co.lineTo(Math.round(x), y3);\r\n         \r\n                     co.stroke();\r\n                 }\r\n             }\r\n     \r\n     \r\n             /**\r\n             * Draw the tickmark, but not for boxplots\r\n             */\r\n             if (prop['chart.line.visible'] && typeof(y) == 'number' && !y0 && !y1 && !y2 && !y3 && !y4) {\r\n     \r\n                 if (tickmarks == 'circle') {\r\n                     co.arc(x, yCoord, halfTickSize, 0, 6.28, 0);\r\n                     co.fillStyle = color;\r\n                     co.fill();\r\n                 \r\n                 } else if (tickmarks == 'plus') {\r\n     \r\n                     co.moveTo(x, yCoord - halfTickSize);\r\n                     co.lineTo(x, yCoord + halfTickSize);\r\n                     co.moveTo(x - halfTickSize, yCoord);\r\n                     co.lineTo(x + halfTickSize, yCoord);\r\n                     co.stroke();\r\n                 \r\n                 } else if (tickmarks == 'square') {\r\n                     co.strokeStyle = color;\r\n                     co.fillStyle = color;\r\n                     co.fillRect(\r\n                                           x - halfTickSize,\r\n                                           yCoord - halfTickSize,\r\n                                           tickSize,\r\n                                           tickSize\r\n                                          );\r\n                     //co.fill();\r\n     \r\n                 } else if (tickmarks == 'cross') {\r\n     \r\n                     co.moveTo(x - halfTickSize, yCoord - halfTickSize);\r\n                     co.lineTo(x + halfTickSize, yCoord + halfTickSize);\r\n                     co.moveTo(x + halfTickSize, yCoord - halfTickSize);\r\n                     co.lineTo(x - halfTickSize, yCoord + halfTickSize);\r\n                     \r\n                     co.stroke();\r\n                 \r\n                 /**\r\n                 * Diamond shape tickmarks\r\n                 */\r\n                 } else if (tickmarks == 'diamond') {\r\n                     co.fillStyle = co.strokeStyle;\r\n     \r\n                     co.moveTo(x, yCoord - halfTickSize);\r\n                     co.lineTo(x + halfTickSize, yCoord);\r\n                     co.lineTo(x, yCoord + halfTickSize);\r\n                     co.lineTo(x - halfTickSize, yCoord);\r\n                     co.lineTo(x, yCoord - halfTickSize);\r\n     \r\n                     co.fill();\r\n                     co.stroke();\r\n     \r\n                 /**\r\n                 * Custom tickmark style\r\n                 */\r\n                 } else if (typeof(tickmarks) == 'function') {\r\n     \r\n                     var graphWidth  = ca.width - this.gutterLeft - this.gutterRight\r\n                     var graphheight = ca.height - this.gutterTop - this.gutterBottom;\r\n                     var xVal = ((x - this.gutterLeft) / graphWidth) * xMax;\r\n                     var yVal = ((graphheight - (yCoord - this.gutterTop)) / graphheight) * yMax;\r\n     \r\n                     tickmarks(this, data, x, yCoord, xVal, yVal, xMax, yMax, color, data_set_index, data_index)\r\n     \r\n                 /**\r\n                 * No tickmarks\r\n                 */\r\n                 } else if (tickmarks == null) {\r\n         \r\n                 /**\r\n                 * Unknown tickmark type\r\n                 */\r\n                 } else {\r\n                     alert('[SCATTER] (' + this.id + ') Unknown tickmark style: ' + tickmarks );\r\n                 }\r\n             }\r\n     \r\n             /**\r\n             * Add the tickmark to the coords array\r\n             */\r\n             if (   prop['chart.boxplot']\r\n                 && typeof(y0) == 'number'\r\n                 && typeof(y1) == 'number'\r\n                 && typeof(y2) == 'number'\r\n                 && typeof(y3) == 'number'\r\n                 && typeof(y4) == 'number') {\r\n     \r\n                 x      = [x - halfBoxWidth, x + halfBoxWidth];\r\n                 yCoord = [y0, y1, y2, y3, y4];\r\n             }\r\n     \r\n             coords.push([x, yCoord, tooltip]);\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws an optional line connecting the tick marks.\r\n         * \r\n         * @param i The index of the dataset to use\r\n         */\r\n         this.DrawLine = function (i)\r\n         {\r\n             if (typeof(prop['chart.line.visible']) == 'boolean' && prop['chart.line.visible'] == false) {\r\n                 return;\r\n             }\r\n     \r\n             if (prop['chart.line'] && this.coords[i].length >= 2) {\r\n     \r\n                 co.lineCap     = 'round';\r\n                 co.lineJoin    = 'round';\r\n                 co.lineWidth   = this.GetLineWidth(i);// i is the index of the set of coordinates\r\n                 co.strokeStyle = prop['chart.line.colors'][i];\r\n                 \r\n                 co.beginPath();\r\n                     \r\n                     var len = this.coords[i].length;\r\n                     \r\n                     var prevY = null;\r\n                     var currY = null;\r\n \r\n                     var stepped = prop['chart.line.stepped']; // Paul Secular; 28/04/14. This belongs here, not inside loop\r\n \r\n                     for (var j=0; j<this.coords[i].length; ++j) {\r\n                     \r\n         \r\n                         var xPos = this.coords[i][j][0];\r\n                         var yPos = this.coords[i][j][1];\r\n                         \r\n                         if (j > 0) prevY = this.coords[i][j - 1][1];\r\n                         currY = yPos;\r\n     \r\n                         if (j == 0 || RG.is_null(prevY) || RG.is_null(currY)) {\r\n                             co.moveTo(xPos, yPos);\r\n                         } else {\r\n                         \r\n //                            var stepped = prop['chart.line.stepped']; - Paul Secular; 28/04/14. Should NOT be here. Belongs at top\r\n         \r\n                             // Stepped?\r\n                             if ((typeof (stepped) == 'boolean' && stepped)\r\n                                 || (typeof(stepped) == 'object' && stepped[i])\r\n                                ) {\r\n                                 co.lineTo(this.coords[i][j][0], this.coords[i][j - 1][1]);\r\n                             }\r\n         \r\n                             co.lineTo(xPos, yPos);\r\n                         }\r\n                     }\r\n                 co.stroke();\r\n             }\r\n             \r\n             /**\r\n             * Set the linewidth back to 1\r\n             */\r\n             co.lineWidth = 1;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Returns the linewidth\r\n         * \r\n         * @param number i The index of the \"line\" (/set of coordinates)\r\n         */\r\n         this.GetLineWidth = function (i)\r\n         {\r\n             var linewidth = prop['chart.line.linewidth'];\r\n             \r\n             if (typeof(linewidth) == 'number') {\r\n                 return linewidth;\r\n             \r\n             } else if (typeof(linewidth) == 'object') {\r\n                 if (linewidth[i]) {\r\n                     return linewidth[i];\r\n                 } else {\r\n                     return linewidth[0];\r\n                 }\r\n     \r\n                 alert('[SCATTER] Error! chart.linewidth should be a single number or an array of one or more numbers');\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws vertical bars. Line chart doesn't use a horizontal scale, hence this function\r\n         * is not common\r\n         */\r\n         this.DrawVBars = function ()\r\n         {\r\n             var vbars = prop['chart.background.vbars'];\r\n             var graphWidth = ca.width - this.gutterLeft - this.gutterRight;\r\n             \r\n             if (vbars) {\r\n             \r\n                 var xmax = prop['chart.xmax'];\r\n     \r\n                 for (var i=0; i<vbars.length; ++i) {\r\n                     var startX = ((vbars[i][0] / xmax) * graphWidth) + this.gutterLeft;\r\n                     var width  = (vbars[i][1] / xmax) * graphWidth;\r\n     \r\n                     co.beginPath();\r\n                         co.fillStyle = vbars[i][2];\r\n                         co.fillRect(startX, this.gutterTop, width, (ca.height - this.gutterTop - this.gutterBottom));\r\n                     co.fill();\r\n                 }\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws in-graph labels.\r\n         * \r\n         * @param object obj The graph object\r\n         */\r\n         this.DrawInGraphLabels = function (obj)\r\n         {\r\n             var labels  = obj.Get('chart.labels.ingraph');\r\n             var labels_processed = [];\r\n     \r\n             // Defaults\r\n             var fgcolor   = 'black';\r\n             var bgcolor   = 'white';\r\n             var direction = 1;\r\n     \r\n             if (!labels) {\r\n                 return;\r\n             }\r\n     \r\n             /**\r\n             * Preprocess the labels array. Numbers are expanded\r\n             */\r\n             for (var i=0; i<labels.length; ++i) {\r\n                 if (typeof(labels[i]) == 'number') {\r\n                     for (var j=0; j<labels[i]; ++j) {\r\n                         labels_processed.push(null);\r\n                     }\r\n                 } else if (typeof(labels[i]) == 'string' || typeof(labels[i]) == 'object') {\r\n                     labels_processed.push(labels[i]);\r\n                 \r\n                 } else {\r\n                     labels_processed.push('');\r\n                 }\r\n             }\r\n     \r\n             /**\r\n             * Turn off any shadow\r\n             */\r\n             RG.NoShadow(obj);\r\n     \r\n             if (labels_processed && labels_processed.length > 0) {\r\n     \r\n                 var i=0;\r\n     \r\n                 for (var set=0; set<obj.coords.length; ++set) {\r\n                     for (var point = 0; point<obj.coords[set].length; ++point) {\r\n                         if (labels_processed[i]) {\r\n                             var x = obj.coords[set][point][0];\r\n                             var y = obj.coords[set][point][1];\r\n                             var length = typeof(labels_processed[i][4]) == 'number' ? labels_processed[i][4] : 25;\r\n                                 \r\n                             var text_x = x;\r\n                             var text_y = y - 5 - length;\r\n     \r\n                             co.moveTo(x, y - 5);\r\n                             co.lineTo(x, y - 5 - length);\r\n                             \r\n                             co.stroke();\r\n                             co.beginPath();\r\n                             \r\n                             // This draws the arrow\r\n                             co.moveTo(x, y - 5);\r\n                             co.lineTo(x - 3, y - 10);\r\n                             co.lineTo(x + 3, y - 10);\r\n                             co.closePath();\r\n     \r\n     \r\n                             co.beginPath();\r\n                                 // Fore ground color\r\n                                 co.fillStyle = (typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][1]) == 'string') ? labels_processed[i][1] : 'black';\r\n                                 RG.Text2(this, {\r\n                                                     'font':obj.Get('chart.text.font'),                            \r\n                                                     'size':obj.Get('chart.text.size'),\r\n                                                     'x':text_x,\r\n                                                     'y':text_y,\r\n                                                     'text':(typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][0]) == 'string') ? labels_processed[i][0] : labels_processed[i],\r\n                                                     'valign':'bottom',\r\n                                                     'halign':'center',\r\n                                                     'bounding':true,\r\n                                                     'boundingFill':(typeof(labels_processed[i]) == 'object' && typeof(labels_processed[i][2]) == 'string') ? labels_processed[i][2] : 'white',\r\n                                                     'tag': 'labels.ingraph'\r\n                                                     });\r\n                             co.fill();\r\n                         }\r\n                         \r\n                         i++;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This function makes it much easier to get the (if any) point that is currently being hovered over.\r\n         * \r\n         * @param object e The event object\r\n         */\r\n         this.getShape =\r\n         this.getPoint = function (e)\r\n         {\r\n             var mouseXY     = RG.getMouseXY(e);\r\n             var mouseX      = mouseXY[0];\r\n             var mouseY      = mouseXY[1];\r\n             var overHotspot = false;\r\n             var offset      = prop['chart.tooltips.hotspot']; // This is how far the hotspot extends\r\n     \r\n             for (var set=0; set<this.coords.length; ++set) {\r\n     \r\n                 for (var i=0; i<this.coords[set].length; ++i) {\r\n     \r\n                     var x = this.coords[set][i][0];\r\n                     var y = this.coords[set][i][1];\r\n                     var tooltip = this.data[set][i][3];\r\n     \r\n                     if (typeof(y) == 'number') {\r\n                         if (mouseX <= (x + offset) &&\r\n                             mouseX >= (x - offset) &&\r\n                             mouseY <= (y + offset) &&\r\n                             mouseY >= (y - offset)) {\r\n     \r\n                             var tooltip = RG.parseTooltipText(this.data[set][i][3], 0);\r\n                             var index_adjusted = i;\r\n     \r\n                             for (var ds=(set-1); ds >=0; --ds) {\r\n                                 index_adjusted += this.data[ds].length;\r\n                             }\r\n     \r\n                             return {\r\n                                     0: this, 1: x, 2: y, 3: set, 4: i, 5: this.data[set][i][3],\r\n                                     'object': this, 'x': x, 'y': y, 'dataset': set, 'index': i, 'tooltip': tooltip, 'index_adjusted': index_adjusted\r\n                                    };\r\n                         }\r\n                     } else if (RG.is_null(y)) {\r\n                         // Nothing to see here\r\n     \r\n                     } else {\r\n     \r\n                         var mark = this.data[set][i];\r\n     \r\n                         /**\r\n                         * Determine the width\r\n                         */\r\n                         var width = prop['chart.boxplot.width'];\r\n                         \r\n                         if (typeof(mark[1][7]) == 'number') {\r\n                             width = mark[1][7];\r\n                         }\r\n     \r\n                         if (   typeof(x) == 'object'\r\n                             && mouseX > x[0]\r\n                             && mouseX < x[1]\r\n                             && mouseY < y[1]\r\n                             && mouseY > y[3]\r\n                             ) {\r\n     \r\n                             var tooltip = RG.parseTooltipText(this.data[set][i][3], 0);\r\n     \r\n                             return {\r\n                                     0: this, 1: x[0], 2: x[1] - x[0], 3: y[1], 4: y[3] - y[1], 5: set, 6: i, 7: this.data[set][i][3],\r\n                                     'object': this, 'x': x[0], 'y': y[1], 'width': x[1] - x[0], 'height': y[3] - y[1], 'dataset': set, 'index': i, 'tooltip': tooltip\r\n                                    };\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Draws the above line labels\r\n         */\r\n         this.DrawAboveLabels = function ()\r\n         {\r\n             var size       = prop['chart.labels.above.size'];\r\n             var font       = prop['chart.text.font'];\r\n             var units_pre  = prop['chart.units.pre'];\r\n             var units_post = prop['chart.units.post'];\r\n     \r\n     \r\n             for (var set=0; set<this.coords.length; ++set) {\r\n                 for (var point=0; point<this.coords[set].length; ++point) {\r\n                     \r\n                     var x_val = this.data[set][point][0];\r\n                     var y_val = this.data[set][point][1];\r\n                     \r\n                     if (!RG.is_null(y_val)) {\r\n                         \r\n                         // Use the top most value from a box plot\r\n                         if (RG.is_array(y_val)) {\r\n                             var max = 0;\r\n                             for (var i=0; i<y_val; ++i) {\r\n                                 max = Math.max(max, y_val[i]);\r\n                             }\r\n                             \r\n                             y_val = max;\r\n                         }\r\n                         \r\n                         var x_pos = this.coords[set][point][0];\r\n                         var y_pos = this.coords[set][point][1];\r\n     \r\n                         RG.Text2(this, {\r\n                                             'font':font,\r\n                                             'size':size,\r\n                                             'x':x_pos,\r\n                                             'y':y_pos - 5 - size,\r\n                                             'text':x_val.toFixed(prop['chart.labels.above.decimals']) + ', ' + y_val.toFixed(prop['chart.labels.above.decimals']),\r\n                                             'valign':'center',\r\n                                             'halign':'center',\r\n                                             'bounding':true,\r\n                                             'boundingFill':'rgba(255, 255, 255, 0.7)',\r\n                                             'tag': 'labels.above'\r\n                                             });\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * When you click on the chart, this method can return the Y value at that point. It works for any point on the\r\n         * chart (that is inside the gutters) - not just points within the Bars.\r\n         * \r\n         * @param object e The event object\r\n         */\r\n         this.getYValue =\r\n         this.getValue = function (arg)\r\n         {\r\n             if (arg.length == 2) {\r\n                 var mouseX = arg[0];\r\n                 var mouseY = arg[1];\r\n             } else {\r\n                 var mouseCoords = RG.getMouseXY(arg);\r\n                 var mouseX      = mouseCoords[0];\r\n                 var mouseY      = mouseCoords[1];\r\n             }\r\n             \r\n             var obj = this;\r\n     \r\n             if (   mouseY < this.gutterTop\r\n                 || mouseY > (ca.height - this.gutterBottom)\r\n                 || mouseX < this.gutterLeft\r\n                 || mouseX > (ca.width - this.gutterRight)\r\n                ) {\r\n                 return null;\r\n             }\r\n             \r\n             if (prop['chart.xaxispos'] == 'center') {\r\n                 var value = (((this.grapharea / 2) - (mouseY - this.gutterTop)) / this.grapharea) * (this.max - this.min)\r\n                 value *= 2;\r\n                 if (value >= 0) {\r\n                     value += this.min\r\n                 } else {\r\n                     value -= this.min\r\n                 }\r\n             } else {\r\n                 var value = ((this.grapharea - (mouseY - this.gutterTop)) / this.grapharea) * (this.max - this.min)\r\n                 value += this.min;\r\n             }\r\n     \r\n             return value;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * When you click on the chart, this method can return the X value at that point.\r\n         * \r\n         * @param mixed  arg This can either be an event object or the X coordinate\r\n         * @param number     If specifying the X coord as the first arg then this should be the Y coord\r\n         */\r\n         this.getXValue = function (arg)\r\n         {\r\n             if (arg.length == 2) {\r\n                 var mouseX = arg[0];\r\n                 var mouseY = arg[1];\r\n             } else {\r\n                 var mouseXY = RG.getMouseXY(arg);\r\n                 var mouseX  = mouseXY[0];\r\n                 var mouseY  = mouseXY[1];\r\n             }\r\n             var obj = this;\r\n             \r\n             if (   mouseY < this.gutterTop\r\n                 || mouseY > (ca.height - this.gutterBottom)\r\n                 || mouseX < this.gutterLeft\r\n                 || mouseX > (ca.width - this.gutterRight)\r\n                ) {\r\n                 return null;\r\n             }\r\n     \r\n             var width = (ca.width - this.gutterLeft - this.gutterRight);\r\n             var value = ((mouseX - this.gutterLeft) / width) * (prop['chart.xmax'] - prop['chart.xmin'])\r\n             value += prop['chart.xmin'];\r\n \r\n             return value;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Each object type has its own Highlight() function which highlights the appropriate shape\r\n         * \r\n         * @param object shape The shape to highlight\r\n         */\r\n         this.Highlight = function (shape)\r\n         {\r\n             // Boxplot highlight\r\n             if (shape['height']) {\r\n                 RG.Highlight.Rect(this, shape);\r\n     \r\n             // Point highlight\r\n             } else {\r\n                 RG.Highlight.Point(this, shape);\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * The getObjectByXY() worker method. Don't call this call:\r\n         * \r\n         * RG.ObjectRegistry.getObjectByXY(e)\r\n         * \r\n         * @param object e The event object\r\n         */\r\n         this.getObjectByXY = function (e)\r\n         {\r\n             var mouseXY = RG.getMouseXY(e);\r\n     \r\n             if (\r\n                    mouseXY[0] > (this.gutterLeft - 3)\r\n                 && mouseXY[0] < (ca.width - this.gutterRight + 3)\r\n                 && mouseXY[1] > (this.gutterTop - 3)\r\n                 && mouseXY[1] < ((ca.height - this.gutterBottom) + 3)\r\n                 ) {\r\n     \r\n                 return this;\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This function can be used when the canvas is clicked on (or similar - depending on the event)\r\n         * to retrieve the relevant X coordinate for a particular value.\r\n         * \r\n         * @param int value The value to get the X coordinate for\r\n         */\r\n         this.getXCoord = function (value)\r\n         {\r\n             if (typeof(value) != 'number') {\r\n                 return null;\r\n             }\r\n             \r\n             var xmin = prop['chart.xmin'];\r\n             var xmax = prop['chart.xmax'];\r\n             var x;\r\n     \r\n             if (value < xmin) return null;\r\n             if (value > xmax) return null;\r\n             \r\n             var gutterRight = this.gutterRight;\r\n             var gutterLeft  = this.gutterLeft;\r\n     \r\n             if (prop['chart.yaxispos'] == 'right') {\r\n                 x = ((value - xmin) / (xmax - xmin)) * (ca.width - gutterLeft - gutterRight);\r\n                 x = (ca.width - gutterRight - x);\r\n             } else {\r\n                 x = ((value - xmin) / (xmax - xmin)) * (ca.width - gutterLeft - gutterRight);\r\n                 x = x + gutterLeft;\r\n             }\r\n             \r\n             return x;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This function positions a tooltip when it is displayed\r\n         * \r\n         * @param obj object    The chart object\r\n         * @param int x         The X coordinate specified for the tooltip\r\n         * @param int y         The Y coordinate specified for the tooltip\r\n         * @param objec tooltip The tooltips DIV element\r\n         */\r\n         this.positionTooltip = function (obj, x, y, tooltip, idx)\r\n         {\r\n             var shape      = RG.Registry.Get('chart.tooltip.shape');\r\n             var dataset    = shape['dataset'];\r\n             var index      = shape['index'];\r\n             var coordX     = obj.coords[dataset][index][0]\r\n             var coordY     = obj.coords[dataset][index][1]\r\n             var canvasXY   = RG.getCanvasXY(obj.canvas);\r\n             var gutterLeft = obj.gutterLeft;\r\n             var gutterTop  = obj.gutterTop;\r\n             var width      = tooltip.offsetWidth;\r\n             var height     = tooltip.offsetHeight;\r\n             tooltip.style.left = 0;\r\n             tooltip.style.top  = 0;\r\n     \r\n             // Is the coord a boxplot\r\n             var isBoxplot = typeof(coordY) == 'object' ? true : false;\r\n     \r\n             // Show any overflow (ie the arrow)\r\n             tooltip.style.overflow = '';\r\n     \r\n             // Create the arrow\r\n             var img = new Image();\r\n                 img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC';\r\n                 img.style.position = 'absolute';\r\n                 img.id = '__rgraph_tooltip_pointer__';\r\n                 img.style.top = (tooltip.offsetHeight - 2) + 'px';\r\n             tooltip.appendChild(img);\r\n             \r\n             // Reposition the tooltip if at the edges:\r\n             \r\n             // LEFT edge //////////////////////////////////////////////////////////////////\r\n     \r\n             if ((canvasXY[0] + (coordX[0] || coordX) - (width / 2)) < 10) {\r\n                 \r\n                 if (isBoxplot) {\r\n                     tooltip.style.left = canvasXY[0] + coordX[0] + ((coordX[1] - coordX[0]) / 2) - (width * 0.1) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY[2] - height - 5 + 'px';\r\n                     img.style.left = ((width * 0.1) - 8.5) + 'px';\r\n     \r\n                 } else {\r\n                     tooltip.style.left = (canvasXY[0] + coordX - (width * 0.1)) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY - height - 9 + 'px';\r\n                     img.style.left = ((width * 0.1) - 8.5) + 'px';\r\n                 }\r\n     \r\n             // RIGHT edge //////////////////////////////////////////////////////////////////\r\n             \r\n             } else if ((canvasXY[0] + (coordX[0] || coordX) + (width / 2)) > document.body.offsetWidth) {\r\n                 if (isBoxplot) {\r\n                     tooltip.style.left = canvasXY[0] + coordX[0] + ((coordX[1] - coordX[0]) / 2) - (width * 0.9) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY[2] - height - 5 + 'px';\r\n                     img.style.left = ((width * 0.9) - 8.5) + 'px';\r\n             \r\n                 } else {\r\n                     tooltip.style.left = (canvasXY[0] + coordX - (width * 0.9)) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY - height - 9 + 'px';\r\n                     img.style.left = ((width * 0.9) - 8.5) + 'px';\r\n                 }\r\n     \r\n             // Default positioning - CENTERED //////////////////////////////////////////////////////////////////\r\n     \r\n             } else {\r\n                 if (isBoxplot) {\r\n                     tooltip.style.left = canvasXY[0] + coordX[0] + ((coordX[1] - coordX[0]) / 2) - (width / 2) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY[2] - height - 5 + 'px';\r\n                     img.style.left = ((width * 0.5) - 8.5) + 'px';\r\n     \r\n                 } else {\r\n                     tooltip.style.left = (canvasXY[0] + coordX - (width * 0.5)) + 'px';\r\n                     tooltip.style.top  = canvasXY[1] + coordY - height - 9 + 'px';\r\n                     img.style.left = ((width * 0.5) - 8.5) + 'px';\r\n                 }\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Returns the applicable Y COORDINATE when given a Y value\r\n         * \r\n         * @param int value The value to use\r\n         * @return int The appropriate Y coordinate\r\n         */\r\n         this.getYCoord =\r\n         this.getYCoordFromValue = function (value)\r\n         {\r\n             if (typeof(value) != 'number') {\r\n                 return null;\r\n             }\r\n     \r\n             var invert          = prop['chart.ylabels.invert'];\r\n             var xaxispos        = prop['chart.xaxispos'];\r\n             var graphHeight     = ca.height - this.gutterTop - this.gutterBottom;\r\n             var halfGraphHeight = graphHeight / 2;\r\n             var ymax            = this.max;\r\n             var ymin            = prop['chart.ymin'];\r\n             var coord           = 0;\r\n     \r\n             if (value > ymax || (prop['chart.xaxispos'] == 'bottom' && value < ymin) || (prop['chart.xaxispos'] == 'center' && ((value > 0 && value < ymin) || (value < 0 && value > (-1 * ymin))))) {\r\n                 return null;\r\n             }\r\n     \r\n             /**\r\n             * This calculates scale values if the X axis is in the center\r\n             */\r\n             if (xaxispos == 'center') {\r\n     \r\n                 coord = ((Math.abs(value) - ymin) / (ymax - ymin)) * halfGraphHeight;\r\n     \r\n                 if (invert) {\r\n                     coord = halfGraphHeight - coord;\r\n                 }\r\n                 \r\n                 if (value < 0) {\r\n                     coord += this.gutterTop;\r\n                     coord += halfGraphHeight;\r\n                 } else {\r\n                     coord  = halfGraphHeight - coord;\r\n                     coord += this.gutterTop;\r\n                 }\r\n     \r\n             /**\r\n             * And this calculates scale values when the X axis is at the bottom\r\n             */\r\n             } else {\r\n     \r\n                 coord = ((value - ymin) / (ymax - ymin)) * graphHeight;\r\n                 \r\n                 if (invert) {\r\n                     coord = graphHeight - coord;\r\n                 }\r\n     \r\n                 // Invert the coordinate because the Y scale starts at the top\r\n                 coord = graphHeight - coord;\r\n     \r\n                 // And add on the top gutter\r\n                 coord = this.gutterTop + coord;\r\n             }\r\n     \r\n             return coord;\r\n         }\r\n \r\n \r\n \r\n \r\n \r\n \r\n         /**\r\n         * A helper class that helps facilitatesbubble charts\r\n         */\r\n         RG.Scatter.Bubble = function (scatter, min, max, width, data)\r\n         {\r\n             this.scatter = scatter;\r\n             this.min     = min;\r\n             this.max     = max;\r\n             this.width   = width;\r\n             this.data    = data;\r\n \r\n \r\n \r\n             /**\r\n             * A setter for the Bubble chart class - it just acts as a \"passthru\" to the Scatter object\r\n             */\r\n             this.Set = function (name, value)\r\n             {\r\n                 this.scatter.Set(name, value);\r\n                 \r\n                 return this;\r\n             }\r\n \r\n \r\n \r\n             /**\r\n             * A getter for the Bubble chart class - it just acts as a \"passthru\" to the Scatter object\r\n             */\r\n             this.Get = function (name)\r\n             {\r\n                 this.scatter.Get(name);\r\n             }\r\n \r\n \r\n \r\n \r\n             /**\r\n             * Tha Bubble chart draw function\r\n             */\r\n             this.Draw = function ()\r\n             {\r\n                 var bubble_min       = this.min;\r\n                 var bubble_max       = this.max;\r\n                 var bubble_data      = this.data;\r\n                 var bubble_max_width = this.width;\r\n         \r\n                 // This custom ondraw event listener draws the bubbles\r\n                 this.scatter.ondraw = function (obj)\r\n                 {\r\n                     // Loop through all the points (first dataset)\r\n                     for (var i=0; i<obj.coords[0].length; ++i) {\r\n                         \r\n                         bubble_data[i] = Math.max(bubble_data[i], bubble_min);\r\n                         bubble_data[i] = Math.min(bubble_data[i], bubble_max);\r\n         \r\n                         var r = ((bubble_data[i] - bubble_min) / (bubble_max - bubble_min) ) * bubble_max_width;\r\n         \r\n                         co.beginPath();\r\n                         co.fillStyle = RG.RadialGradient(obj,\r\n                                                               obj.coords[0][i][0] + 5,\r\n                                                               obj.coords[0][i][1] - 5,\r\n                                                               0,\r\n                                                               obj.coords[0][i][0] + 5,\r\n                                                               obj.coords[0][i][1] - 5,\r\n                                                               50,\r\n                                                               'white',\r\n                                                               obj.data[0][i][2] ? obj.data[0][i][2] : obj.properties['chart.defaultcolor']\r\n                                                              );\r\n                         co.arc(obj.coords[0][i][0], obj.coords[0][i][1], r, 0, TWOPI, false);\r\n                         co.fill();\r\n                     }\r\n                 }\r\n                 \r\n                 return this.scatter.Draw();\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n \r\n         /**\r\n         * This allows for easy specification of gradients\r\n         */\r\n         this.parseColors = function ()\r\n         {\r\n             // Colors\r\n             var data = this.data;\r\n             if (data) {\r\n                 for (var dataset=0; dataset<data.length; ++dataset) {\r\n                     for (var i=0; i<this.data[dataset].length; ++i) {\r\n                         \r\n                         // Boxplots\r\n                         if (typeof(this.data[dataset][i][1]) == 'object' && this.data[dataset][i][1]) {\r\n     \r\n                             if (typeof(this.data[dataset][i][1][5]) == 'string') this.data[dataset][i][1][5] = this.parseSingleColorForGradient(this.data[dataset][i][1][5]);\r\n                             if (typeof(this.data[dataset][i][1][6]) == 'string') this.data[dataset][i][1][6] = this.parseSingleColorForGradient(this.data[dataset][i][1][6]);\r\n                         }\r\n                         \r\n                         this.data[dataset][i][2] = this.parseSingleColorForGradient(this.data[dataset][i][2]);\r\n                     }\r\n                 }\r\n             }\r\n             \r\n             // Parse HBars\r\n             var hbars = prop['chart.background.hbars'];\r\n             if (hbars) {\r\n                 for (i=0; i<hbars.length; ++i) {\r\n                     hbars[i][2] = this.parseSingleColorForGradient(hbars[i][2]);\r\n                 }\r\n             }\r\n             \r\n             // Parse HBars\r\n             var vbars = prop['chart.background.vbars'];\r\n             if (vbars) {\r\n                 for (i=0; i<vbars.length; ++i) {\r\n                     vbars[i][2] = this.parseSingleColorForGradient(vbars[i][2]);\r\n                 }\r\n             }\r\n             \r\n             // Parse line colors\r\n             var colors = prop['chart.line.colors'];\r\n             if (colors) {\r\n                 for (i=0; i<colors.length; ++i) {\r\n                     colors[i] = this.parseSingleColorForGradient(colors[i]);\r\n                 }\r\n             }\r\n     \r\n              prop['chart.defaultcolor']          = this.parseSingleColorForGradient(prop['chart.defaultcolor']);\r\n              prop['chart.crosshairs.color']      = this.parseSingleColorForGradient(prop['chart.crosshairs.color']);\r\n              prop['chart.highlight.stroke']      = this.parseSingleColorForGradient(prop['chart.highlight.stroke']);\r\n              prop['chart.highlight.fill']        = this.parseSingleColorForGradient(prop['chart.highlight.fill']);\r\n              prop['chart.background.barcolor1']  = this.parseSingleColorForGradient(prop['chart.background.barcolor1']);\r\n              prop['chart.background.barcolor2']  = this.parseSingleColorForGradient(prop['chart.background.barcolor2']);\r\n              prop['chart.background.grid.color'] = this.parseSingleColorForGradient(prop['chart.background.grid.color']);\r\n              prop['chart.axis.color']            = this.parseSingleColorForGradient(prop['chart.axis.color']);\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This parses a single color value for a gradient\r\n         */\r\n         this.parseSingleColorForGradient = function (color)\r\n         {\r\n             if (!color || typeof(color) != 'string') {\r\n                 return color;\r\n             }\r\n     \r\n             if (color.match(/^gradient\\((.*)\\)$/i)) {\r\n                 \r\n                 var parts = RegExp.$1.split(':');\r\n     \r\n                 // Create the gradient\r\n                 var grad = co.createLinearGradient(0,ca.height - prop['chart.gutter.bottom'], 0, prop['chart.gutter.top']);\r\n     \r\n                 var diff = 1 / (parts.length - 1);\r\n     \r\n                 grad.addColorStop(0, RG.trim(parts[0]));\r\n     \r\n                 for (var j=1; j<parts.length; ++j) {\r\n                     grad.addColorStop(j * diff, RG.trim(parts[j]));\r\n                 }\r\n             }\r\n                 \r\n             return grad ? grad : color;\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * This function handles highlighting an entire data-series for the interactive\r\n         * key\r\n         * \r\n         * @param int index The index of the data series to be highlighted\r\n         */\r\n         this.interactiveKeyHighlight = function (index)\r\n         {\r\n             if (this.coords && this.coords[index] && this.coords[index].length) {\r\n                 this.coords[index].forEach(function (value, idx, arr)\r\n                 {\r\n                     co.beginPath();\r\n                     co.fillStyle = prop['chart.key.interactive.highlight.chart.fill'];\r\n                     co.arc(value[0], value[1], prop['chart.ticksize'] + 3, 0, TWOPI, false);\r\n                     co.fill();\r\n                 });\r\n             }\r\n         }\r\n \r\n \r\n \r\n \r\n         /**\r\n         * Register the object\r\n         */\r\n         RG.Register(this);\r\n     }\r\n\r\n\r\nexport default RGraph;"],"sourceRoot":""}